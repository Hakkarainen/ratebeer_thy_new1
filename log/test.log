  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$4k472pZ5fC8EebDxxon0CuZW2FvCVsPonJOGBsrrhN5fMeDb57I82"], ["created_at", "2017-02-10 09:19:27.128209"], ["updated_at", "2017-02-10 09:19:27.128209"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "testbeer"], ["style", "teststyle"], ["created_at", "2017-02-10 09:19:27.192965"], ["updated_at", "2017-02-10 09:19:27.192965"]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "user_id", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["user_id", 1], ["beer_id", 1], ["created_at", "2017-02-10 09:19:27.195011"], ["updated_at", "2017-02-10 09:19:27.195011"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["user_id", 1], ["beer_id", 1], ["created_at", "2017-02-10 09:19:27.196910"], ["updated_at", "2017-02-10 09:19:27.196910"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5T8erW7fHmPZCjT6FeWeYOAd43LeI3z9w2USCuAXszytuUKEAp6C6"], ["created_at", "2017-02-10 09:43:59.943796"], ["updated_at", "2017-02-10 09:43:59.943796"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Eyilg7WXXPZCquxGEE7BVenUZuw7fJADbZgC/jLGsn4p80xdZjV3G"], ["created_at", "2017-02-10 09:43:59.971765"], ["updated_at", "2017-02-10 09:43:59.971765"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 09:44:00.001165"], ["updated_at", "2017-02-10 09:44:00.001165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 09:44:00.003964"], ["updated_at", "2017-02-10 09:44:00.003964"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (4.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tiF9GFrkYY.x2XLMK2pdyuD3dGnAXUmoMGIQm5uVtV9UvQ9tCUnS2"], ["created_at", "2017-02-10 09:48:31.478589"], ["updated_at", "2017-02-10 09:48:31.478589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$HbXCvI8KsVfpR8ki19d.teD8YbGJ9I7EzF3ieC7Nap6Ej9MPM8.dG"], ["created_at", "2017-02-10 09:48:31.504919"], ["updated_at", "2017-02-10 09:48:31.504919"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 09:48:31.532926"], ["updated_at", "2017-02-10 09:48:31.532926"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 09:48:31.535602"], ["updated_at", "2017-02-10 09:48:31.535602"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$3NU/rKgHfZeYLfgiTXR4huP4sNTThW1LVkc0yK5t0spytC2PahaF6"], ["created_at", "2017-02-10 09:50:33.566795"], ["updated_at", "2017-02-10 09:50:33.566795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$gPTO51GMmL3xTsXNNJKN4eQZiMup5Gj0B.eH9pgmG9wM3WS3QfVja"], ["created_at", "2017-02-10 09:50:33.593332"], ["updated_at", "2017-02-10 09:50:33.593332"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 09:50:33.623780"], ["updated_at", "2017-02-10 09:50:33.623780"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 09:50:33.626400"], ["updated_at", "2017-02-10 09:50:33.626400"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$H8Tm0uS0il.hJ2SVKfVu1.FhYEvgvZmryBTheB9vvHF2z/EgqJ.ZO"], ["created_at", "2017-02-10 09:51:37.984349"], ["updated_at", "2017-02-10 09:51:37.984349"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wHSR5N4cDdACWdG7iJwtculxXpsmNE9XGtqIKEffHQynNnBAvcs7u"], ["created_at", "2017-02-10 09:51:38.010238"], ["updated_at", "2017-02-10 09:51:38.010238"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 09:51:38.039169"], ["updated_at", "2017-02-10 09:51:38.039169"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 09:51:38.041992"], ["updated_at", "2017-02-10 09:51:38.041992"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$byvwwuxW4GiX7CP..qAy.uzqUPKrMIRVN8lo9F9Lvt1Ov2CK8R7lu"], ["created_at", "2017-02-10 10:11:42.829450"], ["updated_at", "2017-02-10 10:11:42.829450"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$SUtbX7se8wSXMAVKfe9oa.LVsuzYPMv1b0mAGJEzQ32jAVUDW2LMG"], ["created_at", "2017-02-10 10:11:42.856654"], ["updated_at", "2017-02-10 10:11:42.856654"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 10:11:42.885432"], ["updated_at", "2017-02-10 10:11:42.885432"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 10:11:42.888177"], ["updated_at", "2017-02-10 10:11:42.888177"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "beers" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Karjala"], ["created_at", "2017-02-10 10:28:17.806689"], ["updated_at", "2017-02-10 10:28:17.806689"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$8gIrHfVJXJfOql1qvBYevurkTTVAYwYcSuOF0U2fA1k.ng5hDOlUS"], ["created_at", "2017-02-10 10:28:17.909853"], ["updated_at", "2017-02-10 10:28:17.909853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$hYLzpY5nnCv.T7y4FUDpvOUVfIdCv8O9GqyO6o8bxGRWnjrcZoIi6"], ["created_at", "2017-02-10 10:28:17.930995"], ["updated_at", "2017-02-10 10:28:17.930995"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 10:28:17.959985"], ["updated_at", "2017-02-10 10:28:17.959985"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 10:28:17.962631"], ["updated_at", "2017-02-10 10:28:17.962631"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "beers" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Karjala"], ["created_at", "2017-02-10 10:51:14.604720"], ["updated_at", "2017-02-10 10:51:14.604720"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$io9KFwIgEPyUPmjpMg39QeHfFW5iJSxL.zsaBag77sM9.mqGF.PT2"], ["created_at", "2017-02-10 10:51:14.717317"], ["updated_at", "2017-02-10 10:51:14.717317"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$eZxBFKWKhbyfM5IVnWY9wuwJkKg8NiEq76Md7ASk8SfDuBT0OVkRK"], ["created_at", "2017-02-10 10:51:14.738765"], ["updated_at", "2017-02-10 10:51:14.738765"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 10:51:14.767660"], ["updated_at", "2017-02-10 10:51:14.767660"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 10:51:14.771594"], ["updated_at", "2017-02-10 10:51:14.771594"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 10:58:43.170587"], ["updated_at", "2017-02-10 10:58:43.170587"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$VQWk0JB08ClluFch1T63S.f4iR1GULOpQ4mG6LNlh30l5TNScqPtK"], ["created_at", "2017-02-10 10:58:43.286377"], ["updated_at", "2017-02-10 10:58:43.286377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$z9bClVXsi6Tw8r8uyX698eiVfPocoAUiqdR.L8dB7SkzF8EnUpsvy"], ["created_at", "2017-02-10 10:58:43.308591"], ["updated_at", "2017-02-10 10:58:43.308591"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 10:58:43.342911"], ["updated_at", "2017-02-10 10:58:43.342911"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 10:58:43.346876"], ["updated_at", "2017-02-10 10:58:43.346876"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 11:02:34.688803"], ["updated_at", "2017-02-10 11:02:34.688803"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Ca1UgoQ7KYVyc6jvGcz8bODBRB2iOPi9n5tYTwKgrDVUTg4nHbwl."], ["created_at", "2017-02-10 11:02:34.755432"], ["updated_at", "2017-02-10 11:02:34.755432"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mJdYVc8DKYc27wVv62ddOOW/NQxnCY3DWWFgIyfp4SVksiSlD6xOW"], ["created_at", "2017-02-10 11:02:34.779348"], ["updated_at", "2017-02-10 11:02:34.779348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 11:02:34.811693"], ["updated_at", "2017-02-10 11:02:34.811693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 11:02:34.814816"], ["updated_at", "2017-02-10 11:02:34.814816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 11:04:08.283148"], ["updated_at", "2017-02-10 11:04:08.283148"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wKFn.Sk7Cc11o40.4QLsMecN89VTX9g7v6sOOsZA.w5gLu6KX6YSq"], ["created_at", "2017-02-10 11:04:08.347270"], ["updated_at", "2017-02-10 11:04:08.347270"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tXPNaym8sCtPHPfcdTWzsO6TbWCxAm/8XD2UFlHsMqwGUFXB0Rglq"], ["created_at", "2017-02-10 11:04:08.368060"], ["updated_at", "2017-02-10 11:04:08.368060"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 11:04:08.400315"], ["updated_at", "2017-02-10 11:04:08.400315"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 11:04:08.403149"], ["updated_at", "2017-02-10 11:04:08.403149"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 11:05:12.879642"], ["updated_at", "2017-02-10 11:05:12.879642"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Wdw73ruT79DeK9dRXaCqtOIJQ7F5Cu8TWb7VhUa5FvxydhLbDvgVe"], ["created_at", "2017-02-10 11:05:12.947510"], ["updated_at", "2017-02-10 11:05:12.947510"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (4.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$teaasn/zRpqCc0gfw4QP1OZ7blIqzLQHMoyHAP8zl3JKWP4cfgt2e"], ["created_at", "2017-02-10 11:05:12.972033"], ["updated_at", "2017-02-10 11:05:12.972033"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 11:05:13.004155"], ["updated_at", "2017-02-10 11:05:13.004155"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 11:05:13.006946"], ["updated_at", "2017-02-10 11:05:13.006946"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$DUwg3GgW3MVS7HY2saJLx.7GpZAqCTARAjrRV0hVYZmr4sg8CZxBy"], ["created_at", "2017-02-10 11:16:58.364042"], ["updated_at", "2017-02-10 11:16:58.364042"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$KW10SDyaauKEdhc/rZcxHehynqDfO0MdA49r2XEq9LlI3V/NMFHJC"], ["created_at", "2017-02-10 11:16:58.387947"], ["updated_at", "2017-02-10 11:16:58.387947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 11:16:58.419687"], ["updated_at", "2017-02-10 11:16:58.419687"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 11:16:58.422507"], ["updated_at", "2017-02-10 11:16:58.422507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 11:17:50.238812"], ["updated_at", "2017-02-10 11:17:50.238812"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ey3qWu1bJQwfwDmvGSRTqull9C7CApx8nFAj1R61OvD2XFnceRxUe"], ["created_at", "2017-02-10 11:17:50.304537"], ["updated_at", "2017-02-10 11:17:50.304537"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$idVwonHdix9gKdWLLIe3RuJbCuXdcQn/MKhjBHsW1HhZduTKEk.jK"], ["created_at", "2017-02-10 11:17:50.325384"], ["updated_at", "2017-02-10 11:17:50.325384"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 10], ["user_id", 1], ["created_at", "2017-02-10 11:17:50.356270"], ["updated_at", "2017-02-10 11:17:50.356270"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 20], ["user_id", 1], ["created_at", "2017-02-10 11:17:50.359051"], ["updated_at", "2017-02-10 11:17:50.359051"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 17:31:31.658308"], ["updated_at", "2017-02-10 17:31:31.658308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$dMrYN929p.dipjPxAt4CI.7AcUck94ZhKgjxgtGW6iGYRGtU.377y"], ["created_at", "2017-02-10 17:31:31.727388"], ["updated_at", "2017-02-10 17:31:31.727388"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$SGmCOgqR3ahznq0asgBnDexjGDnx6UaBgvY68DIpYd0XFBOosuG/2"], ["created_at", "2017-02-10 17:31:31.739378"], ["updated_at", "2017-02-10 17:31:31.739378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["score", 10], ["created_at", "2017-02-10 17:31:31.788714"], ["updated_at", "2017-02-10 17:31:31.788714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-10 17:31:31.798044"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["score", 20], ["created_at", "2017-02-10 17:31:31.815782"], ["updated_at", "2017-02-10 17:31:31.815782"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-10 17:31:31.817618"], ["id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:03:25.198873"], ["updated_at", "2017-02-10 18:03:25.198873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:03:25.218418"], ["updated_at", "2017-02-10 18:03:25.218418"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:03:25.225004"], ["updated_at", "2017-02-10 18:03:25.225004"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:03:25.227275"], ["updated_at", "2017-02-10 18:03:25.227275"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:03:25.229755"], ["updated_at", "2017-02-10 18:03:25.229755"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:03:25.232259"], ["updated_at", "2017-02-10 18:03:25.232259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:03:25.235008"], ["updated_at", "2017-02-10 18:03:25.235008"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-10 18:03:25.237092"], ["updated_at", "2017-02-10 18:03:25.237092"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 18:03:25.242646"], ["updated_at", "2017-02-10 18:03:25.242646"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$8XmP.fs537EIfSKpzftPhuRJHpodEFr0SsW6nhoSeNv6XN6ZYpA1q"], ["created_at", "2017-02-10 18:03:25.297264"], ["updated_at", "2017-02-10 18:03:25.297264"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$auGl66PG3MscwWm6kDxIZ.a3Yvm4muCGHAqj/yXt6NxvLBCe9QmFe"], ["created_at", "2017-02-10 18:03:25.314699"], ["updated_at", "2017-02-10 18:03:25.314699"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$D3jbbjQr8VXL9YakuLS8yOgKnRan2P6IHzUkwVXMpiqrM0huyl06e"], ["created_at", "2017-02-10 18:03:25.347322"], ["updated_at", "2017-02-10 18:03:25.347322"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$fAwRkC6jUoerizdTqVIdp.WwLMiWlFyxjeCTjWHLaLm5OQ0rnaF.K"], ["created_at", "2017-02-10 18:03:25.357783"], ["updated_at", "2017-02-10 18:03:25.357783"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 10], ["created_at", "2017-02-10 18:03:25.366000"], ["updated_at", "2017-02-10 18:03:25.366000"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:03:25.369161"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 20], ["created_at", "2017-02-10 18:03:25.382132"], ["updated_at", "2017-02-10 18:03:25.382132"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:03:25.384690"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 18:11:00.362919"], ["updated_at", "2017-02-10 18:11:00.362919"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:11:00.387153"], ["updated_at", "2017-02-10 18:11:00.387153"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:11:00.400143"], ["updated_at", "2017-02-10 18:11:00.400143"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:11:00.403183"], ["updated_at", "2017-02-10 18:11:00.403183"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:11:00.405029"], ["updated_at", "2017-02-10 18:11:00.405029"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$TZWd8CoiFimXIFYiaGIjxOHk6RGIBw9aLcN/Ju4sJUlnmVbzXzMtS"], ["created_at", "2017-02-10 18:11:00.432639"], ["updated_at", "2017-02-10 18:11:00.432639"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:11:00.442900"], ["updated_at", "2017-02-10 18:11:00.442900"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:11:00.476462"], ["updated_at", "2017-02-10 18:11:00.476462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:11:00.478823"], ["updated_at", "2017-02-10 18:11:00.478823"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:11:00.481189"], ["updated_at", "2017-02-10 18:11:00.481189"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:11:00.483181"], ["updated_at", "2017-02-10 18:11:00.483181"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:11:00.485374"], ["updated_at", "2017-02-10 18:11:00.485374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-10 18:11:00.487049"], ["updated_at", "2017-02-10 18:11:00.487049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$slElePcxv2HADg4yl6My/e6TBtfHD9Ocb2nZw10ybPK6WYh0BvlEy"], ["created_at", "2017-02-10 18:11:00.491283"], ["updated_at", "2017-02-10 18:11:00.491283"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-10 18:11:00.493635"], ["updated_at", "2017-02-10 18:11:00.493635"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:11:00.495612"], ["updated_at", "2017-02-10 18:11:00.495612"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-10 18:11:00.497438"], ["updated_at", "2017-02-10 18:11:00.497438"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$2YtAKHszMQ19Wxiuf6sFWuKE6Eod1B9R9wMwwtvTRCEvLtfPEiTn6"], ["created_at", "2017-02-10 18:11:00.529384"], ["updated_at", "2017-02-10 18:11:00.529384"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$F5GTSHQwQRdrMepzTiVEAuwhGUAzCIYbkMKnr8861uvScjfJNg68i"], ["created_at", "2017-02-10 18:11:00.540089"], ["updated_at", "2017-02-10 18:11:00.540089"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$yrxsGAqaXeapm/f2dMruIO4FvYVGYS0PRn/I2eLnMQmSdRd2zlIe2"], ["created_at", "2017-02-10 18:11:00.548941"], ["updated_at", "2017-02-10 18:11:00.548941"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$4ZMTdKDd5dbJ/h13tjP9LOrDQBs/eK952h5dus1qi.nqVEiG/bJx2"], ["created_at", "2017-02-10 18:11:00.559554"], ["updated_at", "2017-02-10 18:11:00.559554"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 10], ["created_at", "2017-02-10 18:11:00.562252"], ["updated_at", "2017-02-10 18:11:00.562252"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:11:00.564170"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 20], ["created_at", "2017-02-10 18:11:00.575718"], ["updated_at", "2017-02-10 18:11:00.575718"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:11:00.577515"], ["id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 18:25:17.062888"], ["updated_at", "2017-02-10 18:25:17.062888"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$/BxRYpTxziIsDHelFk/Fz.Wa9Km.Rb3n1hOEQ2pCR/qvsgO/AlkaS"], ["created_at", "2017-02-10 18:25:17.129984"], ["updated_at", "2017-02-10 18:25:17.129984"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$6eXDXCui1kIDYomMd1IzgOn8H5kpwhsPcyPJppn5E.KKLlIarI632"], ["created_at", "2017-02-10 18:25:17.142466"], ["updated_at", "2017-02-10 18:25:17.142466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$251l6ClwdkPRJMO6cw2Wmeju4RKv1NGWYA7/1Gr7vdM8gLQNPEcaG"], ["created_at", "2017-02-10 18:25:17.176023"], ["updated_at", "2017-02-10 18:25:17.176023"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$iFdD7YcM2f40NQks6LjPNeiMY45.cnmoEZ7K4VA1ZQPmU2wmpOMiS"], ["created_at", "2017-02-10 18:25:17.186688"], ["updated_at", "2017-02-10 18:25:17.186688"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 10], ["created_at", "2017-02-10 18:25:17.195536"], ["updated_at", "2017-02-10 18:25:17.195536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:25:17.204709"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 20], ["created_at", "2017-02-10 18:25:17.216389"], ["updated_at", "2017-02-10 18:25:17.216389"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:25:17.218347"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:25:17.242559"], ["updated_at", "2017-02-10 18:25:17.242559"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:25:17.246129"], ["updated_at", "2017-02-10 18:25:17.246129"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:25:17.248998"], ["updated_at", "2017-02-10 18:25:17.248998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:25:17.250760"], ["updated_at", "2017-02-10 18:25:17.250760"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$F/vzp2.pEgQrMQCmM/VlP.THviQM8H0HRsu8luyvJcT0TowH6QFOO"], ["created_at", "2017-02-10 18:25:17.255177"], ["updated_at", "2017-02-10 18:25:17.255177"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:25:17.258746"], ["updated_at", "2017-02-10 18:25:17.258746"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:25:17.268357"], ["updated_at", "2017-02-10 18:25:17.268357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:25:17.272018"], ["updated_at", "2017-02-10 18:25:17.272018"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:25:17.275764"], ["updated_at", "2017-02-10 18:25:17.275764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:25:17.277783"], ["updated_at", "2017-02-10 18:25:17.277783"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:25:17.279851"], ["updated_at", "2017-02-10 18:25:17.279851"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-10 18:25:17.281450"], ["updated_at", "2017-02-10 18:25:17.281450"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mUZoIaQj3O6wjSZzsiLqsehlgyIxfSkcAaiiHfTFOuhvCO8/.o9xm"], ["created_at", "2017-02-10 18:25:17.285632"], ["updated_at", "2017-02-10 18:25:17.285632"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-10 18:25:17.287919"], ["updated_at", "2017-02-10 18:25:17.287919"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 25], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:25:17.289862"], ["updated_at", "2017-02-10 18:25:17.289862"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 9], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-10 18:25:17.291802"], ["updated_at", "2017-02-10 18:25:17.291802"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 18:42:08.142072"], ["updated_at", "2017-02-10 18:42:08.142072"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$MkL1meRPvDn4sWvfg935KO91QzGfJ8ToIKbPzR.H7TVXV2hCyj3Bu"], ["created_at", "2017-02-10 18:42:08.205493"], ["updated_at", "2017-02-10 18:42:08.205493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$l2/lkW6q7JLKL39zRurjRO6KYleUDTjh3N.QcZGo7f3c3Ase5Wdlq"], ["created_at", "2017-02-10 18:42:08.216434"], ["updated_at", "2017-02-10 18:42:08.216434"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$HZry4uB4KyzNfxv0SiH0cenc8fp2gNGB607sAtVJ0oHezsNfKPnLG"], ["created_at", "2017-02-10 18:42:08.251266"], ["updated_at", "2017-02-10 18:42:08.251266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$STaxIs8BrwbyAbkJ3UWm1erHSFl4HBICjLpJzNqtzGnTwCteeZWRy"], ["created_at", "2017-02-10 18:42:08.262661"], ["updated_at", "2017-02-10 18:42:08.262661"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 10], ["created_at", "2017-02-10 18:42:08.270841"], ["updated_at", "2017-02-10 18:42:08.270841"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:42:08.280530"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 20], ["created_at", "2017-02-10 18:42:08.291732"], ["updated_at", "2017-02-10 18:42:08.291732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:42:08.293587"], ["id", 2]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:42:08.315779"], ["updated_at", "2017-02-10 18:42:08.315779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:42:08.319268"], ["updated_at", "2017-02-10 18:42:08.319268"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:42:08.321851"], ["updated_at", "2017-02-10 18:42:08.321851"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:42:08.323575"], ["updated_at", "2017-02-10 18:42:08.323575"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$QKrVnMnEOOqmnGf7bTZozO5dlwbHr13sUkMbqkdeCdLFdQ2GXP1qm"], ["created_at", "2017-02-10 18:42:08.327884"], ["updated_at", "2017-02-10 18:42:08.327884"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:42:08.331176"], ["updated_at", "2017-02-10 18:42:08.331176"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$/z7rTzoR3bAllrJTVICJ0.9ca/jlvBAEbTe65AD9m.lwBP1lL8iSm"], ["created_at", "2017-02-10 18:42:08.342179"], ["updated_at", "2017-02-10 18:42:08.342179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 18:45:14.590630"], ["updated_at", "2017-02-10 18:45:14.590630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$yz9IoGlNNKsa9iDMWVR0LulsJ5phtMV1On5LDIfWJXlQduHf2S3Iy"], ["created_at", "2017-02-10 18:45:14.657419"], ["updated_at", "2017-02-10 18:45:14.657419"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wgUqA4oX1nfhlY/2hPRNceR1lGzAkyK90TTQ1fw9x0nUcvEr.thiO"], ["created_at", "2017-02-10 18:45:14.669906"], ["updated_at", "2017-02-10 18:45:14.669906"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$V/zmPCLxJECRxpnYCORmV.4IB6jswaQyaYD1So6PZgB.HOTPM7HhG"], ["created_at", "2017-02-10 18:45:14.705413"], ["updated_at", "2017-02-10 18:45:14.705413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$qln92ZmCvSP8Ph7vWuBRQuMdG/fKsw3DuFPfrbYpnJ5gRnqCSsC5O"], ["created_at", "2017-02-10 18:45:14.715944"], ["updated_at", "2017-02-10 18:45:14.715944"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 10], ["created_at", "2017-02-10 18:45:14.725859"], ["updated_at", "2017-02-10 18:45:14.725859"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:45:14.735350"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 20], ["created_at", "2017-02-10 18:45:14.748557"], ["updated_at", "2017-02-10 18:45:14.748557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:45:14.751459"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:45:14.777445"], ["updated_at", "2017-02-10 18:45:14.777445"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:45:14.780983"], ["updated_at", "2017-02-10 18:45:14.780983"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:45:14.783585"], ["updated_at", "2017-02-10 18:45:14.783585"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:45:14.785301"], ["updated_at", "2017-02-10 18:45:14.785301"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ZMzbcHQlkCbs3aUamP2D/Ohs.INtyCBCpiep7xg.VctkLvlg8cGUi"], ["created_at", "2017-02-10 18:45:14.789711"], ["updated_at", "2017-02-10 18:45:14.789711"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:45:14.792891"], ["updated_at", "2017-02-10 18:45:14.792891"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$PT7WJqrvo3T/J0K.rMrV6.nmbbJq6KO7gwyyGcdsLbxYrpiJibKxu"], ["created_at", "2017-02-10 18:45:14.804300"], ["updated_at", "2017-02-10 18:45:14.804300"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:45:14.807120"], ["updated_at", "2017-02-10 18:45:14.807120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:45:14.810192"], ["updated_at", "2017-02-10 18:45:14.810192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-10 18:45:14.812898"], ["updated_at", "2017-02-10 18:45:14.812898"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:45:14.815066"], ["updated_at", "2017-02-10 18:45:14.815066"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:45:14.816719"], ["updated_at", "2017-02-10 18:45:14.816719"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 25], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:45:14.818944"], ["updated_at", "2017-02-10 18:45:14.818944"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:45:14.820936"], ["updated_at", "2017-02-10 18:45:14.820936"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-10 18:45:14.822520"], ["updated_at", "2017-02-10 18:45:14.822520"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-10 18:45:14.824683"], ["updated_at", "2017-02-10 18:45:14.824683"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.659283"], ["updated_at", "2017-02-10 18:54:57.659283"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tmc9L5jITAEpVEHq8T0yXu.0XDrMjE0JxWGFqwyqOxhHZEbp7CsLW"], ["created_at", "2017-02-10 18:54:57.717229"], ["updated_at", "2017-02-10 18:54:57.717229"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$6g.9ZS30frspveIdww0UduVXlsqdkJ8DuCaB05G7ZbNsnPePYCi56"], ["created_at", "2017-02-10 18:54:57.727568"], ["updated_at", "2017-02-10 18:54:57.727568"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$6fFs9t8p8SneyP4GAXXJlu.JZgTbBMx.vuUH2IADdA9515r7upk4W"], ["created_at", "2017-02-10 18:54:57.761004"], ["updated_at", "2017-02-10 18:54:57.761004"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ivgl3aKq4.qLweE550er7.Ow8I5NkpnrGgRE9spDVqN952OSxq6.G"], ["created_at", "2017-02-10 18:54:57.771397"], ["updated_at", "2017-02-10 18:54:57.771397"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 10], ["created_at", "2017-02-10 18:54:57.779239"], ["updated_at", "2017-02-10 18:54:57.779239"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:54:57.788220"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)  [["score", 20], ["created_at", "2017-02-10 18:54:57.800451"], ["updated_at", "2017-02-10 18:54:57.800451"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-10 18:54:57.802403"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ZWyWDi6jPxffyLU0JlEzr.DDnVWip6E7rhgFtrqzPk7fHcVGG3Ste"], ["created_at", "2017-02-10 18:54:57.817437"], ["updated_at", "2017-02-10 18:54:57.817437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$rzfrXHQd8oBhTb4pF1S9NeCA08OJKIjdOZR6M5rbzp3NJUKUOR6pW"], ["created_at", "2017-02-10 18:54:57.826024"], ["updated_at", "2017-02-10 18:54:57.826024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$f3BWyedceax7dleUvvORMOcgV4ww3Gq.cJSeqMLbUEW/DfeU8JJS6"], ["created_at", "2017-02-10 18:54:57.833982"], ["updated_at", "2017-02-10 18:54:57.833982"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:54:57.846764"], ["updated_at", "2017-02-10 18:54:57.846764"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.850423"], ["updated_at", "2017-02-10 18:54:57.850423"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-10 18:54:57.854357"], ["updated_at", "2017-02-10 18:54:57.854357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$i0ZHu3YpaOn5qxT0vWu23eo8OzNpxoqlsXZrHL/a/JWBErASJPr6S"], ["created_at", "2017-02-10 18:54:57.866792"], ["updated_at", "2017-02-10 18:54:57.866792"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:54:57.869627"], ["updated_at", "2017-02-10 18:54:57.869627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.873102"], ["updated_at", "2017-02-10 18:54:57.873102"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-10 18:54:57.875924"], ["updated_at", "2017-02-10 18:54:57.875924"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:54:57.878166"], ["updated_at", "2017-02-10 18:54:57.878166"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.880298"], ["updated_at", "2017-02-10 18:54:57.880298"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-10 18:54:57.882591"], ["updated_at", "2017-02-10 18:54:57.882591"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:54:57.884642"], ["updated_at", "2017-02-10 18:54:57.884642"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.886369"], ["updated_at", "2017-02-10 18:54:57.886369"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-10 18:54:57.888392"], ["updated_at", "2017-02-10 18:54:57.888392"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:54:57.890332"], ["updated_at", "2017-02-10 18:54:57.890332"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.891975"], ["updated_at", "2017-02-10 18:54:57.891975"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-10 18:54:57.893950"], ["updated_at", "2017-02-10 18:54:57.893950"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:54:57.895899"], ["updated_at", "2017-02-10 18:54:57.895899"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.897424"], ["updated_at", "2017-02-10 18:54:57.897424"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-10 18:54:57.899463"], ["updated_at", "2017-02-10 18:54:57.899463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-10 18:54:57.902162"], ["updated_at", "2017-02-10 18:54:57.902162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-10 18:54:57.905274"], ["updated_at", "2017-02-10 18:54:57.905274"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-10 18:54:57.908255"], ["updated_at", "2017-02-10 18:54:57.908255"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:36:26 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 1000ms (Views: 970.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:40:35 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 427ms (Views: 399.1ms | ActiveRecord: 0.6ms)
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:46:51 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 368ms (Views: 341.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:51:40 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 358ms (Views: 331.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-10 19:51:40.963024"], ["updated_at", "2017-02-10 19:51:40.963024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Karjala"], ["year", 1900], ["created_at", "2017-02-10 19:51:40.996337"], ["updated_at", "2017-02-10 19:51:40.996337"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Schlenkerla"], ["year", 1900], ["created_at", "2017-02-10 19:51:40.999853"], ["updated_at", "2017-02-10 19:51:40.999853"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:51:41 +0200
Processing by BreweriesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "breweries"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.3ms)
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:52:47 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 359ms (Views: 331.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-10 19:52:48.170469"], ["updated_at", "2017-02-10 19:52:48.170469"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Karjala"], ["year", 1900], ["created_at", "2017-02-10 19:52:48.180179"], ["updated_at", "2017-02-10 19:52:48.180179"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Schlenkerla"], ["year", 1900], ["created_at", "2017-02-10 19:52:48.186840"], ["updated_at", "2017-02-10 19:52:48.186840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:52:48 +0200
Processing by BreweriesController#index as HTML
  [1m[35m (4.1ms)[0m  SELECT COUNT(*) FROM "breweries"
  [1m[36mBrewery Load (0.5ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (24.2ms)
Completed 200 OK in 31ms (Views: 24.7ms | ActiveRecord: 4.6ms)
  [1m[35m (6.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:54:58 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 393ms (Views: 365.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-10 19:54:59.355080"], ["updated_at", "2017-02-10 19:54:59.355080"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Karjala"], ["year", 1900], ["created_at", "2017-02-10 19:54:59.363551"], ["updated_at", "2017-02-10 19:54:59.363551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Schlenkerla"], ["year", 1900], ["created_at", "2017-02-10 19:54:59.366407"], ["updated_at", "2017-02-10 19:54:59.366407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:54:59 +0200
Processing by BreweriesController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "breweries"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (4.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 19:54:59.394940"], ["updated_at", "2017-02-10 19:54:59.394940"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 19:54:59.397980"], ["updated_at", "2017-02-10 19:54:59.397980"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 19:54:59.400729"], ["updated_at", "2017-02-10 19:54:59.400729"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:54:59 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.2ms)
Started GET "/breweries/1" for 127.0.0.1 at 2017-02-10 21:54:59 +0200
Processing by BreweriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBrewery Load (0.4ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?[0m  [["brewery_id", 1]]
  [1m[35mRating Exists (0.7ms)[0m  SELECT  1 AS one FROM "ratings" INNER JOIN "beers" ON "ratings"."beer_id" = "beers"."id" WHERE "beers"."brewery_id" = ? LIMIT 1  [["brewery_id", 1]]
  Rendered breweries/show.html.erb within layouts/application (114.4ms)
Completed 200 OK in 144ms (Views: 118.9ms | ActiveRecord: 1.9ms)
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:57:02 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 359ms (Views: 330.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-10 19:57:03.101198"], ["updated_at", "2017-02-10 19:57:03.101198"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Karjala"], ["year", 1900], ["created_at", "2017-02-10 19:57:03.108527"], ["updated_at", "2017-02-10 19:57:03.108527"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Schlenkerla"], ["year", 1900], ["created_at", "2017-02-10 19:57:03.110724"], ["updated_at", "2017-02-10 19:57:03.110724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:57:03 +0200
Processing by BreweriesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "breweries"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 19:57:03.135230"], ["updated_at", "2017-02-10 19:57:03.135230"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 19:57:03.137827"], ["updated_at", "2017-02-10 19:57:03.137827"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 19:57:03.139952"], ["updated_at", "2017-02-10 19:57:03.139952"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 21:57:03 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
Started GET "/breweries/1" for 127.0.0.1 at 2017-02-10 21:57:03 +0200
Processing by BreweriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?[0m  [["brewery_id", 1]]
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" INNER JOIN "beers" ON "ratings"."beer_id" = "beers"."id" WHERE "beers"."brewery_id" = ? LIMIT 1  [["brewery_id", 1]]
  Rendered breweries/show.html.erb within layouts/application (61.6ms)
Completed 200 OK in 82ms (Views: 65.8ms | ActiveRecord: 1.2ms)
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:03:36 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 362ms (Views: 334.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 20:03:36.862352"], ["updated_at", "2017-02-10 20:03:36.862352"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 20:03:36.869498"], ["updated_at", "2017-02-10 20:03:36.869498"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 20:03:36.871745"], ["updated_at", "2017-02-10 20:03:36.871745"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:03:36 +0200
Processing by BreweriesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "breweries"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (4.6ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 20:03:36.896918"], ["updated_at", "2017-02-10 20:03:36.896918"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 20:03:36.900181"], ["updated_at", "2017-02-10 20:03:36.900181"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 20:03:36.903271"], ["updated_at", "2017-02-10 20:03:36.903271"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:03:36 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
Started GET "/breweries/1" for 127.0.0.1 at 2017-02-10 22:03:36 +0200
Processing by BreweriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBrewery Load (0.3ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?[0m  [["brewery_id", 1]]
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" INNER JOIN "beers" ON "ratings"."beer_id" = "beers"."id" WHERE "beers"."brewery_id" = ? LIMIT 1  [["brewery_id", 1]]
  Rendered breweries/show.html.erb within layouts/application (62.1ms)
Completed 200 OK in 82ms (Views: 67.6ms | ActiveRecord: 1.3ms)
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:04:29 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 364ms (Views: 337.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 20:04:29.471895"], ["updated_at", "2017-02-10 20:04:29.471895"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 20:04:29.479604"], ["updated_at", "2017-02-10 20:04:29.479604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 20:04:29.482015"], ["updated_at", "2017-02-10 20:04:29.482015"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:04:29 +0200
Processing by BreweriesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "breweries"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 20:04:29.508398"], ["updated_at", "2017-02-10 20:04:29.508398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 20:04:29.510835"], ["updated_at", "2017-02-10 20:04:29.510835"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 20:04:29.512978"], ["updated_at", "2017-02-10 20:04:29.512978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:04:29 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.2ms)
Started GET "/breweries/1" for 127.0.0.1 at 2017-02-10 22:04:29 +0200
Processing by BreweriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?[0m  [["brewery_id", 1]]
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" INNER JOIN "beers" ON "ratings"."beer_id" = "beers"."id" WHERE "beers"."brewery_id" = ? LIMIT 1  [["brewery_id", 1]]
  Rendered breweries/show.html.erb within layouts/application (58.3ms)
Completed 200 OK in 76ms (Views: 62.4ms | ActiveRecord: 1.3ms)
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ibzhI22sbfVATRJ3b1.9T.21tmmL9N45E51ST07ZRxAH4UGp6kD4S"], ["created_at", "2017-02-10 20:10:35.506425"], ["updated_at", "2017-02-10 20:10:35.506425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:10:35 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 352ms (Views: 337.1ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:10:35 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 17ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:10:35 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.6ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (56.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 70ms (Views: 66.9ms | ActiveRecord: 1.9ms)
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$vXssNvZBze.lM.j/4L89b.f/ZiF632teetYs3oN1E1bmGs4y0hfXW"], ["created_at", "2017-02-10 20:14:21.832437"], ["updated_at", "2017-02-10 20:14:21.832437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:14:21 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 343ms (Views: 328.5ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:14:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:14:22 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (85.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 111ms (Views: 105.3ms | ActiveRecord: 2.4ms)
  [1m[35m (3.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$8x7x88HmHn/6qbB6GVUaVOr.85h0Jkx4g0YwEwPaOM2lYCtVURawi"], ["created_at", "2017-02-10 20:14:22.384810"], ["updated_at", "2017-02-10 20:14:22.384810"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:14:22 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:14:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/signin
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:14:22 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Mcx0KWrrEBaxYThc2c9jiu87i6Gc5KRYwp90WQ0jcprWEZ7mi4lkS"], ["created_at", "2017-02-10 20:20:59.188239"], ["updated_at", "2017-02-10 20:20:59.188239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:20:59 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 349ms (Views: 334.6ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:20:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:20:59 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (55.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 70ms (Views: 66.5ms | ActiveRecord: 1.5ms)
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$HhMVreMg0vJjBt8Y7x.JfeUFNObtCzJkAyNR6eqx1wgSE9hpI1W22"], ["created_at", "2017-02-10 20:20:59.701588"], ["updated_at", "2017-02-10 20:20:59.701588"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:20:59 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:20:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/signin
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:20:59 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$t6c38JZAaEwvxABF6OrRqO.LjcVhoYhfPg/Qrq1jwxesPMh/FZrN2"], ["created_at", "2017-02-10 20:25:08.746475"], ["updated_at", "2017-02-10 20:25:08.746475"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:25:08 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 351ms (Views: 334.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:25:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:25:09 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (54.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 69ms (Views: 65.3ms | ActiveRecord: 1.6ms)
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$qFMkMMIBRVefLsHu2ZyjVOYHSA7394ksbSyA26vimC4OKGRvvaW4S"], ["created_at", "2017-02-10 20:25:09.261526"], ["updated_at", "2017-02-10 20:25:09.261526"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:25:09 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:25:09 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/signin
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:25:09 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$YRw8lz.ONkgQWZPKXT.uiuavwu6CM2XU9lQfSW6cvSIeYsv.90QX."], ["created_at", "2017-02-10 20:30:31.394788"], ["updated_at", "2017-02-10 20:30:31.394788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:30:31 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 350ms (Views: 332.5ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:30:31 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 17ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:30:31 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (55.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 72ms (Views: 68.8ms | ActiveRecord: 1.5ms)
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$.H/xvx0qOA.BppPvZajzdOqGfBLRW5ZaqYVclWmP1iXd/Xkdxe07W"], ["created_at", "2017-02-10 20:30:31.939581"], ["updated_at", "2017-02-10 20:30:31.939581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:30:31 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:30:31 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/signin
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:30:31 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-10 20:44:20.339922"], ["updated_at", "2017-02-10 20:44:20.339922"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 20:44:20.373284"], ["updated_at", "2017-02-10 20:44:20.373284"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 20:44:20.376503"], ["updated_at", "2017-02-10 20:44:20.376503"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ZZbwuBtDmxMRIqo4rdF56.6Haxtbo8WbFU//r7va5wdk0VL2QdRQ."], ["created_at", "2017-02-10 20:44:20.409792"], ["updated_at", "2017-02-10 20:44:20.409792"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:44:20 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 343ms (Views: 327.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:44:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:44:20 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (52.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 67ms (Views: 63.9ms | ActiveRecord: 1.6ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-10 22:44:20 +0200
Processing by RatingsController#new as HTML
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT "beers".* FROM "beers"[0m
  [1m[35mBrewery Load (0.2ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (48.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 71ms (Views: 63.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-10 22:44:21 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-10 20:44:21.011895"], ["updated_at", "2017-02-10 20:44:21.011895"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-10 20:44:21.015981"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:44:21 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (8.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-10 20:57:20.343410"], ["updated_at", "2017-02-10 20:57:20.343410"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 20:57:20.373569"], ["updated_at", "2017-02-10 20:57:20.373569"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-10 20:57:20.376649"], ["updated_at", "2017-02-10 20:57:20.376649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$8IJUCQQ3dCDOiNg0KlHjj.n.IxK4k.LYCXz/M7FuhZfWcETZ.cXBS"], ["created_at", "2017-02-10 20:57:20.411502"], ["updated_at", "2017-02-10 20:57:20.411502"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:57:20 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 346ms (Views: 330.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:57:20 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:57:20 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (50.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 65ms (Views: 61.6ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-10 22:57:20 +0200
Processing by RatingsController#new as HTML
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT "beers".* FROM "beers"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 51ms (Views: 44.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-10 22:57:20 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-10 20:57:20.993696"], ["updated_at", "2017-02-10 20:57:20.993696"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-10 20:57:20.998010"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:57:21 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (9.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (4.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$oJFauqVfCbRRisR1tjO.G.uPCGglTi0YARue2A3CedEr6Aq2sq5e6"], ["created_at", "2017-02-10 20:57:58.640685"], ["updated_at", "2017-02-10 20:57:58.640685"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signup" for 127.0.0.1 at 2017-02-10 22:57:58 +0200
Processing by UsersController#new as HTML
  Rendered users/_form.html.erb (32.3ms)
  Rendered users/new.html.erb within layouts/application (55.0ms)
Completed 200 OK in 395ms (Views: 379.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by UsersController#create as HTML
  Parameters: {"utf8"=>"✓", "user"=>{"username"=>"Brian", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create User"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Brian' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Brian"], ["password_digest", "$2a$04$7tW2MHO2kp9nB.hJLw6P5u.LJxLzgHIMRayx8fX4x5rpd1B.JLPXu"], ["created_at", "2017-02-10 20:57:59.104647"], ["updated_at", "2017-02-10 20:57:59.104647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/2
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
Started GET "/users/2" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 2]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 2]]
  Rendered users/show.html.erb within layouts/application (53.7ms)
Completed 200 OK in 72ms (Views: 57.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ZgznQVyTvuXm4whqmtDm4OR7BH6xtsJKpbxeqhjdrCoQRgkMbDGD6"], ["created_at", "2017-02-10 20:57:59.193008"], ["updated_at", "2017-02-10 20:57:59.193008"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.0ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (4.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$NEOfjsJR56HD7d1ADFCAC.wWgWStfRZE1Plfsj4ffQjOtoGAs9/zy"], ["created_at", "2017-02-10 20:57:59.261794"], ["updated_at", "2017-02-10 20:57:59.261794"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/signin
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/signin" for 127.0.0.1 at 2017-02-10 22:57:59 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:58:24 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 358ms (Views: 330.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 20:58:24.566952"], ["updated_at", "2017-02-10 20:58:24.566952"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 20:58:24.574581"], ["updated_at", "2017-02-10 20:58:24.574581"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 20:58:24.576896"], ["updated_at", "2017-02-10 20:58:24.576896"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:58:24 +0200
Processing by BreweriesController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "breweries"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered breweries/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.2ms)
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1897], ["created_at", "2017-02-10 20:58:24.600741"], ["updated_at", "2017-02-10 20:58:24.600741"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Karjala"], ["year", 1898], ["created_at", "2017-02-10 20:58:24.603134"], ["updated_at", "2017-02-10 20:58:24.603134"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Schlenkerla"], ["year", 1899], ["created_at", "2017-02-10 20:58:24.605159"], ["updated_at", "2017-02-10 20:58:24.605159"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/breweries" for 127.0.0.1 at 2017-02-10 22:58:24 +0200
Processing by BreweriesController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "breweries"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered breweries/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
Started GET "/breweries/1" for 127.0.0.1 at 2017-02-10 22:58:24 +0200
Processing by BreweriesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "beers" WHERE "beers"."brewery_id" = ?  [["brewery_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT "beers".* FROM "beers" WHERE "beers"."brewery_id" = ?[0m  [["brewery_id", 1]]
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" INNER JOIN "beers" ON "ratings"."beer_id" = "beers"."id" WHERE "beers"."brewery_id" = ? LIMIT 1  [["brewery_id", 1]]
  Rendered breweries/show.html.erb within layouts/application (63.4ms)
Completed 200 OK in 82ms (Views: 68.4ms | ActiveRecord: 1.3ms)
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 12:49:30 +0200
Processing by BeersController#new as HTML
  [1m[36mBrewery Load (2.6ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered beers/_form.html.erb (52.6ms)
  Rendered beers/new.html.erb within layouts/application (64.1ms)
Completed 200 OK in 464ms (Views: 422.3ms | ActiveRecord: 3.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 12:49:31 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (3.0ms)
  Rendered beers/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 12:49:31 +0200
Processing by BeersController#new as HTML
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered beers/_form.html.erb (2.8ms)
  Rendered beers/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
Started POST "/beers" for 127.0.0.1 at 2017-02-11 12:49:31 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"name"=>"", "style"=>"Weizen"}, "commit"=>"Create Beer"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (3.5ms)
  Rendered beers/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 12:52:38 +0200
Processing by BeersController#new as HTML
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered beers/_form.html.erb (50.5ms)
  Rendered beers/new.html.erb within layouts/application (61.2ms)
Completed 200 OK in 433ms (Views: 393.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 12:52:39 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.3ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (3.0ms)
  Rendered beers/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
Started POST "/beers" for 127.0.0.1 at 2017-02-11 12:52:39 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"name"=>"Koff", "style"=>"Lager"}, "commit"=>"Create Beer"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "beers" ("name", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["style", "Lager"], ["created_at", "2017-02-11 10:52:39.406428"], ["updated_at", "2017-02-11 10:52:39.406428"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/beers
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started GET "/beers" for 127.0.0.1 at 2017-02-11 12:52:39 +0200
Processing by BeersController#index as HTML
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT "beers".* FROM "beers"[0m
  Rendered beers/index.html.erb within layouts/application (328823.8ms)
Completed 500 Internal Server Error in 328828ms (ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 12:58:08 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.3ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (4.3ms)
  Rendered beers/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.3ms)
Started POST "/beers" for 127.0.0.1 at 2017-02-11 12:58:08 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"name"=>"", "style"=>"Weizen"}, "commit"=>"Create Beer"}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered beers/_form.html.erb (3.6ms)
  Rendered beers/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "beers"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "kiljula"], ["year", 1900], ["created_at", "2017-02-11 11:02:55.265799"], ["updated_at", "2017-02-11 11:02:55.265799"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "kiljula"], ["year", 1900], ["created_at", "2017-02-11 11:02:55.278292"], ["updated_at", "2017-02-11 11:02:55.278292"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "kiljula"], ["year", 1900], ["created_at", "2017-02-11 11:02:55.286509"], ["updated_at", "2017-02-11 11:02:55.286509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:12:50.876485"], ["updated_at", "2017-02-11 11:12:50.876485"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:12:50.889776"], ["updated_at", "2017-02-11 11:12:50.889776"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:12:50.898634"], ["updated_at", "2017-02-11 11:12:50.898634"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:17:28.734607"], ["updated_at", "2017-02-11 11:17:28.734607"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:17:28.746518"], ["updated_at", "2017-02-11 11:17:28.746518"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:17:28.752420"], ["updated_at", "2017-02-11 11:17:28.752420"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:19:27.828922"], ["updated_at", "2017-02-11 11:19:27.828922"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:19:27.840777"], ["updated_at", "2017-02-11 11:19:27.840777"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:19:27.846297"], ["updated_at", "2017-02-11 11:19:27.846297"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:21:25.173779"], ["updated_at", "2017-02-11 11:21:25.173779"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 13:21:25 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (32.2ms)
  Rendered beers/new.html.erb within layouts/application (42.6ms)
Completed 200 OK in 409ms (Views: 380.4ms | ActiveRecord: 0.4ms)
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:21:25.639012"], ["updated_at", "2017-02-11 11:21:25.639012"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 13:21:25 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (3.1ms)
  Rendered beers/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
Started POST "/beers" for 127.0.0.1 at 2017-02-11 13:21:25 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"name"=>"Koff", "style"=>"Weizen", "brewery_id"=>"1"}, "commit"=>"Create Beer"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "style", "brewery_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Koff"], ["style", "Weizen"], ["brewery_id", 1], ["created_at", "2017-02-11 11:21:25.670537"], ["updated_at", "2017-02-11 11:21:25.670537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/beers
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
Started GET "/beers" for 127.0.0.1 at 2017-02-11 13:21:25 +0200
Processing by BeersController#index as HTML
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT "beers".* FROM "beers"[0m
  [1m[35mBrewery Load (0.2ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  Rendered beers/index.html.erb within layouts/application (27.7ms)
Completed 200 OK in 33ms (Views: 32.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 11:21:25.716621"], ["updated_at", "2017-02-11 11:21:25.716621"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 13:21:25 +0200
Processing by BeersController#new as HTML
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered beers/_form.html.erb (3.9ms)
  Rendered beers/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms)
Started POST "/beers" for 127.0.0.1 at 2017-02-11 13:21:25 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"name"=>"", "style"=>"Weizen", "brewery_id"=>"1"}, "commit"=>"Create Beer"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (3.6ms)
  Rendered beers/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:07:41.392965"], ["updated_at", "2017-02-11 17:07:41.392965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:07:41.437143"], ["updated_at", "2017-02-11 17:07:41.437143"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:07:41.440149"], ["updated_at", "2017-02-11 17:07:41.440149"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:07:41.442217"], ["updated_at", "2017-02-11 17:07:41.442217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$JgfUvfh6FSAQWIFjQove.ejZF9Zv7ruMOK8nZY/cw80naUvq5Jd8W"], ["created_at", "2017-02-11 17:07:41.498654"], ["updated_at", "2017-02-11 17:07:41.498654"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:07:41 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 425ms (Views: 407.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:07:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 21ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.5ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (83.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 97ms (Views: 93.7ms | ActiveRecord: 2.0ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (46.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 65ms (Views: 58.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:07:42.218897"], ["updated_at", "2017-02-11 17:07:42.218897"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:07:42.222789"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:07:42.254291"], ["updated_at", "2017-02-11 17:07:42.254291"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:07:42.257357"], ["updated_at", "2017-02-11 17:07:42.257357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:07:42.259840"], ["updated_at", "2017-02-11 17:07:42.259840"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:07:42.262111"], ["updated_at", "2017-02-11 17:07:42.262111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Cft1dV/CqfZPL7zjeZW1TOoOUjeZPv4ET5lGQWAV70mWLEeP4luxy"], ["created_at", "2017-02-11 17:07:42.266680"], ["updated_at", "2017-02-11 17:07:42.266680"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (3.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-11 17:07:42.298036"], ["updated_at", "2017-02-11 17:07:42.298036"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-11 17:07:42.300334"], ["updated_at", "2017-02-11 17:07:42.300334"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 30], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-11 17:07:42.302152"], ["updated_at", "2017-02-11 17:07:42.302152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.0ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.8ms)
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 19:07:42 +0200
Processing by RatingsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings"[0m
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (5.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.5ms)
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 17:12:07.239823"], ["updated_at", "2017-02-11 17:12:07.239823"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 19:12:07 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (33.8ms)
  Rendered beers/new.html.erb within layouts/application (56.6ms)
Completed 200 OK in 427ms (Views: 397.6ms | ActiveRecord: 0.4ms)
  [1m[36m (2.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 17:12:07.719931"], ["updated_at", "2017-02-11 17:12:07.719931"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 19:12:07 +0200
Processing by BeersController#new as HTML
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (3.1ms)
  Rendered beers/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
Started POST "/beers" for 127.0.0.1 at 2017-02-11 19:12:07 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"name"=>"Koff", "style"=>"Weizen", "brewery_id"=>"1"}, "commit"=>"Create Beer"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "style", "brewery_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Koff"], ["style", "Weizen"], ["brewery_id", 1], ["created_at", "2017-02-11 17:12:07.752259"], ["updated_at", "2017-02-11 17:12:07.752259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/beers
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/beers" for 127.0.0.1 at 2017-02-11 19:12:07 +0200
Processing by BeersController#index as HTML
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT "beers".* FROM "beers"[0m
  [1m[35mBrewery Load (0.2ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  Rendered beers/index.html.erb within layouts/application (26.3ms)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Kiljula oy"], ["year", 1900], ["created_at", "2017-02-11 17:12:07.798274"], ["updated_at", "2017-02-11 17:12:07.798274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/beers/new" for 127.0.0.1 at 2017-02-11 19:12:07 +0200
Processing by BeersController#new as HTML
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT "breweries".* FROM "breweries"[0m
  Rendered beers/_form.html.erb (3.7ms)
  Rendered beers/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms)
Started POST "/beers" for 127.0.0.1 at 2017-02-11 19:12:07 +0200
Processing by BeersController#create as HTML
  Parameters: {"utf8"=>"✓", "beer"=>{"name"=>"", "style"=>"Weizen", "brewery_id"=>"1"}, "commit"=>"Create Beer"}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mBrewery Load (0.2ms)[0m  SELECT "breweries".* FROM "breweries"
  Rendered beers/_form.html.erb (3.6ms)
  Rendered beers/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "beers"[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:12:42.411982"], ["updated_at", "2017-02-11 17:12:42.411982"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:12:42.442508"], ["updated_at", "2017-02-11 17:12:42.442508"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:12:42.446164"], ["updated_at", "2017-02-11 17:12:42.446164"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:12:42.448781"], ["updated_at", "2017-02-11 17:12:42.448781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$qSFqnfGBb1tGggQJ4fjim.furnJsxj6LxRdNyUeQOgSdJnbTw5a0i"], ["created_at", "2017-02-11 17:12:42.496732"], ["updated_at", "2017-02-11 17:12:42.496732"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:12:42 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 345ms (Views: 329.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:12:42 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:12:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (53.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 68ms (Views: 64.7ms | ActiveRecord: 1.6ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:12:42 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (36.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 59ms (Views: 52.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:12:43.081825"], ["updated_at", "2017-02-11 17:12:43.081825"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:12:43.085871"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:12:43.118738"], ["updated_at", "2017-02-11 17:12:43.118738"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:12:43.121664"], ["updated_at", "2017-02-11 17:12:43.121664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:12:43.124192"], ["updated_at", "2017-02-11 17:12:43.124192"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:12:43.126927"], ["updated_at", "2017-02-11 17:12:43.126927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Cb28gUmADffedQvMyr0AKewp8GT5aq3TFOn/eN2uWBBQLnkgPpcxS"], ["created_at", "2017-02-11 17:12:43.131372"], ["updated_at", "2017-02-11 17:12:43.131372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (6.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-11 17:12:43.168062"], ["updated_at", "2017-02-11 17:12:43.168062"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-11 17:12:43.170670"], ["updated_at", "2017-02-11 17:12:43.170670"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 30], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-11 17:12:43.172571"], ["updated_at", "2017-02-11 17:12:43.172571"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.1ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.7ms)
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 19:12:43 +0200
Processing by RatingsController#index as HTML
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings"[0m
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (6.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.6ms)
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:16:41.893581"], ["updated_at", "2017-02-11 17:16:41.893581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:16:41.926485"], ["updated_at", "2017-02-11 17:16:41.926485"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:16:41.929880"], ["updated_at", "2017-02-11 17:16:41.929880"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:16:41.932252"], ["updated_at", "2017-02-11 17:16:41.932252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$8rvgKvgPf7CqM9iDE/pl3ek.EBN4s2EVrs2/8POM87KQ6EXF.IziK"], ["created_at", "2017-02-11 17:16:41.981947"], ["updated_at", "2017-02-11 17:16:41.981947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:16:41 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 349ms (Views: 332.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (51.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 65ms (Views: 61.6ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 41.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:16:42.551602"], ["updated_at", "2017-02-11 17:16:42.551602"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:16:42.555411"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$kfem0nc4TB4GwWVUKL7mNOURB2H4.dXgDrWdGoS95b0G2sSu5Kg2G"], ["created_at", "2017-02-11 17:16:42.591072"], ["updated_at", "2017-02-11 17:16:42.591072"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:16:42.593864"], ["updated_at", "2017-02-11 17:16:42.593864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-11 17:16:42.597503"], ["updated_at", "2017-02-11 17:16:42.597503"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-11 17:16:42.599575"], ["updated_at", "2017-02-11 17:16:42.599575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 30], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-11 17:16:42.601397"], ["updated_at", "2017-02-11 17:16:42.601397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:16:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (22.7ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.6ms)
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:21:50.037454"], ["updated_at", "2017-02-11 17:21:50.037454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:21:50.066713"], ["updated_at", "2017-02-11 17:21:50.066713"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:21:50.069750"], ["updated_at", "2017-02-11 17:21:50.069750"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:21:50.071822"], ["updated_at", "2017-02-11 17:21:50.071822"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-11 17:21:50.080264"], ["updated_at", "2017-02-11 17:21:50.080264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-11 17:21:50.082743"], ["updated_at", "2017-02-11 17:21:50.082743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 30], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-11 17:21:50.097618"], ["updated_at", "2017-02-11 17:21:50.097618"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$n5FXu9yYYCH3f36PJwQQj.XRS5YhG/Qoj33DJsJY19XGDPqf17t.u"], ["created_at", "2017-02-11 17:21:50.131447"], ["updated_at", "2017-02-11 17:21:50.131447"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 350ms (Views: 334.6ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (56.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 70ms (Views: 66.8ms | ActiveRecord: 1.7ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by RatingsController#new as HTML
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT "beers".* FROM "beers"[0m
  [1m[35mBrewery Load (0.1ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (29.5ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 43ms (Views: 41.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings"
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:21:50.706070"], ["updated_at", "2017-02-11 17:21:50.706070"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?[0m  [["user_id", 1], ["updated_at", "2017-02-11 17:21:50.708668"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.1ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (9.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:21:50.805001"], ["updated_at", "2017-02-11 17:21:50.805001"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:21:50.807836"], ["updated_at", "2017-02-11 17:21:50.807836"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:21:50.810226"], ["updated_at", "2017-02-11 17:21:50.810226"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:21:50.812179"], ["updated_at", "2017-02-11 17:21:50.812179"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-11 17:21:50.814457"], ["updated_at", "2017-02-11 17:21:50.814457"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-11 17:21:50.816376"], ["updated_at", "2017-02-11 17:21:50.816376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 30], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-11 17:21:50.818204"], ["updated_at", "2017-02-11 17:21:50.818204"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$CynZd3nWn4BZn62622DBJO16tkX./GlGUbbtAYtg/B8cH.obTe95W"], ["created_at", "2017-02-11 17:21:50.822432"], ["updated_at", "2017-02-11 17:21:50.822432"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.6ms)
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 19:21:50 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (6.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:28:25.027219"], ["updated_at", "2017-02-11 17:28:25.027219"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:28:25.056312"], ["updated_at", "2017-02-11 17:28:25.056312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:28:25.059307"], ["updated_at", "2017-02-11 17:28:25.059307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:28:25.061551"], ["updated_at", "2017-02-11 17:28:25.061551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$271k8JSgqR9q59kU59BUj.IUOl84WOr/YREsXzv6hmjkgcHbtexUS"], ["created_at", "2017-02-11 17:28:25.108504"], ["updated_at", "2017-02-11 17:28:25.108504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 340ms (Views: 324.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 60.0ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.2ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 42.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:28:25.667916"], ["updated_at", "2017-02-11 17:28:25.667916"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:28:25.671740"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:28:25.704693"], ["updated_at", "2017-02-11 17:28:25.704693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:28:25.707526"], ["updated_at", "2017-02-11 17:28:25.707526"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:28:25.709892"], ["updated_at", "2017-02-11 17:28:25.709892"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:28:25.712170"], ["updated_at", "2017-02-11 17:28:25.712170"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$EYZ8YsSYx3L6BKnNUql04uip0/tIrPmSEIkN18CuP7NAIkmwpxoni"], ["created_at", "2017-02-11 17:28:25.716444"], ["updated_at", "2017-02-11 17:28:25.716444"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:28:25 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (4.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.4ms)
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:42:10.249194"], ["updated_at", "2017-02-11 17:42:10.249194"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:42:10.279599"], ["updated_at", "2017-02-11 17:42:10.279599"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:42:10.282609"], ["updated_at", "2017-02-11 17:42:10.282609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:42:10.284986"], ["updated_at", "2017-02-11 17:42:10.284986"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$mlJBelyc304t4iQEN5YzzuyELNEDYRxYo7D0ywKRBO8aMRwpOg/CC"], ["created_at", "2017-02-11 17:42:10.335346"], ["updated_at", "2017-02-11 17:42:10.335346"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:42:10 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 352ms (Views: 336.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:42:10 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:42:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (48.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 62ms (Views: 58.9ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:42:10 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 50ms (Views: 44.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:42:10 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:42:10.909523"], ["updated_at", "2017-02-11 17:42:10.909523"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:42:10.913389"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:42:10 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:44:43.104265"], ["updated_at", "2017-02-11 17:44:43.104265"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:44:43.133228"], ["updated_at", "2017-02-11 17:44:43.133228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:44:43.136284"], ["updated_at", "2017-02-11 17:44:43.136284"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:44:43.138391"], ["updated_at", "2017-02-11 17:44:43.138391"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$/Cd7txT2ctjKJM/T3uZ0G.t7zcHNA72rDu8hJXdTG2Mz6ZDzpAfB6"], ["created_at", "2017-02-11 17:44:43.185095"], ["updated_at", "2017-02-11 17:44:43.185095"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:44:43 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 345ms (Views: 329.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:44:43 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:44:43 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (50.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 64ms (Views: 60.8ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:44:43 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 42.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:44:43 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:44:43.749497"], ["updated_at", "2017-02-11 17:44:43.749497"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:44:43.753336"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:44:43 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (8.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$YxyX9KGEbdyYkXvmDC8/ZeKsaqzSAu0Vrd29Na1gbaT/xnnzK2guK"], ["created_at", "2017-02-11 17:44:43.788609"], ["updated_at", "2017-02-11 17:44:43.788609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:46:22.926156"], ["updated_at", "2017-02-11 17:46:22.926156"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:46:22.954696"], ["updated_at", "2017-02-11 17:46:22.954696"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:46:22.957668"], ["updated_at", "2017-02-11 17:46:22.957668"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:46:22.959684"], ["updated_at", "2017-02-11 17:46:22.959684"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$U8faPXHfUSp6rtv.7FEv6OUFdUeRyQukNQE2VzXmq9RS2LjKoujr."], ["created_at", "2017-02-11 17:46:23.006426"], ["updated_at", "2017-02-11 17:46:23.006426"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:46:23 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 344ms (Views: 328.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:46:23 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:46:23 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 64ms (Views: 60.5ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:46:23 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 42.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:46:23 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:46:23.573376"], ["updated_at", "2017-02-11 17:46:23.573376"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:46:23.577215"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:46:23 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ci.6IW0ntn6/fKyClxSRj.xSNvUc0Z9Q30reIziyFy2nFePY/NHM."], ["created_at", "2017-02-11 17:46:23.612465"], ["updated_at", "2017-02-11 17:46:23.612465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:49:46.298659"], ["updated_at", "2017-02-11 17:49:46.298659"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:49:46.328573"], ["updated_at", "2017-02-11 17:49:46.328573"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:49:46.331726"], ["updated_at", "2017-02-11 17:49:46.331726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:49:46.333764"], ["updated_at", "2017-02-11 17:49:46.333764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$/7yqgCQEfaTF2BB4bABlP.KJGD83ixQJhWgMeXIck7X4k4dXo6Qzm"], ["created_at", "2017-02-11 17:49:46.381397"], ["updated_at", "2017-02-11 17:49:46.381397"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:49:46 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 349ms (Views: 332.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:49:46 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:49:46 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (51.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 65ms (Views: 62.3ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:49:46 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 42.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:49:46 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:49:46.952714"], ["updated_at", "2017-02-11 17:49:46.952714"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:49:46.957058"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:49:46 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (8.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$YwUDDTDE7TyitDe04QjGm.DM4eMSW8IboPQJ64RW2IO/7PXRgjqia"], ["created_at", "2017-02-11 17:49:46.993858"], ["updated_at", "2017-02-11 17:49:46.993858"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:55:29.365855"], ["updated_at", "2017-02-11 17:55:29.365855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:55:29.394823"], ["updated_at", "2017-02-11 17:55:29.394823"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:55:29.397796"], ["updated_at", "2017-02-11 17:55:29.397796"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:55:29.399851"], ["updated_at", "2017-02-11 17:55:29.399851"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$DTUINpRyaeIdTM1U9Yh8NOxGK7HX8PfjA86xzCcwai/b0c1vfWKPC"], ["created_at", "2017-02-11 17:55:29.448593"], ["updated_at", "2017-02-11 17:55:29.448593"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:55:29 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 353ms (Views: 336.6ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:55:29 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:55:29 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (50.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 64ms (Views: 61.2ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:55:29 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 50ms (Views: 43.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:55:30 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:55:30.027064"], ["updated_at", "2017-02-11 17:55:30.027064"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:55:30.030967"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:55:30 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (11.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.4ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (5.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$.pzbOSn6BKQTaAz9LzPrFuwlID6GagoaYdpeCBCveZ/f9t9BoB8Du"], ["created_at", "2017-02-11 17:55:30.104172"], ["updated_at", "2017-02-11 17:55:30.104172"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:56:45.086536"], ["updated_at", "2017-02-11 17:56:45.086536"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:56:45.117002"], ["updated_at", "2017-02-11 17:56:45.117002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:56:45.120181"], ["updated_at", "2017-02-11 17:56:45.120181"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:56:45.122178"], ["updated_at", "2017-02-11 17:56:45.122178"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ztFhKVtpp2qUyF3jD2.DDezuvxgt9hh1LaZ5IDeLwidiVGq7MkgFq"], ["created_at", "2017-02-11 17:56:45.169274"], ["updated_at", "2017-02-11 17:56:45.169274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:56:45 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 347ms (Views: 331.4ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:56:45 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:56:45 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (48.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 61ms (Views: 58.3ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:56:45 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 43.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:56:45 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:56:45.734924"], ["updated_at", "2017-02-11 17:56:45.734924"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:56:45.738729"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:56:45 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.6ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (14.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (9.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$IlgziBoZM24pSvhfWBLVX.S7Is3RB7QUq99f9rJOqb1iGLO4VXjUW"], ["created_at", "2017-02-11 17:56:45.799440"], ["updated_at", "2017-02-11 17:56:45.799440"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 17:59:41.499012"], ["updated_at", "2017-02-11 17:59:41.499012"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:59:41.528063"], ["updated_at", "2017-02-11 17:59:41.528063"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:59:41.531113"], ["updated_at", "2017-02-11 17:59:41.531113"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 17:59:41.533112"], ["updated_at", "2017-02-11 17:59:41.533112"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$x24zMi4x/Po8P82gIHWitOpSOFu56x7BHLRO78AaGYcmDbJrqYg8i"], ["created_at", "2017-02-11 17:59:41.580032"], ["updated_at", "2017-02-11 17:59:41.580032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 19:59:41 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 341ms (Views: 324.9ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 19:59:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:59:41 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 60.3ms | ActiveRecord: 1.3ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 19:59:42 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 50ms (Views: 44.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 19:59:42 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 17:59:42.144359"], ["updated_at", "2017-02-11 17:59:42.144359"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 17:59:42.148193"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 19:59:42 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:01:20.899134"], ["updated_at", "2017-02-11 18:01:20.899134"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:01:20.928771"], ["updated_at", "2017-02-11 18:01:20.928771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:01:20.932259"], ["updated_at", "2017-02-11 18:01:20.932259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:01:20.934589"], ["updated_at", "2017-02-11 18:01:20.934589"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$AJI59PSyVnnAjbjqiMXR4u1U5EUYzqncCJ2tv9J1TZEaUC5iMrc2G"], ["created_at", "2017-02-11 18:01:20.985317"], ["updated_at", "2017-02-11 18:01:20.985317"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 20:01:20 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 350ms (Views: 334.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 20:01:21 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 15ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:01:21 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.4ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 20:01:21 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 41.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 20:01:21 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 18:01:21.553957"], ["updated_at", "2017-02-11 18:01:21.553957"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 18:01:21.557768"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:01:21 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$0Yc0ud/10E7XJPvmkuadyeuR/yvpKVZH/n44CLBXfcGlVZr98ond."], ["created_at", "2017-02-11 18:01:21.592948"], ["updated_at", "2017-02-11 18:01:21.592948"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:07:03.190464"], ["updated_at", "2017-02-11 18:07:03.190464"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:07:03.219131"], ["updated_at", "2017-02-11 18:07:03.219131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:07:03.222104"], ["updated_at", "2017-02-11 18:07:03.222104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:07:03.224093"], ["updated_at", "2017-02-11 18:07:03.224093"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$YEHiBLL0RPONrQaZtIQKRu0AM736jbvEl/Vpg0HvHSd9fGEtvHLwu"], ["created_at", "2017-02-11 18:07:03.271708"], ["updated_at", "2017-02-11 18:07:03.271708"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 20:07:03 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 350ms (Views: 334.8ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 20:07:03 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:07:03 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.7ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 20:07:03 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 41.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 20:07:03 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 18:07:03.843041"], ["updated_at", "2017-02-11 18:07:03.843041"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 18:07:03.846931"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:07:03 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:15:41.293183"], ["updated_at", "2017-02-11 18:15:41.293183"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:15:41.322495"], ["updated_at", "2017-02-11 18:15:41.322495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:15:41.325597"], ["updated_at", "2017-02-11 18:15:41.325597"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:15:41.327650"], ["updated_at", "2017-02-11 18:15:41.327650"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$w89CB6cf0fTS7/XtP4pj4exnFTiU89qpxqu9X2J9SsmR0KecVcEkC"], ["created_at", "2017-02-11 18:15:41.376571"], ["updated_at", "2017-02-11 18:15:41.376571"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 20:15:41 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 348ms (Views: 332.3ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 20:15:41 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:15:41 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 60.2ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 20:15:41 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (29.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 41.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 20:15:41 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 18:15:41.943124"], ["updated_at", "2017-02-11 18:15:41.943124"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 18:15:41.947518"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:15:41 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (8.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:18:32.432541"], ["updated_at", "2017-02-11 18:18:32.432541"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:18:32.461790"], ["updated_at", "2017-02-11 18:18:32.461790"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:18:32.464900"], ["updated_at", "2017-02-11 18:18:32.464900"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:18:32.467043"], ["updated_at", "2017-02-11 18:18:32.467043"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$jqvYOJdt2sGXPEmUz8uJ8ugme.m9upDot1yhKFCu/oUub4puyio2m"], ["created_at", "2017-02-11 18:18:32.516047"], ["updated_at", "2017-02-11 18:18:32.516047"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 20:18:32 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 344ms (Views: 328.1ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 20:18:32 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:18:32 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.3ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 20:18:33 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 41.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 20:18:33 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 18:18:33.079683"], ["updated_at", "2017-02-11 18:18:33.079683"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 18:18:33.083643"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:18:33 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$R7Zo5vf3AANBXxnWxx6xgOb.G5lsgm3jyTB8bJCpWJKTf0cr.R/.G"], ["created_at", "2017-02-11 18:18:33.118722"], ["updated_at", "2017-02-11 18:18:33.118722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:20:22.469042"], ["updated_at", "2017-02-11 18:20:22.469042"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:20:22.498905"], ["updated_at", "2017-02-11 18:20:22.498905"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:20:22.501880"], ["updated_at", "2017-02-11 18:20:22.501880"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:20:22.503950"], ["updated_at", "2017-02-11 18:20:22.503950"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$IIG.KUNhAECzkvx5/cVdg.GCwcXE.95fJxJlL6g0NG/E/7Sv5w.7K"], ["created_at", "2017-02-11 18:20:22.551761"], ["updated_at", "2017-02-11 18:20:22.551761"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 20:20:22 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 354ms (Views: 338.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 20:20:22 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:20:22 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (51.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 65ms (Views: 61.6ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 20:20:23 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 41.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 20:20:23 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 18:20:23.125964"], ["updated_at", "2017-02-11 18:20:23.125964"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 18:20:23.129921"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:20:23 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:20:23.163103"], ["updated_at", "2017-02-11 18:20:23.163103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:20:23.165908"], ["updated_at", "2017-02-11 18:20:23.165908"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:20:23.168158"], ["updated_at", "2017-02-11 18:20:23.168158"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:20:23.170475"], ["updated_at", "2017-02-11 18:20:23.170475"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$PquIvBMzR/A53t.jqFqEY.DWdWvWjdL744oUwpsV1OgeOAFMVwuF2"], ["created_at", "2017-02-11 18:20:23.174899"], ["updated_at", "2017-02-11 18:20:23.174899"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 18:20:23.177447"], ["updated_at", "2017-02-11 18:20:23.177447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 18:20:23.179493"], ["updated_at", "2017-02-11 18:20:23.179493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 18:20:23.181375"], ["updated_at", "2017-02-11 18:20:23.181375"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 20:20:23 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:21:28.191029"], ["updated_at", "2017-02-11 18:21:28.191029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:21:28.220755"], ["updated_at", "2017-02-11 18:21:28.220755"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:21:28.224356"], ["updated_at", "2017-02-11 18:21:28.224356"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:21:28.226582"], ["updated_at", "2017-02-11 18:21:28.226582"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$kxId6RIFiz81sNjwl4DurOM.Gcnae1zo4l29l3Mr/ZsZ3hbdjC1Hy"], ["created_at", "2017-02-11 18:21:28.277799"], ["updated_at", "2017-02-11 18:21:28.277799"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 20:21:28 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 346ms (Views: 330.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 20:21:28 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:21:28 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (52.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 65ms (Views: 62.2ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 20:21:28 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 42.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 20:21:28 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 18:21:28.845251"], ["updated_at", "2017-02-11 18:21:28.845251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 18:21:28.849123"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:21:28 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (8.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:21:28.882630"], ["updated_at", "2017-02-11 18:21:28.882630"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:21:28.885407"], ["updated_at", "2017-02-11 18:21:28.885407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:21:28.887808"], ["updated_at", "2017-02-11 18:21:28.887808"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:21:28.889947"], ["updated_at", "2017-02-11 18:21:28.889947"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$H5rM7tN8VBW0chk/bBE4nOO/wVwNX5I0TcYt82NOTZsufBCfPCu.S"], ["created_at", "2017-02-11 18:21:28.894194"], ["updated_at", "2017-02-11 18:21:28.894194"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 18:21:28.896714"], ["updated_at", "2017-02-11 18:21:28.896714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 18:21:28.898724"], ["updated_at", "2017-02-11 18:21:28.898724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 18:21:28.900574"], ["updated_at", "2017-02-11 18:21:28.900574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 20:21:28 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:32:04.709829"], ["updated_at", "2017-02-11 18:32:04.709829"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:04.740807"], ["updated_at", "2017-02-11 18:32:04.740807"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:04.743887"], ["updated_at", "2017-02-11 18:32:04.743887"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:04.747255"], ["updated_at", "2017-02-11 18:32:04.747255"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$pQk5lmmRRR.DtYy8wThumOj.RD0eEs.unOPCHF60aqBxrFRkx584W"], ["created_at", "2017-02-11 18:32:04.796098"], ["updated_at", "2017-02-11 18:32:04.796098"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 20:32:04 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 354ms (Views: 338.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 20:32:05 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.3ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:32:05 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.7ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 20:32:05 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.5ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 42.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 20:32:05 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 18:32:05.373435"], ["updated_at", "2017-02-11 18:32:05.373435"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 18:32:05.377626"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:32:05 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:32:05.410420"], ["updated_at", "2017-02-11 18:32:05.410420"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:05.413209"], ["updated_at", "2017-02-11 18:32:05.413209"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:05.415557"], ["updated_at", "2017-02-11 18:32:05.415557"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:05.418280"], ["updated_at", "2017-02-11 18:32:05.418280"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$AsYuVqlyURteo4gNcItZC.kupTz6Os0J8RPoi2dPDl7SHIwHwmmru"], ["created_at", "2017-02-11 18:32:05.422834"], ["updated_at", "2017-02-11 18:32:05.422834"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 18:32:05.425405"], ["updated_at", "2017-02-11 18:32:05.425405"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 18:32:05.427561"], ["updated_at", "2017-02-11 18:32:05.427561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 18:32:05.429447"], ["updated_at", "2017-02-11 18:32:05.429447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 20:32:05 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 18:32:05.457094"], ["updated_at", "2017-02-11 18:32:05.457094"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:05.460029"], ["updated_at", "2017-02-11 18:32:05.460029"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:05.463008"], ["updated_at", "2017-02-11 18:32:05.463008"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 18:32:05.466125"], ["updated_at", "2017-02-11 18:32:05.466125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$0N5tIjsplc/IdDco6pjQn.BBVevzpgTL8D75e91GlcSdVUogXPhHi"], ["created_at", "2017-02-11 18:32:05.471711"], ["updated_at", "2017-02-11 18:32:05.471711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 18:32:05.474713"], ["updated_at", "2017-02-11 18:32:05.474713"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 18:32:05.476681"], ["updated_at", "2017-02-11 18:32:05.476681"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 18:32:05.478565"], ["updated_at", "2017-02-11 18:32:05.478565"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Timo' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Timo"], ["password_digest", "$2a$04$YUqOJXjJhJvByTVjIkAI2.Y0tTwPELP3IQwIxiW5JJs6THZ5XENfK"], ["created_at", "2017-02-11 18:32:05.482897"], ["updated_at", "2017-02-11 18:32:05.482897"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["beer_id", 3], ["score", 40], ["created_at", "2017-02-11 18:32:05.485679"], ["updated_at", "2017-02-11 18:32:05.485679"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 20:32:05 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.5ms)
  [1m[35m (4.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:11:01.133319"], ["updated_at", "2017-02-11 19:11:01.133319"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.180889"], ["updated_at", "2017-02-11 19:11:01.180889"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.183959"], ["updated_at", "2017-02-11 19:11:01.183959"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.186017"], ["updated_at", "2017-02-11 19:11:01.186017"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$B/YxIY/a455bW8vnB6m6CuIOM50.jXKsG/4OsZQ.ywvE0O0AvEjXG"], ["created_at", "2017-02-11 19:11:01.235960"], ["updated_at", "2017-02-11 19:11:01.235960"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 357ms (Views: 340.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 21ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (70.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 84ms (Views: 81.1ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (39.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 58ms (Views: 52.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 19:11:01.861735"], ["updated_at", "2017-02-11 19:11:01.861735"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 19:11:01.865538"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:11:01.897209"], ["updated_at", "2017-02-11 19:11:01.897209"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.900092"], ["updated_at", "2017-02-11 19:11:01.900092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.902518"], ["updated_at", "2017-02-11 19:11:01.902518"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.904838"], ["updated_at", "2017-02-11 19:11:01.904838"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$1OEACT4qa45qdGTCpjsg1eBCzhjyQ0YYBPEJn/UWS.CZGzWrV.HpO"], ["created_at", "2017-02-11 19:11:01.909755"], ["updated_at", "2017-02-11 19:11:01.909755"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:11:01.912432"], ["updated_at", "2017-02-11 19:11:01.912432"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:11:01.914581"], ["updated_at", "2017-02-11 19:11:01.914581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:11:01.916893"], ["updated_at", "2017-02-11 19:11:01.916893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:11:01.948294"], ["updated_at", "2017-02-11 19:11:01.948294"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.951922"], ["updated_at", "2017-02-11 19:11:01.951922"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.954972"], ["updated_at", "2017-02-11 19:11:01.954972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:01.958731"], ["updated_at", "2017-02-11 19:11:01.958731"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ecczDDZFCvlYYBRiNLV7guAwlA9KvJoxzlQ2iN1e6zKRHhzYGY42m"], ["created_at", "2017-02-11 19:11:01.963337"], ["updated_at", "2017-02-11 19:11:01.963337"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:11:01.965744"], ["updated_at", "2017-02-11 19:11:01.965744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:11:01.967845"], ["updated_at", "2017-02-11 19:11:01.967845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:11:01.969682"], ["updated_at", "2017-02-11 19:11:01.969682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Timo' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Timo"], ["password_digest", "$2a$04$/P1neQ5mqiTDUAjiVTHH.Ot7TCk.vQTPSc2SbzucT.wRj8NKKZkIq"], ["created_at", "2017-02-11 19:11:01.973727"], ["updated_at", "2017-02-11 19:11:01.973727"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["beer_id", 3], ["score", 40], ["created_at", "2017-02-11 19:11:01.975812"], ["updated_at", "2017-02-11 19:11:01.975812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:11:01 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.5ms)
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:11:02.000085"], ["updated_at", "2017-02-11 19:11:02.000085"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:02.003318"], ["updated_at", "2017-02-11 19:11:02.003318"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:02.006025"], ["updated_at", "2017-02-11 19:11:02.006025"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:11:02.010555"], ["updated_at", "2017-02-11 19:11:02.010555"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$71RRI8CjMkq59lPW.aD9n.K7CZkRzPpKFHr/7AQaCdhaMumSbA/L2"], ["created_at", "2017-02-11 19:11:02.015273"], ["updated_at", "2017-02-11 19:11:02.015273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:11:02.017798"], ["updated_at", "2017-02-11 19:11:02.017798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:11:02.019956"], ["updated_at", "2017-02-11 19:11:02.019956"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:11:02.021853"], ["updated_at", "2017-02-11 19:11:02.021853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:11:02 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (5.7ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:12:55.699660"], ["updated_at", "2017-02-11 19:12:55.699660"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:55.730485"], ["updated_at", "2017-02-11 19:12:55.730485"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:55.733658"], ["updated_at", "2017-02-11 19:12:55.733658"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:55.735753"], ["updated_at", "2017-02-11 19:12:55.735753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Js5TYFi14EwB7DC1iVZtBOwLojxzfMxel57BbcuCev.WUmvEBn3/2"], ["created_at", "2017-02-11 19:12:55.783675"], ["updated_at", "2017-02-11 19:12:55.783675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:12:55 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 354ms (Views: 338.6ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (50.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 64ms (Views: 60.6ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 50ms (Views: 43.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 19:12:56.359582"], ["updated_at", "2017-02-11 19:12:56.359582"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 19:12:56.363451"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (8.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:12:56.397168"], ["updated_at", "2017-02-11 19:12:56.397168"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.400121"], ["updated_at", "2017-02-11 19:12:56.400121"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.402476"], ["updated_at", "2017-02-11 19:12:56.402476"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.404806"], ["updated_at", "2017-02-11 19:12:56.404806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$V603NlhVA69NgqKsrhxbWOoX2LHtdjhxrdElVSfBXzJ0qzBIGfVVG"], ["created_at", "2017-02-11 19:12:56.409127"], ["updated_at", "2017-02-11 19:12:56.409127"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:12:56.411694"], ["updated_at", "2017-02-11 19:12:56.411694"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:12:56.413688"], ["updated_at", "2017-02-11 19:12:56.413688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:12:56.415549"], ["updated_at", "2017-02-11 19:12:56.415549"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:12:56.442955"], ["updated_at", "2017-02-11 19:12:56.442955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.445786"], ["updated_at", "2017-02-11 19:12:56.445786"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.448181"], ["updated_at", "2017-02-11 19:12:56.448181"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.450327"], ["updated_at", "2017-02-11 19:12:56.450327"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$8nnMQmZeeXBww/Hh.NMC..5zQc124qLuQxTZjp80Xa2ZjqmdYZt16"], ["created_at", "2017-02-11 19:12:56.454607"], ["updated_at", "2017-02-11 19:12:56.454607"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:12:56.456914"], ["updated_at", "2017-02-11 19:12:56.456914"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:12:56.458961"], ["updated_at", "2017-02-11 19:12:56.458961"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:12:56.460789"], ["updated_at", "2017-02-11 19:12:56.460789"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Timo' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Timo"], ["password_digest", "$2a$04$E0GJqozm1mIeSnr0LcTeS.yoAY2.DA6ItLASP26dTvBvYVfnGxSxO"], ["created_at", "2017-02-11 19:12:56.465026"], ["updated_at", "2017-02-11 19:12:56.465026"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["beer_id", 3], ["score", 40], ["created_at", "2017-02-11 19:12:56.467161"], ["updated_at", "2017-02-11 19:12:56.467161"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (6.2ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.7ms)
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:12:56.491738"], ["updated_at", "2017-02-11 19:12:56.491738"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.494749"], ["updated_at", "2017-02-11 19:12:56.494749"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.497323"], ["updated_at", "2017-02-11 19:12:56.497323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:12:56.499427"], ["updated_at", "2017-02-11 19:12:56.499427"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$FzmXHyZyw6IzQzm1p94w9.xg4iFlBvEKt1c.jzlBtqFwD50Jwa3Gu"], ["created_at", "2017-02-11 19:12:56.503719"], ["updated_at", "2017-02-11 19:12:56.503719"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:12:56.506080"], ["updated_at", "2017-02-11 19:12:56.506080"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:12:56.508051"], ["updated_at", "2017-02-11 19:12:56.508051"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:12:56.510054"], ["updated_at", "2017-02-11 19:12:56.510054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:12:56 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (5.6ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:18:34.021790"], ["updated_at", "2017-02-11 19:18:34.021790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.052904"], ["updated_at", "2017-02-11 19:18:34.052904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.055953"], ["updated_at", "2017-02-11 19:18:34.055953"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.058154"], ["updated_at", "2017-02-11 19:18:34.058154"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$uhtZ1UXEIj0EnOy/pzDBT.gE1ldCcPo5PjuZRpsT8.orINXWN/5TG"], ["created_at", "2017-02-11 19:18:34.105130"], ["updated_at", "2017-02-11 19:18:34.105130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 353ms (Views: 336.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.3ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.4ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 42.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 19:18:34.679119"], ["updated_at", "2017-02-11 19:18:34.679119"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 19:18:34.683076"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:18:34.715597"], ["updated_at", "2017-02-11 19:18:34.715597"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.718571"], ["updated_at", "2017-02-11 19:18:34.718571"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.720886"], ["updated_at", "2017-02-11 19:18:34.720886"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.723159"], ["updated_at", "2017-02-11 19:18:34.723159"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$WIhDmFqgB2.8kKU7YTJ/KOOxdb8ybGqANRiVP/Wug7pSyPpkEOsoK"], ["created_at", "2017-02-11 19:18:34.727548"], ["updated_at", "2017-02-11 19:18:34.727548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:18:34.730085"], ["updated_at", "2017-02-11 19:18:34.730085"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:18:34.732130"], ["updated_at", "2017-02-11 19:18:34.732130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:18:34.734010"], ["updated_at", "2017-02-11 19:18:34.734010"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:18:34.761485"], ["updated_at", "2017-02-11 19:18:34.761485"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.764401"], ["updated_at", "2017-02-11 19:18:34.764401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.766904"], ["updated_at", "2017-02-11 19:18:34.766904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.769093"], ["updated_at", "2017-02-11 19:18:34.769093"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$zw3eD9MgqU2tjeYJs8P9qetJj5OF/PxyWScRqCzqZq.AuWBBkW4yC"], ["created_at", "2017-02-11 19:18:34.773364"], ["updated_at", "2017-02-11 19:18:34.773364"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:18:34.775637"], ["updated_at", "2017-02-11 19:18:34.775637"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:18:34.777637"], ["updated_at", "2017-02-11 19:18:34.777637"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:18:34.780045"], ["updated_at", "2017-02-11 19:18:34.780045"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Timo' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Timo"], ["password_digest", "$2a$04$D/PgC/yp2Mk5xa.kr01ceOgUzHXMoUYshkfGkxW/XvBOQTO2G9K0K"], ["created_at", "2017-02-11 19:18:34.785070"], ["updated_at", "2017-02-11 19:18:34.785070"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["beer_id", 3], ["score", 40], ["created_at", "2017-02-11 19:18:34.787295"], ["updated_at", "2017-02-11 19:18:34.787295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.7ms)
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:18:34.816648"], ["updated_at", "2017-02-11 19:18:34.816648"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.819643"], ["updated_at", "2017-02-11 19:18:34.819643"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.822076"], ["updated_at", "2017-02-11 19:18:34.822076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:18:34.825832"], ["updated_at", "2017-02-11 19:18:34.825832"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$.1.HI9bXvpxoMeye2EPgiur.ut.S.sJ9SrieVahYo7TQUNXNNRH0."], ["created_at", "2017-02-11 19:18:34.831138"], ["updated_at", "2017-02-11 19:18:34.831138"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:18:34.833770"], ["updated_at", "2017-02-11 19:18:34.833770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:18:34.835908"], ["updated_at", "2017-02-11 19:18:34.835908"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:18:34.837754"], ["updated_at", "2017-02-11 19:18:34.837754"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:18:34 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:22:32.948682"], ["updated_at", "2017-02-11 19:22:32.948682"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:32.978166"], ["updated_at", "2017-02-11 19:22:32.978166"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:32.981216"], ["updated_at", "2017-02-11 19:22:32.981216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:32.983270"], ["updated_at", "2017-02-11 19:22:32.983270"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$psYetgHd6YHH8Bf4NEZAd.8r4pwaWQ3TGhtdx3v2ZIQsY9qkenjwK"], ["created_at", "2017-02-11 19:22:33.032180"], ["updated_at", "2017-02-11 19:22:33.032180"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 350ms (Views: 333.3ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 14ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.4ms | ActiveRecord: 1.5ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.2ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 41.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 19:22:33.599576"], ["updated_at", "2017-02-11 19:22:33.599576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 19:22:33.603321"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:22:33.636475"], ["updated_at", "2017-02-11 19:22:33.636475"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.639336"], ["updated_at", "2017-02-11 19:22:33.639336"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.641788"], ["updated_at", "2017-02-11 19:22:33.641788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.644002"], ["updated_at", "2017-02-11 19:22:33.644002"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$LgbR06o.kk3LjQorY6AAzOaRuIRwBzteAWjB.Q.KY6gyoXZw7sZ5a"], ["created_at", "2017-02-11 19:22:33.648355"], ["updated_at", "2017-02-11 19:22:33.648355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:22:33.650911"], ["updated_at", "2017-02-11 19:22:33.650911"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:22:33.652983"], ["updated_at", "2017-02-11 19:22:33.652983"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:22:33.654757"], ["updated_at", "2017-02-11 19:22:33.654757"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (9.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:22:33.699814"], ["updated_at", "2017-02-11 19:22:33.699814"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.703456"], ["updated_at", "2017-02-11 19:22:33.703456"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.707248"], ["updated_at", "2017-02-11 19:22:33.707248"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.713001"], ["updated_at", "2017-02-11 19:22:33.713001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$xy5MtWB7yo7hG/RQh.aeRe3Bakdu8bI5RP0HcmAdECRZklufY4LQe"], ["created_at", "2017-02-11 19:22:33.729471"], ["updated_at", "2017-02-11 19:22:33.729471"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:22:33.732789"], ["updated_at", "2017-02-11 19:22:33.732789"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:22:33.735580"], ["updated_at", "2017-02-11 19:22:33.735580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:22:33.738784"], ["updated_at", "2017-02-11 19:22:33.738784"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Timo' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Timo"], ["password_digest", "$2a$04$SvTu2UvG9ypFBi1JCyuXsuenUkB3AKggumiTwryASBP5TzDg4UOki"], ["created_at", "2017-02-11 19:22:33.751207"], ["updated_at", "2017-02-11 19:22:33.751207"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["beer_id", 3], ["score", 40], ["created_at", "2017-02-11 19:22:33.758183"], ["updated_at", "2017-02-11 19:22:33.758183"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (8.0ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:22:33.794733"], ["updated_at", "2017-02-11 19:22:33.794733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.797574"], ["updated_at", "2017-02-11 19:22:33.797574"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.799958"], ["updated_at", "2017-02-11 19:22:33.799958"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:22:33.802463"], ["updated_at", "2017-02-11 19:22:33.802463"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mGu4rFEIk7K.rSAqYiOqEuM6qt4Mno2xzXNWUyfhPGUNw7V44xS7q"], ["created_at", "2017-02-11 19:22:33.807448"], ["updated_at", "2017-02-11 19:22:33.807448"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:22:33.810184"], ["updated_at", "2017-02-11 19:22:33.810184"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:22:33.812285"], ["updated_at", "2017-02-11 19:22:33.812285"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:22:33.814227"], ["updated_at", "2017-02-11 19:22:33.814227"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:22:33 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (5.5ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:24:38.097278"], ["updated_at", "2017-02-11 19:24:38.097278"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.126261"], ["updated_at", "2017-02-11 19:24:38.126261"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.129228"], ["updated_at", "2017-02-11 19:24:38.129228"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.131262"], ["updated_at", "2017-02-11 19:24:38.131262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$djpBL7S9JeG9RMBfeUxi/.Olc2nIa.JvbXuciyQ8sQghEn15W2ovK"], ["created_at", "2017-02-11 19:24:38.178665"], ["updated_at", "2017-02-11 19:24:38.178665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 345ms (Views: 329.0ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.8ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (30.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 48ms (Views: 42.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 19:24:38.745874"], ["updated_at", "2017-02-11 19:24:38.745874"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 19:24:38.749767"], ["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:24:38.782527"], ["updated_at", "2017-02-11 19:24:38.782527"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.785348"], ["updated_at", "2017-02-11 19:24:38.785348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.787741"], ["updated_at", "2017-02-11 19:24:38.787741"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.789793"], ["updated_at", "2017-02-11 19:24:38.789793"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ZAfKhMBmZzXZ0lBlsABvnuPV5Pdpe6MaWPYqBrhyKPGtZd2kY3sJa"], ["created_at", "2017-02-11 19:24:38.794087"], ["updated_at", "2017-02-11 19:24:38.794087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:24:38.796623"], ["updated_at", "2017-02-11 19:24:38.796623"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:24:38.798703"], ["updated_at", "2017-02-11 19:24:38.798703"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:24:38.800575"], ["updated_at", "2017-02-11 19:24:38.800575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:24:38.830110"], ["updated_at", "2017-02-11 19:24:38.830110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.832897"], ["updated_at", "2017-02-11 19:24:38.832897"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.835460"], ["updated_at", "2017-02-11 19:24:38.835460"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.837460"], ["updated_at", "2017-02-11 19:24:38.837460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$peB40rttAsITPGD8ecO8OO3NgU92LvVvL3MYVy.Q/pirpaYRu44cK"], ["created_at", "2017-02-11 19:24:38.841830"], ["updated_at", "2017-02-11 19:24:38.841830"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:24:38.844191"], ["updated_at", "2017-02-11 19:24:38.844191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:24:38.846157"], ["updated_at", "2017-02-11 19:24:38.846157"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:24:38.848153"], ["updated_at", "2017-02-11 19:24:38.848153"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Timo' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Timo"], ["password_digest", "$2a$04$0iDpNlquuj0xY2dH/PyirOP.a.ead8MySUWMZJEupDSrgafjy5q52"], ["created_at", "2017-02-11 19:24:38.852236"], ["updated_at", "2017-02-11 19:24:38.852236"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["beer_id", 3], ["score", 40], ["created_at", "2017-02-11 19:24:38.854646"], ["updated_at", "2017-02-11 19:24:38.854646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.8ms)
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:24:38.883936"], ["updated_at", "2017-02-11 19:24:38.883936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.886780"], ["updated_at", "2017-02-11 19:24:38.886780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.889193"], ["updated_at", "2017-02-11 19:24:38.889193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:24:38.892555"], ["updated_at", "2017-02-11 19:24:38.892555"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$onhQnYZbhCWEdiud0Gy9JOV9P8/CjEvzzQTeaKq2/CgcIUji.gfqO"], ["created_at", "2017-02-11 19:24:38.897050"], ["updated_at", "2017-02-11 19:24:38.897050"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:24:38.899633"], ["updated_at", "2017-02-11 19:24:38.899633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:24:38.901726"], ["updated_at", "2017-02-11 19:24:38.901726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:24:38.903658"], ["updated_at", "2017-02-11 19:24:38.903658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.1ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.6ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:24:38 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.0ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (4.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:26:15.240074"], ["updated_at", "2017-02-11 19:26:15.240074"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:15.270415"], ["updated_at", "2017-02-11 19:26:15.270415"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:15.273562"], ["updated_at", "2017-02-11 19:26:15.273562"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:15.275804"], ["updated_at", "2017-02-11 19:26:15.275804"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$8rzUJMBacXh3CMlL1193f.26eGlBUeSOjzSxdUBn.fU.mJ/l86pi6"], ["created_at", "2017-02-11 19:26:15.323936"], ["updated_at", "2017-02-11 19:26:15.323936"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:26:15 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 344ms (Views: 328.2ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:26:15 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:26:15 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.2ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (49.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 63ms (Views: 59.5ms | ActiveRecord: 1.4ms)
Started GET "/ratings/new" for 127.0.0.1 at 2017-02-11 21:26:15 +0200
Processing by RatingsController#new as HTML
  [1m[35mBeer Load (0.2ms)[0m  SELECT "beers".* FROM "beers"
  [1m[36mBrewery Load (0.1ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "breweries".* FROM "breweries" WHERE "breweries"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered ratings/new.html.erb within layouts/application (31.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 49ms (Views: 43.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Started POST "/ratings" for 127.0.0.1 at 2017-02-11 21:26:15 +0200
Processing by RatingsController#create as HTML
  Parameters: {"utf8"=>"✓", "rating"=>{"beer_id"=>"1", "score"=>"15"}, "commit"=>"Create Rating"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["score", 15], ["beer_id", 1], ["created_at", "2017-02-11 19:26:15.887641"], ["updated_at", "2017-02-11 19:26:15.887641"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-11 19:26:15.891626"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 1.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:26:15 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."beer_id" = ?  [["beer_id", 1]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."beer_id" = ?[0m  [["beer_id", 1]]
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:26:15.925121"], ["updated_at", "2017-02-11 19:26:15.925121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:15.927954"], ["updated_at", "2017-02-11 19:26:15.927954"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:15.930278"], ["updated_at", "2017-02-11 19:26:15.930278"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:15.933448"], ["updated_at", "2017-02-11 19:26:15.933448"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$g2L5xDX1K7jABHgV03dZxe/QPEjiSeGmuj1.GWVa7SLrOoeC.IQc."], ["created_at", "2017-02-11 19:26:15.938522"], ["updated_at", "2017-02-11 19:26:15.938522"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:26:15.941193"], ["updated_at", "2017-02-11 19:26:15.941193"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:26:15.943288"], ["updated_at", "2017-02-11 19:26:15.943288"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:26:15.945203"], ["updated_at", "2017-02-11 19:26:15.945203"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/ratings" for 127.0.0.1 at 2017-02-11 21:26:15 +0200
Processing by RatingsController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings"
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.3ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered ratings/index.html.erb within layouts/application (18.5ms)
Completed 200 OK in 29ms (Views: 27.0ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings"
  [1m[36m (4.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:26:16.011724"], ["updated_at", "2017-02-11 19:26:16.011724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:16.015608"], ["updated_at", "2017-02-11 19:26:16.015608"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:16.020857"], ["updated_at", "2017-02-11 19:26:16.020857"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:16.024193"], ["updated_at", "2017-02-11 19:26:16.024193"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$MVitHWU76yWKc3Z8fjLKOOjl466z8H7yhW3wSythD6j2OzCbiAQ9K"], ["created_at", "2017-02-11 19:26:16.030999"], ["updated_at", "2017-02-11 19:26:16.030999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:26:16.033911"], ["updated_at", "2017-02-11 19:26:16.033911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:26:16.036318"], ["updated_at", "2017-02-11 19:26:16.036318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:26:16.038764"], ["updated_at", "2017-02-11 19:26:16.038764"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Timo' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Timo"], ["password_digest", "$2a$04$VTh/nzYPZLb0PAwvkwsTveQkV.pIVfw2.4y7i2T5B8cCxAujjEMk2"], ["created_at", "2017-02-11 19:26:16.046074"], ["updated_at", "2017-02-11 19:26:16.046074"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["beer_id", 3], ["score", 40], ["created_at", "2017-02-11 19:26:16.049372"], ["updated_at", "2017-02-11 19:26:16.049372"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:26:16 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered users/show.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.5ms)
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Koff"], ["year", 1900], ["created_at", "2017-02-11 19:26:16.078224"], ["updated_at", "2017-02-11 19:26:16.078224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "iso 3"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:16.081139"], ["updated_at", "2017-02-11 19:26:16.081139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Karhu"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:16.083500"], ["updated_at", "2017-02-11 19:26:16.083500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Karjala"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-11 19:26:16.086585"], ["updated_at", "2017-02-11 19:26:16.086585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$XRmzI5tscugmrxnWn/U7q.QWhSJJJyl5siHDEPUQiVKTSzgKVOag."], ["created_at", "2017-02-11 19:26:16.091168"], ["updated_at", "2017-02-11 19:26:16.091168"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 1], ["score", 10], ["created_at", "2017-02-11 19:26:16.093497"], ["updated_at", "2017-02-11 19:26:16.093497"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["user_id", 1], ["beer_id", 2], ["score", 20], ["created_at", "2017-02-11 19:26:16.095966"], ["updated_at", "2017-02-11 19:26:16.095966"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("user_id", "beer_id", "score", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["beer_id", 3], ["score", 30], ["created_at", "2017-02-11 19:26:16.098133"], ["updated_at", "2017-02-11 19:26:16.098133"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/signin" for 127.0.0.1 at 2017-02-11 21:26:16 +0200
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/session" for 127.0.0.1 at 2017-02-11 21:26:16 +0200
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "username"=>"Pekka", "password"=>"[FILTERED]", "commit"=>"Log in"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."username" = ? LIMIT 1[0m  [["username", "Pekka"]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:26:16 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.0ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.6ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:26:16 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeerClub Exists (0.1ms)[0m  SELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.1ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (7.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "ratings"
Started DELETE "/ratings/2" for 127.0.0.1 at 2017-02-11 21:26:16 +0200
Processing by RatingsController#destroy as HTML
  Parameters: {"id"=>"2"}
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "ratings" WHERE "ratings"."id" = ?  [["id", 2]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/users/1" for 127.0.0.1 at 2017-02-11 21:26:16 +0200
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeerClub Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "beer_clubs" INNER JOIN "memberships" ON "beer_clubs"."id" = "memberships"."beer_club_id" WHERE "memberships"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered users/show.html.erb within layouts/application (10.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (5.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mGIUEIejHrT.Q.kocafPRens5.s0Qkdu518EuKcLeuit.heqGUzN2"], ["created_at", "2017-02-12 12:25:08.740231"], ["updated_at", "2017-02-12 12:25:08.740231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$bT32va0V54Sg3xX36T3S6eaKqOo2dp67ifQHi7E.rb1ik7IpTPi7e"], ["created_at", "2017-02-12 12:25:08.750928"], ["updated_at", "2017-02-12 12:25:08.750928"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$g.L6pjdK8NnKEYmLhWy7ZOvbxTKfMpmVAacocgCrcjtE5xnsB3AZe"], ["created_at", "2017-02-12 12:25:08.817384"], ["updated_at", "2017-02-12 12:25:08.817384"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$2tZSQUWmzFQ4.YsNviD9vO9wXiU4/rlzVqAv.WjCNrSinljmz2s1u"], ["created_at", "2017-02-12 12:25:08.833056"], ["updated_at", "2017-02-12 12:25:08.833056"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.4ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$IatDZ7ISuhEUS0b3e84jAeJ10kYndMi/y.Wq9I6zFlj5hyxHY68HK"], ["created_at", "2017-02-12 12:25:08.844875"], ["updated_at", "2017-02-12 12:25:08.844875"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:08.870611"], ["updated_at", "2017-02-12 12:25:08.870611"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 12:25:08.880493"], ["updated_at", "2017-02-12 12:25:08.880493"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 12:25:08.885161"], ["updated_at", "2017-02-12 12:25:08.885161"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$JZWDw8RobDBl3AM0Mr7jS.jtnt5nEOitk.3UZ8eqjyFsnr1o4yFPG"], ["created_at", "2017-02-12 12:25:08.899829"], ["updated_at", "2017-02-12 12:25:08.899829"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:08.902581"], ["updated_at", "2017-02-12 12:25:08.902581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 12:25:08.904722"], ["updated_at", "2017-02-12 12:25:08.904722"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 12:25:08.906966"], ["updated_at", "2017-02-12 12:25:08.906966"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:08.908976"], ["updated_at", "2017-02-12 12:25:08.908976"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 12:25:08.910669"], ["updated_at", "2017-02-12 12:25:08.910669"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 12:25:08.912654"], ["updated_at", "2017-02-12 12:25:08.912654"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:08.914602"], ["updated_at", "2017-02-12 12:25:08.914602"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 12:25:08.916239"], ["updated_at", "2017-02-12 12:25:08.916239"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 12:25:08.918166"], ["updated_at", "2017-02-12 12:25:08.918166"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:08.920084"], ["updated_at", "2017-02-12 12:25:08.920084"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 12:25:08.921682"], ["updated_at", "2017-02-12 12:25:08.921682"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 12:25:08.923543"], ["updated_at", "2017-02-12 12:25:08.923543"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:08.925495"], ["updated_at", "2017-02-12 12:25:08.925495"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 12:25:08.927060"], ["updated_at", "2017-02-12 12:25:08.927060"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 12:25:08.928927"], ["updated_at", "2017-02-12 12:25:08.928927"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:08.931207"], ["updated_at", "2017-02-12 12:25:08.931207"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 12:25:08.933362"], ["updated_at", "2017-02-12 12:25:08.933362"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 12:25:08.935547"], ["updated_at", "2017-02-12 12:25:08.935547"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$.ApZNn9gB16neXBnaX47X.IzTO/c4qUpsZ3wnrrNYXy6VRHGkt2N."], ["created_at", "2017-02-12 12:25:08.945938"], ["updated_at", "2017-02-12 12:25:08.945938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$54/oN23x.4Ip7cgcb4b1v.9GWAeDles9TaY8gDLwXn5aGrlCtS8cy"], ["created_at", "2017-02-12 12:25:09.026630"], ["updated_at", "2017-02-12 12:25:09.026630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wxMQXrPzhrDRFv.6KQcLo.5H/VgNMOZ1blLQF9ITI05rdGkug.eqS"], ["created_at", "2017-02-12 12:25:09.035622"], ["updated_at", "2017-02-12 12:25:09.035622"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$TtbCHU2a4l/DdCXD3GWx.uYQFGiIgL4pMNlXn4cZdLzmVwwCHIjYO"], ["created_at", "2017-02-12 12:25:09.043039"], ["updated_at", "2017-02-12 12:25:09.043039"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:09.047817"], ["updated_at", "2017-02-12 12:25:09.047817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 12:25:09.050747"], ["updated_at", "2017-02-12 12:25:09.050747"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$IqrW0YZ.5Go4C5YQoWtS3uWBZYwP8Kuw38Z9ZwmyeIyqC3XJRwNVy"], ["created_at", "2017-02-12 12:25:09.055282"], ["updated_at", "2017-02-12 12:25:09.055282"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:09.062935"], ["updated_at", "2017-02-12 12:25:09.062935"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:09.065332"], ["updated_at", "2017-02-12 12:25:09.065332"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:25:09.067204"], ["updated_at", "2017-02-12 12:25:09.067204"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$gv01CFjVoYg4aR0LtHuru.8xXMirMIuqvUvmv/ioNGsvuGu2Pfi4."], ["created_at", "2017-02-12 12:33:43.174359"], ["updated_at", "2017-02-12 12:33:43.174359"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$8kbdELitJbp7mIj476sHru97OtBTnTMkIX48wI.2ciSjtd7muF4lq"], ["created_at", "2017-02-12 12:33:43.186777"], ["updated_at", "2017-02-12 12:33:43.186777"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$t96wlc3Ma42e./0PGhDOne2iAP4EvQ3.dYjGZDd6sdeHtQub2jcIe"], ["created_at", "2017-02-12 12:33:43.227353"], ["updated_at", "2017-02-12 12:33:43.227353"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$6m/dY5Sa7l5/ccw7w0/kh.RqSMu7ljG47EMjjt8AhMzv.CfSYgRLm"], ["created_at", "2017-02-12 12:33:43.238524"], ["updated_at", "2017-02-12 12:33:43.238524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$aAHLWcLLU5az6PbXZWLB8exB6fNrI4e/4vnn.45ty8zqBJ4BYrD3q"], ["created_at", "2017-02-12 12:33:43.250543"], ["updated_at", "2017-02-12 12:33:43.250543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.276998"], ["updated_at", "2017-02-12 12:33:43.276998"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.286502"], ["updated_at", "2017-02-12 12:33:43.286502"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 12:33:43.292507"], ["updated_at", "2017-02-12 12:33:43.292507"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$U09RMJZfX.lN5xqcsmgJMOxjAAlHLncQKWTKPWQN8lneUFEOR.5S."], ["created_at", "2017-02-12 12:33:43.307954"], ["updated_at", "2017-02-12 12:33:43.307954"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.310794"], ["updated_at", "2017-02-12 12:33:43.310794"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.312893"], ["updated_at", "2017-02-12 12:33:43.312893"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 12:33:43.315123"], ["updated_at", "2017-02-12 12:33:43.315123"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.317269"], ["updated_at", "2017-02-12 12:33:43.317269"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.318913"], ["updated_at", "2017-02-12 12:33:43.318913"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 12:33:43.321029"], ["updated_at", "2017-02-12 12:33:43.321029"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.322930"], ["updated_at", "2017-02-12 12:33:43.322930"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.324483"], ["updated_at", "2017-02-12 12:33:43.324483"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 12:33:43.326516"], ["updated_at", "2017-02-12 12:33:43.326516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.328388"], ["updated_at", "2017-02-12 12:33:43.328388"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.330003"], ["updated_at", "2017-02-12 12:33:43.330003"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 12:33:43.332004"], ["updated_at", "2017-02-12 12:33:43.332004"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.333845"], ["updated_at", "2017-02-12 12:33:43.333845"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.335409"], ["updated_at", "2017-02-12 12:33:43.335409"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 12:33:43.337311"], ["updated_at", "2017-02-12 12:33:43.337311"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.339242"], ["updated_at", "2017-02-12 12:33:43.339242"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.340943"], ["updated_at", "2017-02-12 12:33:43.340943"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 12:33:43.343305"], ["updated_at", "2017-02-12 12:33:43.343305"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$EkxJbeLS8trohW6mM79wP.NDYpM5UaPMd4/4tn06KOXCfx3EBRKiC"], ["created_at", "2017-02-12 12:33:43.357276"], ["updated_at", "2017-02-12 12:33:43.357276"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Q1iJwxlwfuRqt6jVzgl/m.9fzTgHd7.ENDpNXJ6KT.yDbqleHFAfi"], ["created_at", "2017-02-12 12:33:43.365212"], ["updated_at", "2017-02-12 12:33:43.365212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ofaKfsDE3HrQ1yQEyeLMaO4mfgXpumE/JP9VTyStC9r0gtjIhTuCy"], ["created_at", "2017-02-12 12:33:43.377402"], ["updated_at", "2017-02-12 12:33:43.377402"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$dtdGKmLIjnoG5AhLE7zRK.AuVciMVsGcNrY7dT.6S2rwg4jspGHvS"], ["created_at", "2017-02-12 12:33:43.384988"], ["updated_at", "2017-02-12 12:33:43.384988"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.389624"], ["updated_at", "2017-02-12 12:33:43.389624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 12:33:43.392768"], ["updated_at", "2017-02-12 12:33:43.392768"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$4XkW3RC.yw7BzIBle51bO.utzMMHz8uiFkukYZMwJ1x.80ltuoi5O"], ["created_at", "2017-02-12 12:33:43.397435"], ["updated_at", "2017-02-12 12:33:43.397435"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.405222"], ["updated_at", "2017-02-12 12:33:43.405222"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.407587"], ["updated_at", "2017-02-12 12:33:43.407587"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 12:33:43.409550"], ["updated_at", "2017-02-12 12:33:43.409550"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStyles (20170212131624)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "styles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170212131624"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$TsYbmUOCr/yVAi/x4kVgAOgYSUoCyMYjtwK80RFa6p7CxmXEeKTU6"], ["created_at", "2017-02-12 13:26:23.939019"], ["updated_at", "2017-02-12 13:26:23.939019"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wRLhPyAyYALZz8bwJ0d8fOktEkHhYRn0P/3KMdecUfNEFBNeyeNpG"], ["created_at", "2017-02-12 13:26:23.953646"], ["updated_at", "2017-02-12 13:26:23.953646"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$O9sIH/Q2T4I8bs8WNsdP7.ft6CcVuI3WTLGb33AHlgOnwFXE7jUwu"], ["created_at", "2017-02-12 13:26:23.993610"], ["updated_at", "2017-02-12 13:26:23.993610"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$TTfkYVlA4DxB4uGw/G1Bqec.w8zJh.dbd6Lhy6fqEqJ1SpZdvqSuO"], ["created_at", "2017-02-12 13:26:24.004642"], ["updated_at", "2017-02-12 13:26:24.004642"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$HYfUeZICTSXYKjxEt9K2vu9qwaahWrUa7bRyQl44Ohsx9DBdutTqi"], ["created_at", "2017-02-12 13:26:24.016165"], ["updated_at", "2017-02-12 13:26:24.016165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.043492"], ["updated_at", "2017-02-12 13:26:24.043492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.055082"], ["updated_at", "2017-02-12 13:26:24.055082"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 13:26:24.060237"], ["updated_at", "2017-02-12 13:26:24.060237"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$1a7WdKnR8/PLj7aA40Wb5OFU8nEJEJYpd39dLuNMVISB.ofpvIAVO"], ["created_at", "2017-02-12 13:26:24.075222"], ["updated_at", "2017-02-12 13:26:24.075222"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.077888"], ["updated_at", "2017-02-12 13:26:24.077888"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.079964"], ["updated_at", "2017-02-12 13:26:24.079964"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 13:26:24.082208"], ["updated_at", "2017-02-12 13:26:24.082208"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.084274"], ["updated_at", "2017-02-12 13:26:24.084274"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.085937"], ["updated_at", "2017-02-12 13:26:24.085937"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 13:26:24.087855"], ["updated_at", "2017-02-12 13:26:24.087855"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.089773"], ["updated_at", "2017-02-12 13:26:24.089773"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.091317"], ["updated_at", "2017-02-12 13:26:24.091317"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 13:26:24.093272"], ["updated_at", "2017-02-12 13:26:24.093272"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.095145"], ["updated_at", "2017-02-12 13:26:24.095145"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.096703"], ["updated_at", "2017-02-12 13:26:24.096703"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 13:26:24.098589"], ["updated_at", "2017-02-12 13:26:24.098589"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.100418"], ["updated_at", "2017-02-12 13:26:24.100418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.102166"], ["updated_at", "2017-02-12 13:26:24.102166"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 13:26:24.104164"], ["updated_at", "2017-02-12 13:26:24.104164"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.106019"], ["updated_at", "2017-02-12 13:26:24.106019"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.107683"], ["updated_at", "2017-02-12 13:26:24.107683"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 13:26:24.109688"], ["updated_at", "2017-02-12 13:26:24.109688"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$LzTybZmBChv0cDjMgvyT0.YpIH4WTawcFJH5DuMIBaerRZ1kKHa6C"], ["created_at", "2017-02-12 13:26:24.120497"], ["updated_at", "2017-02-12 13:26:24.120497"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$QjwKaTZyWsxNvLPl1WqJwOB06qbATk0pAdl3EoQhpoSdfl3XSrHfq"], ["created_at", "2017-02-12 13:26:24.129216"], ["updated_at", "2017-02-12 13:26:24.129216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tyL7BOAxtoDkdxtgXnVZrOB54xCHVzBa9Kb6hUOg5eUc0AY7iJBva"], ["created_at", "2017-02-12 13:26:24.138355"], ["updated_at", "2017-02-12 13:26:24.138355"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$CR/RN1oS3cwlqugBp/iyUeWRcQOKMa8OGmnp9mbUsAdm7nZrtuTyi"], ["created_at", "2017-02-12 13:26:24.145570"], ["updated_at", "2017-02-12 13:26:24.145570"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.150376"], ["updated_at", "2017-02-12 13:26:24.150376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:26:24.153486"], ["updated_at", "2017-02-12 13:26:24.153486"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Pznkcf/YUiivq7jRCjmjNef11q.kvy1FIJnGKuDummsKma3zmjIB2"], ["created_at", "2017-02-12 13:26:24.159839"], ["updated_at", "2017-02-12 13:26:24.159839"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.169651"], ["updated_at", "2017-02-12 13:26:24.169651"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.172661"], ["updated_at", "2017-02-12 13:26:24.172661"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:26:24.175178"], ["updated_at", "2017-02-12 13:26:24.175178"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$OTVfopYobhFZHUhZvSGpReTP5CCFo5f3vKJib5Tgaa296ofi.hwFW"], ["created_at", "2017-02-12 13:47:46.828134"], ["updated_at", "2017-02-12 13:47:46.828134"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Mx0ax8G2ySRB.CPGTajFaOmAMSRjzCrd/9tg1/qIQQ5eZRqfNvm6K"], ["created_at", "2017-02-12 13:47:46.840459"], ["updated_at", "2017-02-12 13:47:46.840459"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$8/cI9DKkXesvlqPcSJnEDOYoYlsAo372l969AuhkcyKCA2nEDwXF2"], ["created_at", "2017-02-12 13:47:46.880098"], ["updated_at", "2017-02-12 13:47:46.880098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$XmsrxdSHq7SjCO8XvQMRHe35iiof0u.GSVSiFfIWxA3FbDA/nnble"], ["created_at", "2017-02-12 13:47:46.891738"], ["updated_at", "2017-02-12 13:47:46.891738"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$hLXzDs7tZP7vYvsG4hJAI.u.z2veYbGjpNdU9wv3iP1NY6D8qw.He"], ["created_at", "2017-02-12 13:47:46.903190"], ["updated_at", "2017-02-12 13:47:46.903190"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:46.929124"], ["updated_at", "2017-02-12 13:47:46.929124"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:47:46.938108"], ["updated_at", "2017-02-12 13:47:46.938108"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 13:47:46.942391"], ["updated_at", "2017-02-12 13:47:46.942391"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$uoTr9WzgZyqeX5lEQ7ov5.Y7XS.tFWKHdaYErmdH9U.ojqNLtc87a"], ["created_at", "2017-02-12 13:47:46.957425"], ["updated_at", "2017-02-12 13:47:46.957425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:46.960195"], ["updated_at", "2017-02-12 13:47:46.960195"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:47:46.962428"], ["updated_at", "2017-02-12 13:47:46.962428"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 13:47:46.964840"], ["updated_at", "2017-02-12 13:47:46.964840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:46.966964"], ["updated_at", "2017-02-12 13:47:46.966964"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 13:47:46.968631"], ["updated_at", "2017-02-12 13:47:46.968631"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 13:47:46.970552"], ["updated_at", "2017-02-12 13:47:46.970552"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:46.972474"], ["updated_at", "2017-02-12 13:47:46.972474"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 13:47:46.974041"], ["updated_at", "2017-02-12 13:47:46.974041"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 13:47:46.976118"], ["updated_at", "2017-02-12 13:47:46.976118"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:46.978089"], ["updated_at", "2017-02-12 13:47:46.978089"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 13:47:46.979655"], ["updated_at", "2017-02-12 13:47:46.979655"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 13:47:46.981621"], ["updated_at", "2017-02-12 13:47:46.981621"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:46.983562"], ["updated_at", "2017-02-12 13:47:46.983562"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 13:47:46.985189"], ["updated_at", "2017-02-12 13:47:46.985189"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 13:47:46.987154"], ["updated_at", "2017-02-12 13:47:46.987154"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:46.989085"], ["updated_at", "2017-02-12 13:47:46.989085"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 13:47:46.990777"], ["updated_at", "2017-02-12 13:47:46.990777"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 13:47:46.992748"], ["updated_at", "2017-02-12 13:47:46.992748"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mxm.aV6Rx36NaGrnMWI8XuPF7FiNQLipFqFQjVhkheS.4qUOvdona"], ["created_at", "2017-02-12 13:47:47.003167"], ["updated_at", "2017-02-12 13:47:47.003167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$X2RXJPXve6KTtihZb2X9ped5wRz3IYiiGQEneSZK9Nk41vY13oNzi"], ["created_at", "2017-02-12 13:47:47.010734"], ["updated_at", "2017-02-12 13:47:47.010734"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 13:47:47.026984"], ["updated_at", "2017-02-12 13:47:47.026984"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.030216"], ["updated_at", "2017-02-12 13:47:47.030216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007f9ee698e540>"], ["created_at", "2017-02-12 13:47:47.032376"], ["updated_at", "2017-02-12 13:47:47.032376"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$l.B25KEPDnTIB.VoS7Sa/eSpbkeem5EgyJ7iWmaBK1Y798i3XZc1O"], ["created_at", "2017-02-12 13:47:47.037069"], ["updated_at", "2017-02-12 13:47:47.037069"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 13:47:47.046664"], ["updated_at", "2017-02-12 13:47:47.046664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 13:47:47.049006"], ["updated_at", "2017-02-12 13:47:47.049006"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 13:47:47.050869"], ["updated_at", "2017-02-12 13:47:47.050869"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.052633"], ["updated_at", "2017-02-12 13:47:47.052633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$AR4dnEofMDU00EJ79HVrz.Dcqeizz8Hg01lNAtDzFy52.C/9WZFb2"], ["created_at", "2017-02-12 13:47:47.056931"], ["updated_at", "2017-02-12 13:47:47.056931"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.059412"], ["updated_at", "2017-02-12 13:47:47.059412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 13:47:47.061148"], ["updated_at", "2017-02-12 13:47:47.061148"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Iszmaa7CVHQvSe/C1T8BAuKpvUBbFMfyGN/V76PkRoNC9m4dj7pdu"], ["created_at", "2017-02-12 13:47:47.072759"], ["updated_at", "2017-02-12 13:47:47.072759"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$MlK0KuUFe0AOXxzYo5sJ5uRTAAnZA4Vz1PAHOaAZsKQCHcbVzVqR2"], ["created_at", "2017-02-12 13:47:47.080812"], ["updated_at", "2017-02-12 13:47:47.080812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.086460"], ["updated_at", "2017-02-12 13:47:47.086460"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:47:47.089237"], ["updated_at", "2017-02-12 13:47:47.089237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$sooVCUskKukoDg3wC.0IV.UYGjrrF9vxjMuWTOd7wm7VYCgNp84IW"], ["created_at", "2017-02-12 13:47:47.093765"], ["updated_at", "2017-02-12 13:47:47.093765"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.101929"], ["updated_at", "2017-02-12 13:47:47.101929"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.104449"], ["updated_at", "2017-02-12 13:47:47.104449"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.107176"], ["updated_at", "2017-02-12 13:47:47.107176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 13:47:47.109562"], ["updated_at", "2017-02-12 13:47:47.109562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 13:47:47.111694"], ["updated_at", "2017-02-12 13:47:47.111694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 13:47:47.113767"], ["updated_at", "2017-02-12 13:47:47.113767"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$7LYrOuenoaJLdn16bok4TeW5QM5brjpWG.Kb2mtyp61BOgcsMQKI2"], ["created_at", "2017-02-12 13:47:47.118201"], ["updated_at", "2017-02-12 13:47:47.118201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:47:47.120412"], ["updated_at", "2017-02-12 13:47:47.120412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 13:47:47.122473"], ["updated_at", "2017-02-12 13:47:47.122473"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$W8L51BKhTcJYimeSX4Jjs..9G9bgwZzbuqbRUtc3sWrRyTlv6BYw2"], ["created_at", "2017-02-12 13:54:41.059215"], ["updated_at", "2017-02-12 13:54:41.059215"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5mqVBYGhvQEznzG.PF08Z.k8Io/nHeb/WvkTs5QtW/VW6HqHkELqW"], ["created_at", "2017-02-12 13:54:41.071720"], ["updated_at", "2017-02-12 13:54:41.071720"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$S/OqqnLRSBQgngW.MC2Zhe.qB37j3LsAIx50Myy9BjMfDJPwMI6NG"], ["created_at", "2017-02-12 13:54:41.110184"], ["updated_at", "2017-02-12 13:54:41.110184"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$lHhx3gSzp7b3zS31SCxAH.90vmyXEScH29GNhWSGit475TxTK3Wpu"], ["created_at", "2017-02-12 13:54:41.121471"], ["updated_at", "2017-02-12 13:54:41.121471"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$RA/qkeDPGSnS4lD8K0H0k.Leai4ASLAPx.6BTLtZD8C2OjMxpNnKC"], ["created_at", "2017-02-12 13:54:41.133539"], ["updated_at", "2017-02-12 13:54:41.133539"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.160197"], ["updated_at", "2017-02-12 13:54:41.160197"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.169207"], ["updated_at", "2017-02-12 13:54:41.169207"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 13:54:41.173646"], ["updated_at", "2017-02-12 13:54:41.173646"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$dbGiuoxUiqS9sPZyhZcfguxU3LZOpfztfgRPwR1vIZsHMV37.iiee"], ["created_at", "2017-02-12 13:54:41.188660"], ["updated_at", "2017-02-12 13:54:41.188660"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.191441"], ["updated_at", "2017-02-12 13:54:41.191441"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.193478"], ["updated_at", "2017-02-12 13:54:41.193478"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 13:54:41.195934"], ["updated_at", "2017-02-12 13:54:41.195934"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.198003"], ["updated_at", "2017-02-12 13:54:41.198003"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.199615"], ["updated_at", "2017-02-12 13:54:41.199615"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 13:54:41.201587"], ["updated_at", "2017-02-12 13:54:41.201587"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.203403"], ["updated_at", "2017-02-12 13:54:41.203403"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.205021"], ["updated_at", "2017-02-12 13:54:41.205021"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 13:54:41.207022"], ["updated_at", "2017-02-12 13:54:41.207022"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.208825"], ["updated_at", "2017-02-12 13:54:41.208825"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.210419"], ["updated_at", "2017-02-12 13:54:41.210419"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 13:54:41.212363"], ["updated_at", "2017-02-12 13:54:41.212363"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.214291"], ["updated_at", "2017-02-12 13:54:41.214291"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.215783"], ["updated_at", "2017-02-12 13:54:41.215783"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 13:54:41.217797"], ["updated_at", "2017-02-12 13:54:41.217797"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.219804"], ["updated_at", "2017-02-12 13:54:41.219804"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.221577"], ["updated_at", "2017-02-12 13:54:41.221577"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 13:54:41.223505"], ["updated_at", "2017-02-12 13:54:41.223505"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$J4hbW/.cX5qTXUq2/SW1ue3dEurOyxUrhEcPCwCqPW3kOCOnPznPC"], ["created_at", "2017-02-12 13:54:41.234752"], ["updated_at", "2017-02-12 13:54:41.234752"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$AFnf2eGbkZfxr7z0K1oEFOsYR3TpFqilb0/HJs.YSeHcpCjFe48WK"], ["created_at", "2017-02-12 13:54:41.242631"], ["updated_at", "2017-02-12 13:54:41.242631"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 13:54:41.257769"], ["updated_at", "2017-02-12 13:54:41.257769"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.261001"], ["updated_at", "2017-02-12 13:54:41.261001"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fed916c90b8>"], ["created_at", "2017-02-12 13:54:41.263210"], ["updated_at", "2017-02-12 13:54:41.263210"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$thY9zfN/lJWtSBc1e5f5lOu9nhQ4rwdB708DHvATNA3BkPsFZtWn2"], ["created_at", "2017-02-12 13:54:41.267826"], ["updated_at", "2017-02-12 13:54:41.267826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 13:54:41.278538"], ["updated_at", "2017-02-12 13:54:41.278538"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 13:54:41.280996"], ["updated_at", "2017-02-12 13:54:41.280996"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 13:54:41.282892"], ["updated_at", "2017-02-12 13:54:41.282892"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.284893"], ["updated_at", "2017-02-12 13:54:41.284893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$9yaJ0JVSxBUOYbMrJ1FQteu7zqkUoMqUjLyzoBWgj5WPcrDWhWjkq"], ["created_at", "2017-02-12 13:54:41.290333"], ["updated_at", "2017-02-12 13:54:41.290333"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.293773"], ["updated_at", "2017-02-12 13:54:41.293773"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.296009"], ["updated_at", "2017-02-12 13:54:41.296009"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$.BOTlmi50LG6Wfyu/rcQWeE/YzA6SLmUKNikSWS5n1GNz1rqR8bMu"], ["created_at", "2017-02-12 13:54:41.306762"], ["updated_at", "2017-02-12 13:54:41.306762"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$7kBDpFuRBRmuoSQh9ekbOe504dHJtZMaxCGSFNR4LjhCiSfpZJFjK"], ["created_at", "2017-02-12 13:54:41.316729"], ["updated_at", "2017-02-12 13:54:41.316729"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.323626"], ["updated_at", "2017-02-12 13:54:41.323626"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.326337"], ["updated_at", "2017-02-12 13:54:41.326337"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$qoqYOAItOp9Tf303j6EqvujOf/lWx2NANLD8uIpBMv0TgarNxo8RK"], ["created_at", "2017-02-12 13:54:41.331035"], ["updated_at", "2017-02-12 13:54:41.331035"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.338507"], ["updated_at", "2017-02-12 13:54:41.338507"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.341049"], ["updated_at", "2017-02-12 13:54:41.341049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.343855"], ["updated_at", "2017-02-12 13:54:41.343855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 13:54:41.345827"], ["updated_at", "2017-02-12 13:54:41.345827"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 13:54:41.347702"], ["updated_at", "2017-02-12 13:54:41.347702"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 13:54:41.349246"], ["updated_at", "2017-02-12 13:54:41.349246"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ArAkaJbguqivNH4A.QoepOsgozQOlAOizi/Lh2DPL3.iinJ.gugVi"], ["created_at", "2017-02-12 13:54:41.353221"], ["updated_at", "2017-02-12 13:54:41.353221"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 13:54:41.355301"], ["updated_at", "2017-02-12 13:54:41.355301"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 13:54:41.356987"], ["updated_at", "2017-02-12 13:54:41.356987"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$XR/BX0YyU/wJ1s1fKLDrL.JT9A/HopOcbOWk3RgUhZvgEM17b1LC."], ["created_at", "2017-02-12 14:08:12.861986"], ["updated_at", "2017-02-12 14:08:12.861986"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$bZjXv8lsZ5c.g0o4UkY8X.qmrve46VfRYV5tu6OzgBB6Reu6yk.u."], ["created_at", "2017-02-12 14:08:12.876110"], ["updated_at", "2017-02-12 14:08:12.876110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$VrUQzyyhLlxPsn8Sf3emweKLDGoawda4Jx9wfTpPWFB8sjkanMIlC"], ["created_at", "2017-02-12 14:08:12.906280"], ["updated_at", "2017-02-12 14:08:12.906280"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wjr2tiItmwLieW3rB1o7D.vElxv9SNAo1irl257tkgVCF/aRRhLxu"], ["created_at", "2017-02-12 14:08:12.918973"], ["updated_at", "2017-02-12 14:08:12.918973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$F0EZMqzRsbCxpmIEcgv4nu.40O6/AN2jIew1zq3p3EGql6SEYd7w2"], ["created_at", "2017-02-12 14:08:12.931015"], ["updated_at", "2017-02-12 14:08:12.931015"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:12.957325"], ["updated_at", "2017-02-12 14:08:12.957325"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:08:12.966736"], ["updated_at", "2017-02-12 14:08:12.966736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:08:12.976221"], ["updated_at", "2017-02-12 14:08:12.976221"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$qTgxHQ7kvmIEqNotTIxPee47MYeqISFmQ6xTH8M.QW1J0PfTzicq6"], ["created_at", "2017-02-12 14:08:12.992048"], ["updated_at", "2017-02-12 14:08:12.992048"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:12.994780"], ["updated_at", "2017-02-12 14:08:12.994780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:08:12.997387"], ["updated_at", "2017-02-12 14:08:12.997387"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:08:12.999667"], ["updated_at", "2017-02-12 14:08:12.999667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.001758"], ["updated_at", "2017-02-12 14:08:13.001758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.003470"], ["updated_at", "2017-02-12 14:08:13.003470"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 14:08:13.005443"], ["updated_at", "2017-02-12 14:08:13.005443"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.007437"], ["updated_at", "2017-02-12 14:08:13.007437"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.009068"], ["updated_at", "2017-02-12 14:08:13.009068"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 14:08:13.011086"], ["updated_at", "2017-02-12 14:08:13.011086"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.012967"], ["updated_at", "2017-02-12 14:08:13.012967"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.014478"], ["updated_at", "2017-02-12 14:08:13.014478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 14:08:13.016415"], ["updated_at", "2017-02-12 14:08:13.016415"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.018369"], ["updated_at", "2017-02-12 14:08:13.018369"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.019953"], ["updated_at", "2017-02-12 14:08:13.019953"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 14:08:13.021958"], ["updated_at", "2017-02-12 14:08:13.021958"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.023872"], ["updated_at", "2017-02-12 14:08:13.023872"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.025545"], ["updated_at", "2017-02-12 14:08:13.025545"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 14:08:13.027479"], ["updated_at", "2017-02-12 14:08:13.027479"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$eWHbWZgLdtARf7krI.Cf3ezOnIZ06oG7byVaP5qdJTXuy8YCugvSW"], ["created_at", "2017-02-12 14:08:13.037609"], ["updated_at", "2017-02-12 14:08:13.037609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$A1YuhRQ3Rby6GVAWkKrgqe45SUT3JXcP1BgMwJqQ1RGaoRnvEITDC"], ["created_at", "2017-02-12 14:08:13.045777"], ["updated_at", "2017-02-12 14:08:13.045777"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:08:13.061097"], ["updated_at", "2017-02-12 14:08:13.061097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.064168"], ["updated_at", "2017-02-12 14:08:13.064168"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fcd2ee9ecd0>"], ["created_at", "2017-02-12 14:08:13.066218"], ["updated_at", "2017-02-12 14:08:13.066218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$S2ad9wXTJcf9JyQb1smSi.Yo1x.1mjznuNKmKMMKFPIE0DFcTfX66"], ["created_at", "2017-02-12 14:08:13.071130"], ["updated_at", "2017-02-12 14:08:13.071130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 14:08:13.081560"], ["updated_at", "2017-02-12 14:08:13.081560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 14:08:13.083867"], ["updated_at", "2017-02-12 14:08:13.083867"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 14:08:13.085766"], ["updated_at", "2017-02-12 14:08:13.085766"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.087534"], ["updated_at", "2017-02-12 14:08:13.087534"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ZCWSccam2M1l4gGovZRVj.Yjz6tnD7NBUFRC/LdRxSTeAATPaT2Im"], ["created_at", "2017-02-12 14:08:13.092756"], ["updated_at", "2017-02-12 14:08:13.092756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.095713"], ["updated_at", "2017-02-12 14:08:13.095713"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.098039"], ["updated_at", "2017-02-12 14:08:13.098039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$OKPB4e7CjJnc08JgEGSVAu1oL8IRgIemQleyP0N8OKuVmTOlBKHaO"], ["created_at", "2017-02-12 14:08:13.109399"], ["updated_at", "2017-02-12 14:08:13.109399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$pPTYyPaExs.QxKAho6BG3usJiFfaDGdvElsSwkFXoI75Vzc3UmEIS"], ["created_at", "2017-02-12 14:08:13.116819"], ["updated_at", "2017-02-12 14:08:13.116819"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.122280"], ["updated_at", "2017-02-12 14:08:13.122280"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.124818"], ["updated_at", "2017-02-12 14:08:13.124818"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ZrLIU5ydlwYVdRrdkBwqZOwSQUt9x2P0nyOMJIdv3jXawFOERYTjm"], ["created_at", "2017-02-12 14:08:13.129436"], ["updated_at", "2017-02-12 14:08:13.129436"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.138317"], ["updated_at", "2017-02-12 14:08:13.138317"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.140804"], ["updated_at", "2017-02-12 14:08:13.140804"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.142892"], ["updated_at", "2017-02-12 14:08:13.142892"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:08:13.144608"], ["updated_at", "2017-02-12 14:08:13.144608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 14:08:13.146482"], ["updated_at", "2017-02-12 14:08:13.146482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 14:08:13.148322"], ["updated_at", "2017-02-12 14:08:13.148322"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$1RafF2aJbxJzfjTIeSVJNOqmbV4c0ICP0zN3o/U8s/Mc1w7cVbNAq"], ["created_at", "2017-02-12 14:08:13.152720"], ["updated_at", "2017-02-12 14:08:13.152720"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:08:13.154972"], ["updated_at", "2017-02-12 14:08:13.154972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:08:13.156780"], ["updated_at", "2017-02-12 14:08:13.156780"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$nUl7ENfD7ylYnELvm0zX7uXYC4C6pLhxdxvFIDlyFp3VmyiGO114C"], ["created_at", "2017-02-12 14:09:00.295408"], ["updated_at", "2017-02-12 14:09:00.295408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$BUiSm4Hn4ALjova5HgUt4udop74LiN4AlPddRw1MGgVFV2RyBovOm"], ["created_at", "2017-02-12 14:09:00.307269"], ["updated_at", "2017-02-12 14:09:00.307269"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["score", 25], ["created_at", "2017-02-12 14:09:00.339543"], ["updated_at", "2017-02-12 14:09:00.339543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-12 14:09:00.349230"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["score", 35], ["created_at", "2017-02-12 14:09:00.367468"], ["updated_at", "2017-02-12 14:09:00.367468"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "ratings" SET "user_id" = ?, "updated_at" = ? WHERE "ratings"."id" = ?  [["user_id", 1], ["updated_at", "2017-02-12 14:09:00.369241"], ["id", 2]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$1u.DlwcUDgBmExthZX2MCuMiAYUmoGS9OyNsDtC7.QepmtkDHXZxS"], ["created_at", "2017-02-12 14:09:00.408877"], ["updated_at", "2017-02-12 14:09:00.408877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Dia3EVWCMPS7YrkcyRBekeZ3bQ9jbj.loRfnNFw4QM002v2YNjjBm"], ["created_at", "2017-02-12 14:09:00.419501"], ["updated_at", "2017-02-12 14:09:00.419501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$fpTrpJDtP/zh.fUX5W.RSektSmYX2Oa1i2qh4RwpDnji68I9kNaHm"], ["created_at", "2017-02-12 14:09:00.431539"], ["updated_at", "2017-02-12 14:09:00.431539"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.455398"], ["updated_at", "2017-02-12 14:09:00.455398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.459027"], ["updated_at", "2017-02-12 14:09:00.459027"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:09:00.462332"], ["updated_at", "2017-02-12 14:09:00.462332"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$hloZhsHfK9k8JvZge5Qh8eEN3LcR.igwa19iWxwXW2ezHmrGx0qf."], ["created_at", "2017-02-12 14:09:00.473830"], ["updated_at", "2017-02-12 14:09:00.473830"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.476580"], ["updated_at", "2017-02-12 14:09:00.476580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.478641"], ["updated_at", "2017-02-12 14:09:00.478641"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:09:00.481096"], ["updated_at", "2017-02-12 14:09:00.481096"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.483116"], ["updated_at", "2017-02-12 14:09:00.483116"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.484800"], ["updated_at", "2017-02-12 14:09:00.484800"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 14:09:00.486749"], ["updated_at", "2017-02-12 14:09:00.486749"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.488636"], ["updated_at", "2017-02-12 14:09:00.488636"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.490212"], ["updated_at", "2017-02-12 14:09:00.490212"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 14:09:00.492210"], ["updated_at", "2017-02-12 14:09:00.492210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.494137"], ["updated_at", "2017-02-12 14:09:00.494137"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.495711"], ["updated_at", "2017-02-12 14:09:00.495711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 14:09:00.497723"], ["updated_at", "2017-02-12 14:09:00.497723"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.499680"], ["updated_at", "2017-02-12 14:09:00.499680"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.501306"], ["updated_at", "2017-02-12 14:09:00.501306"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 14:09:00.503301"], ["updated_at", "2017-02-12 14:09:00.503301"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.505333"], ["updated_at", "2017-02-12 14:09:00.505333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.506998"], ["updated_at", "2017-02-12 14:09:00.506998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 14:09:00.508949"], ["updated_at", "2017-02-12 14:09:00.508949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$TPNeNv94/b4exLPrKO/OZOMfQJffaTEeyyvODpj9tFYwTuzB5F7Cm"], ["created_at", "2017-02-12 14:09:00.519355"], ["updated_at", "2017-02-12 14:09:00.519355"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Be4SavkijNcXklMarM4eeu6WuHUy.qdakYrY50BDxfMxpqkvkDSaG"], ["created_at", "2017-02-12 14:09:00.526771"], ["updated_at", "2017-02-12 14:09:00.526771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 14:09:00.541219"], ["updated_at", "2017-02-12 14:09:00.541219"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.544375"], ["updated_at", "2017-02-12 14:09:00.544375"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fb3b4d45048>"], ["created_at", "2017-02-12 14:09:00.546504"], ["updated_at", "2017-02-12 14:09:00.546504"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Ej36mzEumtXK2PmVmgO4oe8FIU.eYiANsuHWMQNx6QKN5Ke.Rcx1e"], ["created_at", "2017-02-12 14:09:00.550790"], ["updated_at", "2017-02-12 14:09:00.550790"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:09:00.560105"], ["updated_at", "2017-02-12 14:09:00.560105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 14:09:00.562424"], ["updated_at", "2017-02-12 14:09:00.562424"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 14:09:00.564376"], ["updated_at", "2017-02-12 14:09:00.564376"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.566216"], ["updated_at", "2017-02-12 14:09:00.566216"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$kLVCdWTQ923663D894/nJO6NmOa3qeGPMI.IX18uDciKR8LQ25YLm"], ["created_at", "2017-02-12 14:09:00.570660"], ["updated_at", "2017-02-12 14:09:00.570660"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.573028"], ["updated_at", "2017-02-12 14:09:00.573028"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.574775"], ["updated_at", "2017-02-12 14:09:00.574775"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Kh66JmupEJe1F6P4ldLjhuQPZor2eoh7auG7ptKq.1d776buQCcBm"], ["created_at", "2017-02-12 14:09:00.586881"], ["updated_at", "2017-02-12 14:09:00.586881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$PTJcveWj40xj3NpLhrvXR.dkwiqn9AvzU/8QZQmMqdECeKfKPK6IO"], ["created_at", "2017-02-12 14:09:00.594817"], ["updated_at", "2017-02-12 14:09:00.594817"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.599818"], ["updated_at", "2017-02-12 14:09:00.599818"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.602958"], ["updated_at", "2017-02-12 14:09:00.602958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$hVwzqhT6O/nvWd4f0eLQ/ukA5XuuvgM95xqXjbjskWrukIqOI103W"], ["created_at", "2017-02-12 14:09:00.607776"], ["updated_at", "2017-02-12 14:09:00.607776"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.615551"], ["updated_at", "2017-02-12 14:09:00.615551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.617900"], ["updated_at", "2017-02-12 14:09:00.617900"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.619801"], ["updated_at", "2017-02-12 14:09:00.619801"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 14:09:00.621517"], ["updated_at", "2017-02-12 14:09:00.621517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 14:09:00.623065"], ["updated_at", "2017-02-12 14:09:00.623065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 14:09:00.624865"], ["updated_at", "2017-02-12 14:09:00.624865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$03KHY3DytKV10bvy0Hc7..f0swBsLYRau4V0ZhvDhz6ySQ2L88AyK"], ["created_at", "2017-02-12 14:09:00.629908"], ["updated_at", "2017-02-12 14:09:00.629908"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:09:00.632900"], ["updated_at", "2017-02-12 14:09:00.632900"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:09:00.635011"], ["updated_at", "2017-02-12 14:09:00.635011"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$RyWpOktvq/.Mgs8xe.bIn.jW8sY3dKko8X5/Q5ZoDLKqHkVTuFIgW"], ["created_at", "2017-02-12 14:10:31.716797"], ["updated_at", "2017-02-12 14:10:31.716797"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.748654"], ["updated_at", "2017-02-12 14:10:31.748654"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.761859"], ["updated_at", "2017-02-12 14:10:31.761859"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$i7cqQbohojQmRKJ.AVJqSeVwFfIriOrDF2l6sEdEzMUwi/2g30Lwm"], ["created_at", "2017-02-12 14:10:31.771289"], ["updated_at", "2017-02-12 14:10:31.771289"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$CigHJcdHaFYIbPQPPiH8FuIrXfCujMgOXTmXIXone6HKQIF3z/zSu"], ["created_at", "2017-02-12 14:10:31.782328"], ["updated_at", "2017-02-12 14:10:31.782328"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$zwIm07YoaR2zYeVZ5bOol.GIFPMqCEZKdL2PjsZ5W/FQop7GdoZu2"], ["created_at", "2017-02-12 14:10:31.813108"], ["updated_at", "2017-02-12 14:10:31.813108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.815963"], ["updated_at", "2017-02-12 14:10:31.815963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.818108"], ["updated_at", "2017-02-12 14:10:31.818108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:10:31.827766"], ["updated_at", "2017-02-12 14:10:31.827766"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$61KuNP9y0nw5bv7Zy9cgau7bz2yJd3ISft3eZhrr3PUiA2CtdDszi"], ["created_at", "2017-02-12 14:10:31.843865"], ["updated_at", "2017-02-12 14:10:31.843865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.846696"], ["updated_at", "2017-02-12 14:10:31.846696"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.848945"], ["updated_at", "2017-02-12 14:10:31.848945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:10:31.851774"], ["updated_at", "2017-02-12 14:10:31.851774"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.854841"], ["updated_at", "2017-02-12 14:10:31.854841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.858106"], ["updated_at", "2017-02-12 14:10:31.858106"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 14:10:31.861114"], ["updated_at", "2017-02-12 14:10:31.861114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.863635"], ["updated_at", "2017-02-12 14:10:31.863635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.865407"], ["updated_at", "2017-02-12 14:10:31.865407"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 14:10:31.867625"], ["updated_at", "2017-02-12 14:10:31.867625"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.869582"], ["updated_at", "2017-02-12 14:10:31.869582"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.871157"], ["updated_at", "2017-02-12 14:10:31.871157"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 14:10:31.873125"], ["updated_at", "2017-02-12 14:10:31.873125"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.875081"], ["updated_at", "2017-02-12 14:10:31.875081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.876828"], ["updated_at", "2017-02-12 14:10:31.876828"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 14:10:31.878896"], ["updated_at", "2017-02-12 14:10:31.878896"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.880836"], ["updated_at", "2017-02-12 14:10:31.880836"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.882485"], ["updated_at", "2017-02-12 14:10:31.882485"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 14:10:31.884429"], ["updated_at", "2017-02-12 14:10:31.884429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$IIEF7q8J5.Rhi3BN4jL0D.3sNILhwMu53hl4KpWbE89H5Cq0ZTdUK"], ["created_at", "2017-02-12 14:10:31.896388"], ["updated_at", "2017-02-12 14:10:31.896388"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$7tMuu7mzbOhKCVUdoVPfvObr7D7FQCaDdDBYdf2d2AnGfIsWCFHuS"], ["created_at", "2017-02-12 14:10:31.903669"], ["updated_at", "2017-02-12 14:10:31.903669"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:10:31.918759"], ["updated_at", "2017-02-12 14:10:31.918759"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.921976"], ["updated_at", "2017-02-12 14:10:31.921976"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007ffac2fef050>"], ["created_at", "2017-02-12 14:10:31.924091"], ["updated_at", "2017-02-12 14:10:31.924091"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$z58xPx/RcphCOocN0FGq6.a3KWs0USKMRUzfrUu4zQAPbWWu2.YBa"], ["created_at", "2017-02-12 14:10:31.929238"], ["updated_at", "2017-02-12 14:10:31.929238"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 14:10:31.941633"], ["updated_at", "2017-02-12 14:10:31.941633"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 14:10:31.944089"], ["updated_at", "2017-02-12 14:10:31.944089"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 14:10:31.946495"], ["updated_at", "2017-02-12 14:10:31.946495"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.949075"], ["updated_at", "2017-02-12 14:10:31.949075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$kyFf8JAzPr6r64UKJjjaK.mQugewPoNNZ.mu5og5eGsfeRJm4mh6G"], ["created_at", "2017-02-12 14:10:31.954250"], ["updated_at", "2017-02-12 14:10:31.954250"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.956750"], ["updated_at", "2017-02-12 14:10:31.956750"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.958532"], ["updated_at", "2017-02-12 14:10:31.958532"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$D6TvpByDImAdAvfrpNkgTO7OC5TYotu6o2C16qzynb36PHSm4jFpS"], ["created_at", "2017-02-12 14:10:31.969171"], ["updated_at", "2017-02-12 14:10:31.969171"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Ap8Sp19WfgLVCz3gnQQ98OxWoWKDlbJJ2T.ge9656NWu6co6PmnVu"], ["created_at", "2017-02-12 14:10:31.977074"], ["updated_at", "2017-02-12 14:10:31.977074"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.983340"], ["updated_at", "2017-02-12 14:10:31.983340"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:10:31.986327"], ["updated_at", "2017-02-12 14:10:31.986327"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$zA/8RhUSna/XSdZKYzwk1O/IhboIfyGol2rPPKPsxTPhYMaXRxYJ."], ["created_at", "2017-02-12 14:10:31.991326"], ["updated_at", "2017-02-12 14:10:31.991326"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:31.999655"], ["updated_at", "2017-02-12 14:10:31.999655"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:32.003032"], ["updated_at", "2017-02-12 14:10:32.003032"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:32.006225"], ["updated_at", "2017-02-12 14:10:32.006225"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:10:32.008288"], ["updated_at", "2017-02-12 14:10:32.008288"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 14:10:32.010028"], ["updated_at", "2017-02-12 14:10:32.010028"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 14:10:32.012157"], ["updated_at", "2017-02-12 14:10:32.012157"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$pE86fGIhUXwi0/S0uRZz1uHkJqo.r09jRiB3f5PJU7ZUQnmuDqGGe"], ["created_at", "2017-02-12 14:10:32.016433"], ["updated_at", "2017-02-12 14:10:32.016433"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:10:32.018583"], ["updated_at", "2017-02-12 14:10:32.018583"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:10:32.020266"], ["updated_at", "2017-02-12 14:10:32.020266"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$dXBx/MVQyxP497/4Jf7RluZsaQ50t/HNtTnzx.6YPN7uKmFDGiM.O"], ["created_at", "2017-02-12 14:14:04.916754"], ["updated_at", "2017-02-12 14:14:04.916754"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:04.950182"], ["updated_at", "2017-02-12 14:14:04.950182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:14:04.964014"], ["updated_at", "2017-02-12 14:14:04.964014"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$h14VBhuDHoMnp7lrxyjWSeqXGj4Ly/9s2w.SeNxLG/wDfIhNkItOa"], ["created_at", "2017-02-12 14:14:04.973202"], ["updated_at", "2017-02-12 14:14:04.973202"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$34AxhLYJ.mVerR7lhkwTFuWJbZeJjiQwRBpRrauexxFmUqGd9PxKu"], ["created_at", "2017-02-12 14:14:04.983294"], ["updated_at", "2017-02-12 14:14:04.983294"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$NoQ2PXdDO70FVPXC3JreveGKFY1xTpg/s8Rflr5mFpgurJ.AEHXhy"], ["created_at", "2017-02-12 14:14:05.012496"], ["updated_at", "2017-02-12 14:14:05.012496"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.015299"], ["updated_at", "2017-02-12 14:14:05.015299"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.017361"], ["updated_at", "2017-02-12 14:14:05.017361"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:14:05.027612"], ["updated_at", "2017-02-12 14:14:05.027612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$wcqhn9X2TEKU0nRsDN7l8u3EKuKELqQt5uXY4uh/SREYPLgij2BEG"], ["created_at", "2017-02-12 14:14:05.042745"], ["updated_at", "2017-02-12 14:14:05.042745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.045429"], ["updated_at", "2017-02-12 14:14:05.045429"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.047523"], ["updated_at", "2017-02-12 14:14:05.047523"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:14:05.049871"], ["updated_at", "2017-02-12 14:14:05.049871"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.052009"], ["updated_at", "2017-02-12 14:14:05.052009"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.053705"], ["updated_at", "2017-02-12 14:14:05.053705"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 14:14:05.055648"], ["updated_at", "2017-02-12 14:14:05.055648"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.057574"], ["updated_at", "2017-02-12 14:14:05.057574"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.059119"], ["updated_at", "2017-02-12 14:14:05.059119"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 14:14:05.061096"], ["updated_at", "2017-02-12 14:14:05.061096"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.063124"], ["updated_at", "2017-02-12 14:14:05.063124"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.064713"], ["updated_at", "2017-02-12 14:14:05.064713"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 14:14:05.066572"], ["updated_at", "2017-02-12 14:14:05.066572"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.068456"], ["updated_at", "2017-02-12 14:14:05.068456"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.070065"], ["updated_at", "2017-02-12 14:14:05.070065"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 14:14:05.071958"], ["updated_at", "2017-02-12 14:14:05.071958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.073964"], ["updated_at", "2017-02-12 14:14:05.073964"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.075734"], ["updated_at", "2017-02-12 14:14:05.075734"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 14:14:05.077897"], ["updated_at", "2017-02-12 14:14:05.077897"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$r1pMYSt9afuW.N5e7Fb1feat2zYNncjeYqynh0VFgqE8W3TPOeZmu"], ["created_at", "2017-02-12 14:14:05.088191"], ["updated_at", "2017-02-12 14:14:05.088191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$zBgITHPVNyF9eoPejUZnBuya9UqN5zOqu3KWyCh7fQvhq1nU4/blm"], ["created_at", "2017-02-12 14:14:05.095222"], ["updated_at", "2017-02-12 14:14:05.095222"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:14:05.108764"], ["updated_at", "2017-02-12 14:14:05.108764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.111766"], ["updated_at", "2017-02-12 14:14:05.111766"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007ff5481c6430>"], ["created_at", "2017-02-12 14:14:05.113852"], ["updated_at", "2017-02-12 14:14:05.113852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Kmz.jkhL3Aeafnv0F9ll5uRRKnGycZwsJ4vuq39pTBTRCob4uBLFW"], ["created_at", "2017-02-12 14:14:05.118121"], ["updated_at", "2017-02-12 14:14:05.118121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 14:14:05.128675"], ["updated_at", "2017-02-12 14:14:05.128675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 14:14:05.131430"], ["updated_at", "2017-02-12 14:14:05.131430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 14:14:05.133936"], ["updated_at", "2017-02-12 14:14:05.133936"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.136374"], ["updated_at", "2017-02-12 14:14:05.136374"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$gu3PrE3lrGjmkXmLr/F2Jey9B6fl2eyoD/2Pxl.euImLQUvCVQ4s2"], ["created_at", "2017-02-12 14:14:05.140768"], ["updated_at", "2017-02-12 14:14:05.140768"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.143025"], ["updated_at", "2017-02-12 14:14:05.143025"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.144755"], ["updated_at", "2017-02-12 14:14:05.144755"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$EBdsXYSpiavL1246HvDKi.dgM7SjJvCBXJkuhkBpI1IXv1kMlJpfi"], ["created_at", "2017-02-12 14:14:05.155232"], ["updated_at", "2017-02-12 14:14:05.155232"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$RoKXK7.RxcA/UToOULxCF.xXOy7NcQJIOKzA0/l9wALWM66Clcycu"], ["created_at", "2017-02-12 14:14:05.162671"], ["updated_at", "2017-02-12 14:14:05.162671"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.167691"], ["updated_at", "2017-02-12 14:14:05.167691"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.170778"], ["updated_at", "2017-02-12 14:14:05.170778"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$p1UmWyUwONUW5pfLQH8hYenJygR39rpNDMfto8vJLcyKYvTCUA2Wq"], ["created_at", "2017-02-12 14:14:05.177353"], ["updated_at", "2017-02-12 14:14:05.177353"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.185948"], ["updated_at", "2017-02-12 14:14:05.185948"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.188405"], ["updated_at", "2017-02-12 14:14:05.188405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.190455"], ["updated_at", "2017-02-12 14:14:05.190455"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:14:05.192295"], ["updated_at", "2017-02-12 14:14:05.192295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 14:14:05.194217"], ["updated_at", "2017-02-12 14:14:05.194217"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 14:14:05.195754"], ["updated_at", "2017-02-12 14:14:05.195754"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$A/vmmqTQiuDCOUYNt5ksweeurzLMPfk51F6a2CV46l9ooo1Hc7H6C"], ["created_at", "2017-02-12 14:14:05.199852"], ["updated_at", "2017-02-12 14:14:05.199852"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:14:05.201990"], ["updated_at", "2017-02-12 14:14:05.201990"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:14:05.203693"], ["updated_at", "2017-02-12 14:14:05.203693"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Kpz4VJhpBryK4exCMtTHAeGEE73t1PX5u1s9GDS21XKucYkAZMpua"], ["created_at", "2017-02-12 14:15:02.564879"], ["updated_at", "2017-02-12 14:15:02.564879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.596422"], ["updated_at", "2017-02-12 14:15:02.596422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.609753"], ["updated_at", "2017-02-12 14:15:02.609753"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$2zGkY8WfLdtQatgbpXdO8.hf/25oYaYElJArxf0h3Jr38yhPBZVTi"], ["created_at", "2017-02-12 14:15:02.616107"], ["updated_at", "2017-02-12 14:15:02.616107"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$66ECinVlsJdE0hKFq25KfOcF6AjXAhPKhvRwLQML8Nz8wMu5fPgVq"], ["created_at", "2017-02-12 14:15:02.642590"], ["updated_at", "2017-02-12 14:15:02.642590"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$qnlzTvVSUNUjTINfZbcyl.oRN5MjPt4JBxwf0cAQfosU1MgeG/pOG"], ["created_at", "2017-02-12 14:15:02.653442"], ["updated_at", "2017-02-12 14:15:02.653442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$BKAPZcf6ZaO6BueVnrabg.IBrxX6EKh8at2pgXzgKBhAYXdTzRhni"], ["created_at", "2017-02-12 14:15:02.665307"], ["updated_at", "2017-02-12 14:15:02.665307"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.668058"], ["updated_at", "2017-02-12 14:15:02.668058"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.670119"], ["updated_at", "2017-02-12 14:15:02.670119"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:15:02.682000"], ["updated_at", "2017-02-12 14:15:02.682000"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$XVAKGZBFnqz/c.GXflK0r.fdck/dOHzOthD4cjdouahKcjzaLYS.m"], ["created_at", "2017-02-12 14:15:02.696743"], ["updated_at", "2017-02-12 14:15:02.696743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.699552"], ["updated_at", "2017-02-12 14:15:02.699552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.701677"], ["updated_at", "2017-02-12 14:15:02.701677"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 14:15:02.704105"], ["updated_at", "2017-02-12 14:15:02.704105"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.706194"], ["updated_at", "2017-02-12 14:15:02.706194"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.707941"], ["updated_at", "2017-02-12 14:15:02.707941"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 14:15:02.709925"], ["updated_at", "2017-02-12 14:15:02.709925"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.712069"], ["updated_at", "2017-02-12 14:15:02.712069"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.713843"], ["updated_at", "2017-02-12 14:15:02.713843"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 14:15:02.715836"], ["updated_at", "2017-02-12 14:15:02.715836"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.717736"], ["updated_at", "2017-02-12 14:15:02.717736"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.719318"], ["updated_at", "2017-02-12 14:15:02.719318"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 14:15:02.721351"], ["updated_at", "2017-02-12 14:15:02.721351"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.723312"], ["updated_at", "2017-02-12 14:15:02.723312"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.724851"], ["updated_at", "2017-02-12 14:15:02.724851"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 14:15:02.726811"], ["updated_at", "2017-02-12 14:15:02.726811"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.728767"], ["updated_at", "2017-02-12 14:15:02.728767"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.730449"], ["updated_at", "2017-02-12 14:15:02.730449"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 14:15:02.732412"], ["updated_at", "2017-02-12 14:15:02.732412"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$GkAlgGTlg9KoJYx5N2xTV.rLLjrfsp7lnTk4GndrPACbFmX4SbjtG"], ["created_at", "2017-02-12 14:15:02.742688"], ["updated_at", "2017-02-12 14:15:02.742688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$g023dloi1Al/j7SiJUIymO4V3fBvsWfLFwz9/qwBUxDcb3HqU9AM6"], ["created_at", "2017-02-12 14:15:02.749836"], ["updated_at", "2017-02-12 14:15:02.749836"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:15:02.766261"], ["updated_at", "2017-02-12 14:15:02.766261"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.769770"], ["updated_at", "2017-02-12 14:15:02.769770"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fbe66370f38>"], ["created_at", "2017-02-12 14:15:02.772131"], ["updated_at", "2017-02-12 14:15:02.772131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$9Hfvjo0gvbjuqwzTeYUXEutq5zpplRKGhlMiLWBL1FoJlA/WqQ.q6"], ["created_at", "2017-02-12 14:15:02.776676"], ["updated_at", "2017-02-12 14:15:02.776676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 14:15:02.785919"], ["updated_at", "2017-02-12 14:15:02.785919"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 14:15:02.788368"], ["updated_at", "2017-02-12 14:15:02.788368"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 14:15:02.790310"], ["updated_at", "2017-02-12 14:15:02.790310"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.792081"], ["updated_at", "2017-02-12 14:15:02.792081"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ZaNk2qZr590eJucDqyeDXuAMnL38ZFi9roRP5zFm.WBUQdY7cAbSG"], ["created_at", "2017-02-12 14:15:02.796864"], ["updated_at", "2017-02-12 14:15:02.796864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.799300"], ["updated_at", "2017-02-12 14:15:02.799300"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.801003"], ["updated_at", "2017-02-12 14:15:02.801003"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$kRx1gCfDA1W4bO.ymbme6uVPXNa1cI2sIMA.C1m5Lw6aG7I2Vhnd."], ["created_at", "2017-02-12 14:15:02.812761"], ["updated_at", "2017-02-12 14:15:02.812761"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$bmFyVjOqYAKNz/lq7wClN.QDV8ehbAfjX6hzyHcHMW0cZYv.4Eotu"], ["created_at", "2017-02-12 14:15:02.821005"], ["updated_at", "2017-02-12 14:15:02.821005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.828393"], ["updated_at", "2017-02-12 14:15:02.828393"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.831254"], ["updated_at", "2017-02-12 14:15:02.831254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$0/ItLgQsG3qjsReWsg1K/.6cTD3xv.sbCf0uaQniZiv2A5waGn46m"], ["created_at", "2017-02-12 14:15:02.836201"], ["updated_at", "2017-02-12 14:15:02.836201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.846767"], ["updated_at", "2017-02-12 14:15:02.846767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.849479"], ["updated_at", "2017-02-12 14:15:02.849479"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.851610"], ["updated_at", "2017-02-12 14:15:02.851610"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 14:15:02.854533"], ["updated_at", "2017-02-12 14:15:02.854533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 14:15:02.856323"], ["updated_at", "2017-02-12 14:15:02.856323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 14:15:02.857869"], ["updated_at", "2017-02-12 14:15:02.857869"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$kSi14CT/pk5qHW9JXJa/wOZjh2XSiKOPrLbcbDhHgqbXUpkBG/oH."], ["created_at", "2017-02-12 14:15:02.861893"], ["updated_at", "2017-02-12 14:15:02.861893"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 14:15:02.864111"], ["updated_at", "2017-02-12 14:15:02.864111"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 14:15:02.865877"], ["updated_at", "2017-02-12 14:15:02.865877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tN7pvVGU5av/M0kHtf9vZufpqJrCodQF2lxXEEo7XFWU.khMXroIu"], ["created_at", "2017-02-12 19:34:47.508349"], ["updated_at", "2017-02-12 19:34:47.508349"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.539881"], ["updated_at", "2017-02-12 19:34:47.539881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.560342"], ["updated_at", "2017-02-12 19:34:47.560342"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5.xm0QXJCaI32UFawAbNK.IPRjHf1z7JFGBoNHjsRaCZBWEVQbyhS"], ["created_at", "2017-02-12 19:34:47.565956"], ["updated_at", "2017-02-12 19:34:47.565956"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Qt24c/5ApAtnp6kiX1kfZ.zA9TCvXiQ8xb5F896S2Z4yUfw0/G7.u"], ["created_at", "2017-02-12 19:34:47.616803"], ["updated_at", "2017-02-12 19:34:47.616803"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$CtoxDlKygAelNo4Tore2CuxqklAgFg7qHaJ0xltaL.aizOgMqPCCS"], ["created_at", "2017-02-12 19:34:47.633506"], ["updated_at", "2017-02-12 19:34:47.633506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.5ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$MQK9P1BEjI8P8DqqZgWX.OF0Dyi96EIOcyGuK8vmOJLpVJHDR7i7q"], ["created_at", "2017-02-12 19:34:47.645752"], ["updated_at", "2017-02-12 19:34:47.645752"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.648572"], ["updated_at", "2017-02-12 19:34:47.648572"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.650610"], ["updated_at", "2017-02-12 19:34:47.650610"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:34:47.659703"], ["updated_at", "2017-02-12 19:34:47.659703"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$1RU5t9XNi8ok8Nf/G7zLpOPw93TeXY3jJCm.RwvEnJmjYccmP.9iW"], ["created_at", "2017-02-12 19:34:47.675886"], ["updated_at", "2017-02-12 19:34:47.675886"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.678626"], ["updated_at", "2017-02-12 19:34:47.678626"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.680820"], ["updated_at", "2017-02-12 19:34:47.680820"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:34:47.683063"], ["updated_at", "2017-02-12 19:34:47.683063"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.685089"], ["updated_at", "2017-02-12 19:34:47.685089"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.686746"], ["updated_at", "2017-02-12 19:34:47.686746"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:34:47.688651"], ["updated_at", "2017-02-12 19:34:47.688651"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.690521"], ["updated_at", "2017-02-12 19:34:47.690521"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.692214"], ["updated_at", "2017-02-12 19:34:47.692214"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:34:47.694278"], ["updated_at", "2017-02-12 19:34:47.694278"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.696095"], ["updated_at", "2017-02-12 19:34:47.696095"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.697673"], ["updated_at", "2017-02-12 19:34:47.697673"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:34:47.699612"], ["updated_at", "2017-02-12 19:34:47.699612"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.701511"], ["updated_at", "2017-02-12 19:34:47.701511"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.703141"], ["updated_at", "2017-02-12 19:34:47.703141"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:34:47.705139"], ["updated_at", "2017-02-12 19:34:47.705139"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.707067"], ["updated_at", "2017-02-12 19:34:47.707067"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.708658"], ["updated_at", "2017-02-12 19:34:47.708658"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:34:47.710540"], ["updated_at", "2017-02-12 19:34:47.710540"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$vCbBo5ieWus.nJqREnn.eemrNj3XdmZ2rRgbnF9zTPYtq15ldotQO"], ["created_at", "2017-02-12 19:34:47.720657"], ["updated_at", "2017-02-12 19:34:47.720657"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$P/oZKibY2oYstnZBFm3squAJgjVNV92bTElOaMoY1jcxQG4NgAgwW"], ["created_at", "2017-02-12 19:34:47.727686"], ["updated_at", "2017-02-12 19:34:47.727686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:34:47.742208"], ["updated_at", "2017-02-12 19:34:47.742208"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.745264"], ["updated_at", "2017-02-12 19:34:47.745264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fd842e53b58>"], ["created_at", "2017-02-12 19:34:47.747368"], ["updated_at", "2017-02-12 19:34:47.747368"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$6tMBbv0nJf2C18SR2Jd8LecrS4pCHi4Ovrw66BEK6YJCFliBfTqBG"], ["created_at", "2017-02-12 19:34:47.751722"], ["updated_at", "2017-02-12 19:34:47.751722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:34:47.760494"], ["updated_at", "2017-02-12 19:34:47.760494"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 19:34:47.762832"], ["updated_at", "2017-02-12 19:34:47.762832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 19:34:47.765221"], ["updated_at", "2017-02-12 19:34:47.765221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.767623"], ["updated_at", "2017-02-12 19:34:47.767623"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$TbA.TOgWz8ALUofvWIycL.YY.LOkMK3.igwIHXekO9mgKke7H9i/2"], ["created_at", "2017-02-12 19:34:47.771979"], ["updated_at", "2017-02-12 19:34:47.771979"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.774530"], ["updated_at", "2017-02-12 19:34:47.774530"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.776249"], ["updated_at", "2017-02-12 19:34:47.776249"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$tkgRx/.wHqy6gV2y8oJQpu04/YLTLzagat0UdOkXjIZyvANprblBG"], ["created_at", "2017-02-12 19:34:47.786663"], ["updated_at", "2017-02-12 19:34:47.786663"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$BN3T4VSqcUj4FwSJmMDimek6aOE5OmgwnG2hRG04Ce70dcFnoLbe6"], ["created_at", "2017-02-12 19:34:47.794533"], ["updated_at", "2017-02-12 19:34:47.794533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.800425"], ["updated_at", "2017-02-12 19:34:47.800425"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.803299"], ["updated_at", "2017-02-12 19:34:47.803299"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ZwmCiMT13ENifUfXgJ8JuOpVMg8kExU7noY1lYdkeMOboIDq8Si0."], ["created_at", "2017-02-12 19:34:47.808406"], ["updated_at", "2017-02-12 19:34:47.808406"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.816878"], ["updated_at", "2017-02-12 19:34:47.816878"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.819308"], ["updated_at", "2017-02-12 19:34:47.819308"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.821257"], ["updated_at", "2017-02-12 19:34:47.821257"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:34:47.823288"], ["updated_at", "2017-02-12 19:34:47.823288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 19:34:47.825623"], ["updated_at", "2017-02-12 19:34:47.825623"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 19:34:47.827742"], ["updated_at", "2017-02-12 19:34:47.827742"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$4qQddpYkfwZWCoDAaON1fekqwtVq2DGl0lmypEeEKLanQVvwfC45y"], ["created_at", "2017-02-12 19:34:47.832116"], ["updated_at", "2017-02-12 19:34:47.832116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:34:47.834779"], ["updated_at", "2017-02-12 19:34:47.834779"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:34:47.837264"], ["updated_at", "2017-02-12 19:34:47.837264"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$o9/iuxnPebgxSIWKs/SdseD4ZPYEm7pCiyneZ.0KdaELW9PRAJoEC"], ["created_at", "2017-02-12 19:46:16.771252"], ["updated_at", "2017-02-12 19:46:16.771252"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$G7lF3Ms92347O15toJAdEOY12i/GwgJvcsm5LItQpX0HygC2s6oLi"], ["created_at", "2017-02-12 19:46:16.783316"], ["updated_at", "2017-02-12 19:46:16.783316"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.808228"], ["updated_at", "2017-02-12 19:46:16.808228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.821688"], ["updated_at", "2017-02-12 19:46:16.821688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$9l9Iulp5M/CAEnRhHJfl8O1hH5.vhLMVBSu82qyZwGj0XYYT0iQjW"], ["created_at", "2017-02-12 19:46:16.858185"], ["updated_at", "2017-02-12 19:46:16.858185"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$x9QpADPWAn.5D4WFYdEKI.v7TFS3lr.r06eNax5hQKvpJ30E4mQfq"], ["created_at", "2017-02-12 19:46:16.868469"], ["updated_at", "2017-02-12 19:46:16.868469"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$vMXwWs6YvPumeRZwYp1NA.rrDhfsQsTHyXcyAhoZerJApqhIxUUT2"], ["created_at", "2017-02-12 19:46:16.880097"], ["updated_at", "2017-02-12 19:46:16.880097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.882731"], ["updated_at", "2017-02-12 19:46:16.882731"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.884796"], ["updated_at", "2017-02-12 19:46:16.884796"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:46:16.887126"], ["updated_at", "2017-02-12 19:46:16.887126"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$DWAYU4VmVIfIYj/jFj8cH.1zjBa7sgoliochWSLqhBFRCnY2ty5jC"], ["created_at", "2017-02-12 19:46:16.901427"], ["updated_at", "2017-02-12 19:46:16.901427"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.904000"], ["updated_at", "2017-02-12 19:46:16.904000"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.906055"], ["updated_at", "2017-02-12 19:46:16.906055"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:46:16.908622"], ["updated_at", "2017-02-12 19:46:16.908622"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.910826"], ["updated_at", "2017-02-12 19:46:16.910826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.912527"], ["updated_at", "2017-02-12 19:46:16.912527"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:46:16.914528"], ["updated_at", "2017-02-12 19:46:16.914528"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.916593"], ["updated_at", "2017-02-12 19:46:16.916593"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.918197"], ["updated_at", "2017-02-12 19:46:16.918197"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:46:16.920147"], ["updated_at", "2017-02-12 19:46:16.920147"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.922117"], ["updated_at", "2017-02-12 19:46:16.922117"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.923743"], ["updated_at", "2017-02-12 19:46:16.923743"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:46:16.925663"], ["updated_at", "2017-02-12 19:46:16.925663"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.927620"], ["updated_at", "2017-02-12 19:46:16.927620"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.929171"], ["updated_at", "2017-02-12 19:46:16.929171"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:46:16.931111"], ["updated_at", "2017-02-12 19:46:16.931111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.933252"], ["updated_at", "2017-02-12 19:46:16.933252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:46:16.935444"], ["updated_at", "2017-02-12 19:46:16.935444"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:46:16.938610"], ["updated_at", "2017-02-12 19:46:16.938610"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$/9OQiJxAMoo4lp1nWqwX0.jrDEcIOQm0nt4mXf0UHg49C//zoeSKu"], ["created_at", "2017-02-12 19:46:16.949533"], ["updated_at", "2017-02-12 19:46:16.949533"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$qpuhAgu64qKmUg1985P.BOrVsL0ZbElT8Ld.5hYMZ65Osrr4x4k3W"], ["created_at", "2017-02-12 19:46:16.957300"], ["updated_at", "2017-02-12 19:46:16.957300"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:46:16.972646"], ["updated_at", "2017-02-12 19:46:16.972646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.975833"], ["updated_at", "2017-02-12 19:46:16.975833"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fed3f36c9f8>"], ["created_at", "2017-02-12 19:46:16.978010"], ["updated_at", "2017-02-12 19:46:16.978010"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Q1iu.8i/Qn/9hqq9pv37Pu9eF40WSxVtPAeReIC/QIBUEAPnaGIIy"], ["created_at", "2017-02-12 19:46:16.982263"], ["updated_at", "2017-02-12 19:46:16.982263"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:46:16.989722"], ["updated_at", "2017-02-12 19:46:16.989722"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 19:46:16.992182"], ["updated_at", "2017-02-12 19:46:16.992182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 19:46:16.994542"], ["updated_at", "2017-02-12 19:46:16.994542"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:16.996552"], ["updated_at", "2017-02-12 19:46:16.996552"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$dtVTpJiGoBAw5SUeo639guqtMfQ9BkeKO61sV5q7W8zWWnQdxYTOC"], ["created_at", "2017-02-12 19:46:17.000958"], ["updated_at", "2017-02-12 19:46:17.000958"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:17.003207"], ["updated_at", "2017-02-12 19:46:17.003207"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:46:17.004943"], ["updated_at", "2017-02-12 19:46:17.004943"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$nA3rCYrS2eiyC/Tge9GjluZz3fZPbaAN3D00mPQzCQf6Ti55Zn7WS"], ["created_at", "2017-02-12 19:46:17.015734"], ["updated_at", "2017-02-12 19:46:17.015734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$vbqhmr54SUsaWJb4nsLWZuUlJw9buYWKJ1z0M8IxI8I4ihp3Lmpaq"], ["created_at", "2017-02-12 19:46:17.023492"], ["updated_at", "2017-02-12 19:46:17.023492"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:17.029566"], ["updated_at", "2017-02-12 19:46:17.029566"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:46:17.032252"], ["updated_at", "2017-02-12 19:46:17.032252"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$jglo0AFkCSwtZYtHNrF8t.aw4f89QxvXNYpBZwU93Y/8NOYIqwwCq"], ["created_at", "2017-02-12 19:46:17.037650"], ["updated_at", "2017-02-12 19:46:17.037650"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:17.045823"], ["updated_at", "2017-02-12 19:46:17.045823"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:17.048327"], ["updated_at", "2017-02-12 19:46:17.048327"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:17.050259"], ["updated_at", "2017-02-12 19:46:17.050259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:46:17.051915"], ["updated_at", "2017-02-12 19:46:17.051915"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 19:46:17.054137"], ["updated_at", "2017-02-12 19:46:17.054137"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 19:46:17.056107"], ["updated_at", "2017-02-12 19:46:17.056107"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$b3PNz5cayr10l2UapJXYhOa9QTJCppReTUANzYGPuiZf/ESZR3Rdu"], ["created_at", "2017-02-12 19:46:17.060383"], ["updated_at", "2017-02-12 19:46:17.060383"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:46:17.062589"], ["updated_at", "2017-02-12 19:46:17.062589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:46:17.064521"], ["updated_at", "2017-02-12 19:46:17.064521"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$1l6EUAw5PF5rJRScD3RX.OIPiL287QJEpk.25maq1w93SsRafdTLq"], ["created_at", "2017-02-12 19:48:33.389909"], ["updated_at", "2017-02-12 19:48:33.389909"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$b2.x/8jFdGwDXgV3VfriBuolk/PrN2zNFx.yom0y3AN7OXxkg4ua6"], ["created_at", "2017-02-12 19:48:33.402445"], ["updated_at", "2017-02-12 19:48:33.402445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.428288"], ["updated_at", "2017-02-12 19:48:33.428288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.441627"], ["updated_at", "2017-02-12 19:48:33.441627"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$yC64Voo0zGsWGo7MBx6MruvO2RpfJO9SYJkaLun.O2sIlVkNut2w2"], ["created_at", "2017-02-12 19:48:33.476968"], ["updated_at", "2017-02-12 19:48:33.476968"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$X1MKuYU0krmE0tf9p7E2JO1FmhtZKA2g/WYyvJeK9khYdMH.kPLra"], ["created_at", "2017-02-12 19:48:33.487185"], ["updated_at", "2017-02-12 19:48:33.487185"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$M1TicNLEdUsC.3z.fERDvOWFrE3qhWcYK6i0nO5frEw6qWWoQwRuW"], ["created_at", "2017-02-12 19:48:33.498537"], ["updated_at", "2017-02-12 19:48:33.498537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.501374"], ["updated_at", "2017-02-12 19:48:33.501374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.503499"], ["updated_at", "2017-02-12 19:48:33.503499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:48:33.506126"], ["updated_at", "2017-02-12 19:48:33.506126"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$lSHSCuP7504kVEKlafG3huTZSQ4MLjsP9/vrCIHmyb.0OjAtEOPyy"], ["created_at", "2017-02-12 19:48:33.520789"], ["updated_at", "2017-02-12 19:48:33.520789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.523505"], ["updated_at", "2017-02-12 19:48:33.523505"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.525835"], ["updated_at", "2017-02-12 19:48:33.525835"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:48:33.528276"], ["updated_at", "2017-02-12 19:48:33.528276"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.530361"], ["updated_at", "2017-02-12 19:48:33.530361"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.532181"], ["updated_at", "2017-02-12 19:48:33.532181"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:48:33.534348"], ["updated_at", "2017-02-12 19:48:33.534348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.536379"], ["updated_at", "2017-02-12 19:48:33.536379"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.538140"], ["updated_at", "2017-02-12 19:48:33.538140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:48:33.540150"], ["updated_at", "2017-02-12 19:48:33.540150"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.542074"], ["updated_at", "2017-02-12 19:48:33.542074"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.543779"], ["updated_at", "2017-02-12 19:48:33.543779"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:48:33.545895"], ["updated_at", "2017-02-12 19:48:33.545895"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.547920"], ["updated_at", "2017-02-12 19:48:33.547920"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.549583"], ["updated_at", "2017-02-12 19:48:33.549583"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:48:33.551545"], ["updated_at", "2017-02-12 19:48:33.551545"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.554055"], ["updated_at", "2017-02-12 19:48:33.554055"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.556912"], ["updated_at", "2017-02-12 19:48:33.556912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:48:33.559748"], ["updated_at", "2017-02-12 19:48:33.559748"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$2PucZQkU8EEpMqQbzQUUWO01K3fOnIXpn4zqIIDMYHx48A5ZA74oK"], ["created_at", "2017-02-12 19:48:33.570160"], ["updated_at", "2017-02-12 19:48:33.570160"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$LodwLwtg6DPgdrBJt/d1ru6dvlWr5Kusq60VHgdtLxti9htUAhxsO"], ["created_at", "2017-02-12 19:48:33.577756"], ["updated_at", "2017-02-12 19:48:33.577756"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:48:33.592654"], ["updated_at", "2017-02-12 19:48:33.592654"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.595895"], ["updated_at", "2017-02-12 19:48:33.595895"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fd2c984c648>"], ["created_at", "2017-02-12 19:48:33.598121"], ["updated_at", "2017-02-12 19:48:33.598121"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Ld1gxMJ35dJviqhyuHQiZOyQrQrscA0dgZOStxTQzz5pKaY7wdv9a"], ["created_at", "2017-02-12 19:48:33.602540"], ["updated_at", "2017-02-12 19:48:33.602540"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:48:33.610257"], ["updated_at", "2017-02-12 19:48:33.610257"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 19:48:33.612334"], ["updated_at", "2017-02-12 19:48:33.612334"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 19:48:33.614134"], ["updated_at", "2017-02-12 19:48:33.614134"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.615962"], ["updated_at", "2017-02-12 19:48:33.615962"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$6ymoZ8KXpX5fH4Pyn9f6KuAlxgVBeqj5wQFd6U9xsMvpZUMWPAWkS"], ["created_at", "2017-02-12 19:48:33.620210"], ["updated_at", "2017-02-12 19:48:33.620210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.622542"], ["updated_at", "2017-02-12 19:48:33.622542"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.624470"], ["updated_at", "2017-02-12 19:48:33.624470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$5irkVpjSRYkzUkttKi6H5OkTc5rApHzuXw132izPhg/JWFacJgh1m"], ["created_at", "2017-02-12 19:48:33.635758"], ["updated_at", "2017-02-12 19:48:33.635758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$X9EtpBJEJ/RlVPkt2fk1iOdvaSeyIjXEIcwtHXUi04tKlu7SF8l0e"], ["created_at", "2017-02-12 19:48:33.643981"], ["updated_at", "2017-02-12 19:48:33.643981"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.649439"], ["updated_at", "2017-02-12 19:48:33.649439"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.652068"], ["updated_at", "2017-02-12 19:48:33.652068"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$l0nsuyF58Pug5fqrcUeNROpybrUiaOSN7c/ZFdHd7J9HGdIBN/bGO"], ["created_at", "2017-02-12 19:48:33.657034"], ["updated_at", "2017-02-12 19:48:33.657034"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.664621"], ["updated_at", "2017-02-12 19:48:33.664621"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.666886"], ["updated_at", "2017-02-12 19:48:33.666886"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.668840"], ["updated_at", "2017-02-12 19:48:33.668840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:48:33.670462"], ["updated_at", "2017-02-12 19:48:33.670462"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 19:48:33.671974"], ["updated_at", "2017-02-12 19:48:33.671974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 19:48:33.673577"], ["updated_at", "2017-02-12 19:48:33.673577"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$/v1X4br8JHOWOGLV/YApUegv/.YbSve4mXZDBoOa2FUJTHhv/dyFW"], ["created_at", "2017-02-12 19:48:33.677720"], ["updated_at", "2017-02-12 19:48:33.677720"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:48:33.679902"], ["updated_at", "2017-02-12 19:48:33.679902"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:48:33.681653"], ["updated_at", "2017-02-12 19:48:33.681653"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.5ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$pLi/q3se6Q4GRUD0wJG2tudlHRAU7riq5ODiQZVuZ.8uI9qqhxvxe"], ["created_at", "2017-02-12 19:54:16.552583"], ["updated_at", "2017-02-12 19:54:16.552583"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$v3iprzmTfe5p6yqXm5Lv5.D3BDgxLhgKyY6AKMJYB/Hlu7WxAESDS"], ["created_at", "2017-02-12 19:54:16.564560"], ["updated_at", "2017-02-12 19:54:16.564560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.590576"], ["updated_at", "2017-02-12 19:54:16.590576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.603664"], ["updated_at", "2017-02-12 19:54:16.603664"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$9rQ616PRywC6WNMTpaSQKOT7ewZRVlfmlwyV1sTD8S10UJOosOmfy"], ["created_at", "2017-02-12 19:54:16.630437"], ["updated_at", "2017-02-12 19:54:16.630437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$4Kb7TFzSkKFOEh0hOJvuYuxw7YvmbyRzXt6kjKTJdDFKOxW71d7XG"], ["created_at", "2017-02-12 19:54:16.641912"], ["updated_at", "2017-02-12 19:54:16.641912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Qsas9i.8ex7d9DjwOZ7f8OmCb/pekwnMQRH4FWt1wQYzq03U25CNm"], ["created_at", "2017-02-12 19:54:16.653843"], ["updated_at", "2017-02-12 19:54:16.653843"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.656562"], ["updated_at", "2017-02-12 19:54:16.656562"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.658627"], ["updated_at", "2017-02-12 19:54:16.658627"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.668673"], ["updated_at", "2017-02-12 19:54:16.668673"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.2ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$476IUDO8LHxCJOChNxdvL.p7litFm2K3DSp5coirBR8FzRMeSqwQ6"], ["created_at", "2017-02-12 19:54:16.684195"], ["updated_at", "2017-02-12 19:54:16.684195"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.686928"], ["updated_at", "2017-02-12 19:54:16.686928"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.689444"], ["updated_at", "2017-02-12 19:54:16.689444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.691870"], ["updated_at", "2017-02-12 19:54:16.691870"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.693909"], ["updated_at", "2017-02-12 19:54:16.693909"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.695534"], ["updated_at", "2017-02-12 19:54:16.695534"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.697721"], ["updated_at", "2017-02-12 19:54:16.697721"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.699819"], ["updated_at", "2017-02-12 19:54:16.699819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.701434"], ["updated_at", "2017-02-12 19:54:16.701434"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.703490"], ["updated_at", "2017-02-12 19:54:16.703490"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.705412"], ["updated_at", "2017-02-12 19:54:16.705412"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.707007"], ["updated_at", "2017-02-12 19:54:16.707007"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.709145"], ["updated_at", "2017-02-12 19:54:16.709145"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.711156"], ["updated_at", "2017-02-12 19:54:16.711156"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.712699"], ["updated_at", "2017-02-12 19:54:16.712699"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.714807"], ["updated_at", "2017-02-12 19:54:16.714807"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.716680"], ["updated_at", "2017-02-12 19:54:16.716680"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.718190"], ["updated_at", "2017-02-12 19:54:16.718190"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.720334"], ["updated_at", "2017-02-12 19:54:16.720334"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$PX3pIKn0apfb1ftUzHPLQeI/6PvTKvMFlxkZAxMIWrDK3rxRVkUbe"], ["created_at", "2017-02-12 19:54:16.730938"], ["updated_at", "2017-02-12 19:54:16.730938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$vDA2.3YHmR0.T5nePnbmsepZUjiG6fojRHdMJQ.n.98OdEF2qKHwe"], ["created_at", "2017-02-12 19:54:16.738123"], ["updated_at", "2017-02-12 19:54:16.738123"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:54:16.752448"], ["updated_at", "2017-02-12 19:54:16.752448"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.755644"], ["updated_at", "2017-02-12 19:54:16.755644"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007f80128b2880>"], ["created_at", "2017-02-12 19:54:16.757781"], ["updated_at", "2017-02-12 19:54:16.757781"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$EHhw4Uyb63p1mviJ7WsTiOPvVkCSzgwavA1qOK1.T1kI.Ibz3C4/6"], ["created_at", "2017-02-12 19:54:16.762258"], ["updated_at", "2017-02-12 19:54:16.762258"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.764816"], ["updated_at", "2017-02-12 19:54:16.764816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:54:16.771020"], ["updated_at", "2017-02-12 19:54:16.771020"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 19:54:16.773293"], ["updated_at", "2017-02-12 19:54:16.773293"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 19:54:16.775058"], ["updated_at", "2017-02-12 19:54:16.775058"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.777101"], ["updated_at", "2017-02-12 19:54:16.777101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$vPKD7NvomncGZUT4BoqJwOkvOz2RePDA3OCArY1jQHZH6R1eVyeqq"], ["created_at", "2017-02-12 19:54:16.782503"], ["updated_at", "2017-02-12 19:54:16.782503"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.784830"], ["updated_at", "2017-02-12 19:54:16.784830"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.786594"], ["updated_at", "2017-02-12 19:54:16.786594"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Ap3iMcq51.bRBxOtvSGfIeXqz2ZyWV8Xa0G9kUYTR19R4owMJzp0m"], ["created_at", "2017-02-12 19:54:16.797987"], ["updated_at", "2017-02-12 19:54:16.797987"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$jkIDbfoZINH9KSjO43Sgq.N7QcG/3fAX115f0W6mNFDuFKauc3uvm"], ["created_at", "2017-02-12 19:54:16.806439"], ["updated_at", "2017-02-12 19:54:16.806439"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.812434"], ["updated_at", "2017-02-12 19:54:16.812434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.816704"], ["updated_at", "2017-02-12 19:54:16.816704"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$idrYF59JbLvXSBTtpWJjVu7iKW03X1r3nnS3hSOG3g.2JaonDrPFa"], ["created_at", "2017-02-12 19:54:16.821608"], ["updated_at", "2017-02-12 19:54:16.821608"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:54:16.824056"], ["updated_at", "2017-02-12 19:54:16.824056"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.829523"], ["updated_at", "2017-02-12 19:54:16.829523"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.831749"], ["updated_at", "2017-02-12 19:54:16.831749"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.833650"], ["updated_at", "2017-02-12 19:54:16.833650"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 19:54:16.835299"], ["updated_at", "2017-02-12 19:54:16.835299"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 19:54:16.836866"], ["updated_at", "2017-02-12 19:54:16.836866"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 19:54:16.838365"], ["updated_at", "2017-02-12 19:54:16.838365"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$yVqyPpw3P2.fz4xaGmEGSuxWTH1XmQQtoW2wAaEZ9Lhtlbwd3bsD2"], ["created_at", "2017-02-12 19:54:16.842330"], ["updated_at", "2017-02-12 19:54:16.842330"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:54:16.844578"], ["updated_at", "2017-02-12 19:54:16.844578"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:54:16.846421"], ["updated_at", "2017-02-12 19:54:16.846421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ZsnvY6WhMEqyY/R6UXT5R.BZ/vx1sjJICchZAvUF21rm6vsjBpbUq"], ["created_at", "2017-02-12 19:55:47.110257"], ["updated_at", "2017-02-12 19:55:47.110257"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$gdTMHFNe.bnzzH4.G3lAbuJ8YDQzIE53QhL/YOX3nr.Nv8WJmUDo2"], ["created_at", "2017-02-12 19:55:47.121762"], ["updated_at", "2017-02-12 19:55:47.121762"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.147986"], ["updated_at", "2017-02-12 19:55:47.147986"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.161586"], ["updated_at", "2017-02-12 19:55:47.161586"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.188188"], ["updated_at", "2017-02-12 19:55:47.188188"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.192386"], ["updated_at", "2017-02-12 19:55:47.192386"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$6AhdkbLdaErwRf0znUExW.MiGBmD7H1Uj/4w5AK07XpxqZNvJgU/S"], ["created_at", "2017-02-12 19:55:47.209543"], ["updated_at", "2017-02-12 19:55:47.209543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$IHzC.a/IW9DS9pl86Qi.3.nUsWEoT6QX0XkIOIrUWPiWhBULj1x6G"], ["created_at", "2017-02-12 19:55:47.219602"], ["updated_at", "2017-02-12 19:55:47.219602"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$nVbKyvCjIss8.TqNvm2y..P.WImXVrLBx/ENUsP.tnb83Xj/t4hzm"], ["created_at", "2017-02-12 19:55:47.231250"], ["updated_at", "2017-02-12 19:55:47.231250"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.233986"], ["updated_at", "2017-02-12 19:55:47.233986"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.236101"], ["updated_at", "2017-02-12 19:55:47.236101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.238516"], ["updated_at", "2017-02-12 19:55:47.238516"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$1ULvQ8E8JkM4/RA5KbemreMJIPCPzJMxWoOisd9fesahQfJCdyHiW"], ["created_at", "2017-02-12 19:55:47.249590"], ["updated_at", "2017-02-12 19:55:47.249590"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.252167"], ["updated_at", "2017-02-12 19:55:47.252167"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.254152"], ["updated_at", "2017-02-12 19:55:47.254152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.256553"], ["updated_at", "2017-02-12 19:55:47.256553"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.258606"], ["updated_at", "2017-02-12 19:55:47.258606"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.260214"], ["updated_at", "2017-02-12 19:55:47.260214"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.262404"], ["updated_at", "2017-02-12 19:55:47.262404"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.264391"], ["updated_at", "2017-02-12 19:55:47.264391"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.265935"], ["updated_at", "2017-02-12 19:55:47.265935"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 15], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.267941"], ["updated_at", "2017-02-12 19:55:47.267941"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.269900"], ["updated_at", "2017-02-12 19:55:47.269900"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.271423"], ["updated_at", "2017-02-12 19:55:47.271423"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 7], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.273470"], ["updated_at", "2017-02-12 19:55:47.273470"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.275452"], ["updated_at", "2017-02-12 19:55:47.275452"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.277015"], ["updated_at", "2017-02-12 19:55:47.277015"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 9], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.279098"], ["updated_at", "2017-02-12 19:55:47.279098"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.280993"], ["updated_at", "2017-02-12 19:55:47.280993"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.282553"], ["updated_at", "2017-02-12 19:55:47.282553"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 25], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.284577"], ["updated_at", "2017-02-12 19:55:47.284577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$01YCmMzAJw5XDmSPrb2MKOAJZdeJpDHLePiF6PIHnLlJrrICpXiI6"], ["created_at", "2017-02-12 19:55:47.294808"], ["updated_at", "2017-02-12 19:55:47.294808"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$eg8s9grxv5J/ZNgGEabbL.yB9x897ni6AXugRx40DfnqyUa1Tw.Hm"], ["created_at", "2017-02-12 19:55:47.302796"], ["updated_at", "2017-02-12 19:55:47.302796"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:55:47.316522"], ["updated_at", "2017-02-12 19:55:47.316522"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.319625"], ["updated_at", "2017-02-12 19:55:47.319625"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007febcfb59a88>"], ["created_at", "2017-02-12 19:55:47.321788"], ["updated_at", "2017-02-12 19:55:47.321788"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5T/0Fo7kldEM0Nq.YLfuOu64.Yx.N.vQfskxJFKwupL4X1WJsd8zy"], ["created_at", "2017-02-12 19:55:47.326680"], ["updated_at", "2017-02-12 19:55:47.326680"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.330163"], ["updated_at", "2017-02-12 19:55:47.330163"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:55:47.335604"], ["updated_at", "2017-02-12 19:55:47.335604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 19:55:47.337628"], ["updated_at", "2017-02-12 19:55:47.337628"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 19:55:47.339345"], ["updated_at", "2017-02-12 19:55:47.339345"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.341099"], ["updated_at", "2017-02-12 19:55:47.341099"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Tpv.jkUfw5.iDnI7bjft1OY4WO5/.XLURvjaRkyQZhv8Q4DRTlzHK"], ["created_at", "2017-02-12 19:55:47.345495"], ["updated_at", "2017-02-12 19:55:47.345495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.347886"], ["updated_at", "2017-02-12 19:55:47.347886"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.349561"], ["updated_at", "2017-02-12 19:55:47.349561"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ghC9kJObBFzy2WnOfXazPuMyF2i7IpiKfMBDa.qgEUUOZmVO9n4Km"], ["created_at", "2017-02-12 19:55:47.360907"], ["updated_at", "2017-02-12 19:55:47.360907"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$r6cjkNL5aIByAhDMmYt9GOEofwrhlk/xW8iU3kgsnv9EkiNqTjuPK"], ["created_at", "2017-02-12 19:55:47.368646"], ["updated_at", "2017-02-12 19:55:47.368646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.374021"], ["updated_at", "2017-02-12 19:55:47.374021"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.376680"], ["updated_at", "2017-02-12 19:55:47.376680"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$NMC29ncWFnCLjQyASJRPDuy4aK/w4O/wLbJar/FgZ0I5M9r8f/Fru"], ["created_at", "2017-02-12 19:55:47.381301"], ["updated_at", "2017-02-12 19:55:47.381301"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:55:47.383759"], ["updated_at", "2017-02-12 19:55:47.383759"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.389816"], ["updated_at", "2017-02-12 19:55:47.389816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.392757"], ["updated_at", "2017-02-12 19:55:47.392757"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.396616"], ["updated_at", "2017-02-12 19:55:47.396616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:55:47.399122"], ["updated_at", "2017-02-12 19:55:47.399122"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 19:55:47.400939"], ["updated_at", "2017-02-12 19:55:47.400939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 19:55:47.402743"], ["updated_at", "2017-02-12 19:55:47.402743"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Jo6YP4AdPLSPQhhk3ZbLv.8Np3Z3a9.rqtpXaWS309RiR2SlbnPd6"], ["created_at", "2017-02-12 19:55:47.407919"], ["updated_at", "2017-02-12 19:55:47.407919"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:55:47.413447"], ["updated_at", "2017-02-12 19:55:47.413447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:55:47.416873"], ["updated_at", "2017-02-12 19:55:47.416873"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$WMC2B3qN3Pch/apFhok7muVdOEFb7x65GbJuBuA/7HvrVxJ1TDnd6"], ["created_at", "2017-02-12 19:57:44.386469"], ["updated_at", "2017-02-12 19:57:44.386469"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$V.91XP4XetWNaKwFpEJl/.IsZ7WCXhnZTexYoHpHGzjARvWCiE7Zq"], ["created_at", "2017-02-12 19:57:44.399542"], ["updated_at", "2017-02-12 19:57:44.399542"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.424831"], ["updated_at", "2017-02-12 19:57:44.424831"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.438577"], ["updated_at", "2017-02-12 19:57:44.438577"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.465104"], ["updated_at", "2017-02-12 19:57:44.465104"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.468905"], ["updated_at", "2017-02-12 19:57:44.468905"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$AIoMwjS3Zj0zU2ZZzcdomu3uha1aBajndu6j0P93cPDrrB2HOB5eW"], ["created_at", "2017-02-12 19:57:44.485353"], ["updated_at", "2017-02-12 19:57:44.485353"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$xxGFXuX8u1sPZGa4Nm0HyORyJVhI1Z/1yvnMAKcoDU7.LH5UGIX2m"], ["created_at", "2017-02-12 19:57:44.496711"], ["updated_at", "2017-02-12 19:57:44.496711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$CFZLREJpeA4FcUIY9bp2iO2s1DkiDauiHra9PlIHQS5XUFeLqi1BW"], ["created_at", "2017-02-12 19:57:44.508584"], ["updated_at", "2017-02-12 19:57:44.508584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.511315"], ["updated_at", "2017-02-12 19:57:44.511315"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.513317"], ["updated_at", "2017-02-12 19:57:44.513317"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.516196"], ["updated_at", "2017-02-12 19:57:44.516196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$gnwz4sTraCxX5JDHLU4h.uRhFt6q0cYvikO2MN9OWG6ROFWPE0i.K"], ["created_at", "2017-02-12 19:57:44.527969"], ["updated_at", "2017-02-12 19:57:44.527969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.530597"], ["updated_at", "2017-02-12 19:57:44.530597"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.532748"], ["updated_at", "2017-02-12 19:57:44.532748"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.535460"], ["updated_at", "2017-02-12 19:57:44.535460"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.537489"], ["updated_at", "2017-02-12 19:57:44.537489"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.539182"], ["updated_at", "2017-02-12 19:57:44.539182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.541442"], ["updated_at", "2017-02-12 19:57:44.541442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.543454"], ["updated_at", "2017-02-12 19:57:44.543454"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.545052"], ["updated_at", "2017-02-12 19:57:44.545052"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.547139"], ["updated_at", "2017-02-12 19:57:44.547139"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.549130"], ["updated_at", "2017-02-12 19:57:44.549130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.550766"], ["updated_at", "2017-02-12 19:57:44.550766"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.552726"], ["updated_at", "2017-02-12 19:57:44.552726"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.554549"], ["updated_at", "2017-02-12 19:57:44.554549"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.556112"], ["updated_at", "2017-02-12 19:57:44.556112"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.558144"], ["updated_at", "2017-02-12 19:57:44.558144"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.560616"], ["updated_at", "2017-02-12 19:57:44.560616"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.563188"], ["updated_at", "2017-02-12 19:57:44.563188"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.566229"], ["updated_at", "2017-02-12 19:57:44.566229"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$KyJmazJV59qwCEJ5PYuLj.VneOyH9nI0Ig3OBrdAd6eZ6bQhOEJFm"], ["created_at", "2017-02-12 19:57:44.646078"], ["updated_at", "2017-02-12 19:57:44.646078"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$psrt4U61dBvwbZm72SjgmOVekrUCS13.ECn/Uehdt5JlfVGJuQhfS"], ["created_at", "2017-02-12 19:57:44.653868"], ["updated_at", "2017-02-12 19:57:44.653868"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:57:44.667792"], ["updated_at", "2017-02-12 19:57:44.667792"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.671006"], ["updated_at", "2017-02-12 19:57:44.671006"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fc27d593de0>"], ["created_at", "2017-02-12 19:57:44.673174"], ["updated_at", "2017-02-12 19:57:44.673174"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$839c/bAw6oaSdIXQsdumuu0Dyq5IBKqy1OJaSupzf6ALp.vP/Z8XW"], ["created_at", "2017-02-12 19:57:44.677659"], ["updated_at", "2017-02-12 19:57:44.677659"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.681168"], ["updated_at", "2017-02-12 19:57:44.681168"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:57:44.687788"], ["updated_at", "2017-02-12 19:57:44.687788"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 19:57:44.690877"], ["updated_at", "2017-02-12 19:57:44.690877"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 19:57:44.693810"], ["updated_at", "2017-02-12 19:57:44.693810"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.695701"], ["updated_at", "2017-02-12 19:57:44.695701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$9kSummTzEQc7nFxIjCU1gubVYwT8X9/A.1158EhZWmJJRwpbPxA/G"], ["created_at", "2017-02-12 19:57:44.700388"], ["updated_at", "2017-02-12 19:57:44.700388"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.702566"], ["updated_at", "2017-02-12 19:57:44.702566"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.704205"], ["updated_at", "2017-02-12 19:57:44.704205"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.706321"], ["updated_at", "2017-02-12 19:57:44.706321"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.708359"], ["updated_at", "2017-02-12 19:57:44.708359"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.710005"], ["updated_at", "2017-02-12 19:57:44.710005"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.712052"], ["updated_at", "2017-02-12 19:57:44.712052"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.713910"], ["updated_at", "2017-02-12 19:57:44.713910"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.715419"], ["updated_at", "2017-02-12 19:57:44.715419"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.717421"], ["updated_at", "2017-02-12 19:57:44.717421"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.719311"], ["updated_at", "2017-02-12 19:57:44.719311"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.720915"], ["updated_at", "2017-02-12 19:57:44.720915"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.724406"], ["updated_at", "2017-02-12 19:57:44.724406"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.726632"], ["updated_at", "2017-02-12 19:57:44.726632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.728372"], ["updated_at", "2017-02-12 19:57:44.728372"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.730537"], ["updated_at", "2017-02-12 19:57:44.730537"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.732416"], ["updated_at", "2017-02-12 19:57:44.732416"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.734067"], ["updated_at", "2017-02-12 19:57:44.734067"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.736113"], ["updated_at", "2017-02-12 19:57:44.736113"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.738022"], ["updated_at", "2017-02-12 19:57:44.738022"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.739716"], ["updated_at", "2017-02-12 19:57:44.739716"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.742499"], ["updated_at", "2017-02-12 19:57:44.742499"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.744619"], ["updated_at", "2017-02-12 19:57:44.744619"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.746141"], ["updated_at", "2017-02-12 19:57:44.746141"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.748138"], ["updated_at", "2017-02-12 19:57:44.748138"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.750354"], ["updated_at", "2017-02-12 19:57:44.750354"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.751931"], ["updated_at", "2017-02-12 19:57:44.751931"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.754075"], ["updated_at", "2017-02-12 19:57:44.754075"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.756120"], ["updated_at", "2017-02-12 19:57:44.756120"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.757726"], ["updated_at", "2017-02-12 19:57:44.757726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.759801"], ["updated_at", "2017-02-12 19:57:44.759801"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.761689"], ["updated_at", "2017-02-12 19:57:44.761689"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.763205"], ["updated_at", "2017-02-12 19:57:44.763205"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.765220"], ["updated_at", "2017-02-12 19:57:44.765220"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.767099"], ["updated_at", "2017-02-12 19:57:44.767099"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.768701"], ["updated_at", "2017-02-12 19:57:44.768701"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.770726"], ["updated_at", "2017-02-12 19:57:44.770726"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.772557"], ["updated_at", "2017-02-12 19:57:44.772557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.774109"], ["updated_at", "2017-02-12 19:57:44.774109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.776108"], ["updated_at", "2017-02-12 19:57:44.776108"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.778003"], ["updated_at", "2017-02-12 19:57:44.778003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.779675"], ["updated_at", "2017-02-12 19:57:44.779675"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.781747"], ["updated_at", "2017-02-12 19:57:44.781747"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.783655"], ["updated_at", "2017-02-12 19:57:44.783655"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.785161"], ["updated_at", "2017-02-12 19:57:44.785161"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.787202"], ["updated_at", "2017-02-12 19:57:44.787202"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.789303"], ["updated_at", "2017-02-12 19:57:44.789303"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.790845"], ["updated_at", "2017-02-12 19:57:44.790845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.793014"], ["updated_at", "2017-02-12 19:57:44.793014"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$G/rnKTXx9iMCNlPzqVpG/edXjGy7XW4bs0LuSvNSlFN1VA9Hw8C/y"], ["created_at", "2017-02-12 19:57:44.802662"], ["updated_at", "2017-02-12 19:57:44.802662"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$3KsenAIkMh0ooL49qxHDnOLWVlOuConkT1M7xvqk2N3QUFTtEdYc6"], ["created_at", "2017-02-12 19:57:44.809945"], ["updated_at", "2017-02-12 19:57:44.809945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.814497"], ["updated_at", "2017-02-12 19:57:44.814497"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.817437"], ["updated_at", "2017-02-12 19:57:44.817437"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$6UTAKzhOKrpsuy4oET7PuudmXpiy2.RMzMerROZJ6LuFe69NZSKcy"], ["created_at", "2017-02-12 19:57:44.822093"], ["updated_at", "2017-02-12 19:57:44.822093"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.824344"], ["updated_at", "2017-02-12 19:57:44.824344"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.829851"], ["updated_at", "2017-02-12 19:57:44.829851"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.832785"], ["updated_at", "2017-02-12 19:57:44.832785"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.834950"], ["updated_at", "2017-02-12 19:57:44.834950"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 19:57:44.836725"], ["updated_at", "2017-02-12 19:57:44.836725"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 19:57:44.838389"], ["updated_at", "2017-02-12 19:57:44.838389"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 19:57:44.839950"], ["updated_at", "2017-02-12 19:57:44.839950"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$DLKw9p9B.UN.EdzIwaxSzO9A6AclQ40u1wEmNdZlN54wZfg5mAGhy"], ["created_at", "2017-02-12 19:57:44.844124"], ["updated_at", "2017-02-12 19:57:44.844124"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.846333"], ["updated_at", "2017-02-12 19:57:44.846333"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.848077"], ["updated_at", "2017-02-12 19:57:44.848077"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.850400"], ["updated_at", "2017-02-12 19:57:44.850400"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.852448"], ["updated_at", "2017-02-12 19:57:44.852448"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.854114"], ["updated_at", "2017-02-12 19:57:44.854114"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.856274"], ["updated_at", "2017-02-12 19:57:44.856274"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.858294"], ["updated_at", "2017-02-12 19:57:44.858294"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.859975"], ["updated_at", "2017-02-12 19:57:44.859975"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.862014"], ["updated_at", "2017-02-12 19:57:44.862014"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.863937"], ["updated_at", "2017-02-12 19:57:44.863937"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.865561"], ["updated_at", "2017-02-12 19:57:44.865561"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.867604"], ["updated_at", "2017-02-12 19:57:44.867604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.869647"], ["updated_at", "2017-02-12 19:57:44.869647"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.871339"], ["updated_at", "2017-02-12 19:57:44.871339"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.873347"], ["updated_at", "2017-02-12 19:57:44.873347"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.875280"], ["updated_at", "2017-02-12 19:57:44.875280"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.876853"], ["updated_at", "2017-02-12 19:57:44.876853"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.878959"], ["updated_at", "2017-02-12 19:57:44.878959"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.880840"], ["updated_at", "2017-02-12 19:57:44.880840"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.882330"], ["updated_at", "2017-02-12 19:57:44.882330"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.884356"], ["updated_at", "2017-02-12 19:57:44.884356"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.886224"], ["updated_at", "2017-02-12 19:57:44.886224"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.887733"], ["updated_at", "2017-02-12 19:57:44.887733"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.889737"], ["updated_at", "2017-02-12 19:57:44.889737"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.891582"], ["updated_at", "2017-02-12 19:57:44.891582"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.893314"], ["updated_at", "2017-02-12 19:57:44.893314"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.896049"], ["updated_at", "2017-02-12 19:57:44.896049"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.898209"], ["updated_at", "2017-02-12 19:57:44.898209"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.899958"], ["updated_at", "2017-02-12 19:57:44.899958"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.902286"], ["updated_at", "2017-02-12 19:57:44.902286"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.904280"], ["updated_at", "2017-02-12 19:57:44.904280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.905914"], ["updated_at", "2017-02-12 19:57:44.905914"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.907975"], ["updated_at", "2017-02-12 19:57:44.907975"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.909877"], ["updated_at", "2017-02-12 19:57:44.909877"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.911418"], ["updated_at", "2017-02-12 19:57:44.911418"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.913381"], ["updated_at", "2017-02-12 19:57:44.913381"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.915341"], ["updated_at", "2017-02-12 19:57:44.915341"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.916956"], ["updated_at", "2017-02-12 19:57:44.916956"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.919078"], ["updated_at", "2017-02-12 19:57:44.919078"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.920946"], ["updated_at", "2017-02-12 19:57:44.920946"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.922642"], ["updated_at", "2017-02-12 19:57:44.922642"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.924759"], ["updated_at", "2017-02-12 19:57:44.924759"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.926658"], ["updated_at", "2017-02-12 19:57:44.926658"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 18], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.928249"], ["updated_at", "2017-02-12 19:57:44.928249"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.930372"], ["updated_at", "2017-02-12 19:57:44.930372"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 19:57:44.932286"], ["updated_at", "2017-02-12 19:57:44.932286"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 19], ["style", "Lager"], ["created_at", "2017-02-12 19:57:44.933984"], ["updated_at", "2017-02-12 19:57:44.933984"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 19:57:44.936115"], ["updated_at", "2017-02-12 19:57:44.936115"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$XBLx65D5L/MOh/lUxNdrO.dLQPwQtCWSvIfnQmpd6CP/mUtzJQA0e"], ["created_at", "2017-02-12 20:03:57.885879"], ["updated_at", "2017-02-12 20:03:57.885879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$MQRoegIpu5X7mLIs2tWKCODR4wN47XMicFHqFH0NvwF5VR03xRdwS"], ["created_at", "2017-02-12 20:03:57.897675"], ["updated_at", "2017-02-12 20:03:57.897675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:57.924283"], ["updated_at", "2017-02-12 20:03:57.924283"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:03:57.937732"], ["updated_at", "2017-02-12 20:03:57.937732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:57.964746"], ["updated_at", "2017-02-12 20:03:57.964746"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:57.968454"], ["updated_at", "2017-02-12 20:03:57.968454"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$hE0NfJpV4lzEhZNtsMKsy.6sf.ASVf8Wwru8eHHub9AhrgjPt2QYa"], ["created_at", "2017-02-12 20:03:57.985885"], ["updated_at", "2017-02-12 20:03:57.985885"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$3rlKgZsQnej.qqcWchw/he672HnFFGyXuL/7uSrMwG3ijo8WuhkNy"], ["created_at", "2017-02-12 20:03:57.996076"], ["updated_at", "2017-02-12 20:03:57.996076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$uiypl9Pgz8If.xN6t.6zQOZFV0i4kFDWlp4dTSPcshYPTeM8bPqgO"], ["created_at", "2017-02-12 20:03:58.007644"], ["updated_at", "2017-02-12 20:03:58.007644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.010371"], ["updated_at", "2017-02-12 20:03:58.010371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.012492"], ["updated_at", "2017-02-12 20:03:58.012492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.015795"], ["updated_at", "2017-02-12 20:03:58.015795"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ieehngo8vmFfYL1wiLjiveA5glR3VI.2Eq07U5xpwIRoeFuSgeHAW"], ["created_at", "2017-02-12 20:03:58.026965"], ["updated_at", "2017-02-12 20:03:58.026965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.029675"], ["updated_at", "2017-02-12 20:03:58.029675"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.031939"], ["updated_at", "2017-02-12 20:03:58.031939"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.034389"], ["updated_at", "2017-02-12 20:03:58.034389"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.036399"], ["updated_at", "2017-02-12 20:03:58.036399"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.038050"], ["updated_at", "2017-02-12 20:03:58.038050"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.040124"], ["updated_at", "2017-02-12 20:03:58.040124"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.042074"], ["updated_at", "2017-02-12 20:03:58.042074"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.043758"], ["updated_at", "2017-02-12 20:03:58.043758"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.046293"], ["updated_at", "2017-02-12 20:03:58.046293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.048381"], ["updated_at", "2017-02-12 20:03:58.048381"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.050010"], ["updated_at", "2017-02-12 20:03:58.050010"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.052034"], ["updated_at", "2017-02-12 20:03:58.052034"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.054034"], ["updated_at", "2017-02-12 20:03:58.054034"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.055603"], ["updated_at", "2017-02-12 20:03:58.055603"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.057652"], ["updated_at", "2017-02-12 20:03:58.057652"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.061111"], ["updated_at", "2017-02-12 20:03:58.061111"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.064453"], ["updated_at", "2017-02-12 20:03:58.064453"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.067028"], ["updated_at", "2017-02-12 20:03:58.067028"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$00jREI8kyh55dPNbtUj.e.Mlf7xWjvZuXZu9x5s44MX9Uzn6MfT7u"], ["created_at", "2017-02-12 20:03:58.106534"], ["updated_at", "2017-02-12 20:03:58.106534"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$8oYmctSWdBTtVrjEGL/1ReEWmy/qoqBtT.LVfV.sg.Vaf7m8kK8hK"], ["created_at", "2017-02-12 20:03:58.114098"], ["updated_at", "2017-02-12 20:03:58.114098"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 20:03:58.129000"], ["updated_at", "2017-02-12 20:03:58.129000"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.132038"], ["updated_at", "2017-02-12 20:03:58.132038"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fa1f60f5b78>"], ["created_at", "2017-02-12 20:03:58.134146"], ["updated_at", "2017-02-12 20:03:58.134146"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$W2jNIthdKC9a4K7gjRLYaOaoFUhK/dM4lhsxjy5YpHmWPyMDL/.BC"], ["created_at", "2017-02-12 20:03:58.138515"], ["updated_at", "2017-02-12 20:03:58.138515"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.140871"], ["updated_at", "2017-02-12 20:03:58.140871"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 20:03:58.148398"], ["updated_at", "2017-02-12 20:03:58.148398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 20:03:58.150694"], ["updated_at", "2017-02-12 20:03:58.150694"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 20:03:58.152606"], ["updated_at", "2017-02-12 20:03:58.152606"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.154348"], ["updated_at", "2017-02-12 20:03:58.154348"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$rffnDNbdZ0y.VvQsoCk/ZeYFFm/BQyEiRJ8LOub7jzrR57B3hfLrO"], ["created_at", "2017-02-12 20:03:58.158681"], ["updated_at", "2017-02-12 20:03:58.158681"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.160893"], ["updated_at", "2017-02-12 20:03:58.160893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.162565"], ["updated_at", "2017-02-12 20:03:58.162565"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.164887"], ["updated_at", "2017-02-12 20:03:58.164887"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.167220"], ["updated_at", "2017-02-12 20:03:58.167220"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.169333"], ["updated_at", "2017-02-12 20:03:58.169333"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.171570"], ["updated_at", "2017-02-12 20:03:58.171570"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.173461"], ["updated_at", "2017-02-12 20:03:58.173461"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.175194"], ["updated_at", "2017-02-12 20:03:58.175194"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.177294"], ["updated_at", "2017-02-12 20:03:58.177294"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.179476"], ["updated_at", "2017-02-12 20:03:58.179476"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.181165"], ["updated_at", "2017-02-12 20:03:58.181165"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.183285"], ["updated_at", "2017-02-12 20:03:58.183285"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.185217"], ["updated_at", "2017-02-12 20:03:58.185217"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.186798"], ["updated_at", "2017-02-12 20:03:58.186798"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.188762"], ["updated_at", "2017-02-12 20:03:58.188762"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.190556"], ["updated_at", "2017-02-12 20:03:58.190556"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.192190"], ["updated_at", "2017-02-12 20:03:58.192190"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.194245"], ["updated_at", "2017-02-12 20:03:58.194245"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.196081"], ["updated_at", "2017-02-12 20:03:58.196081"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.197694"], ["updated_at", "2017-02-12 20:03:58.197694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.199771"], ["updated_at", "2017-02-12 20:03:58.199771"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.201746"], ["updated_at", "2017-02-12 20:03:58.201746"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.203242"], ["updated_at", "2017-02-12 20:03:58.203242"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.205233"], ["updated_at", "2017-02-12 20:03:58.205233"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.207259"], ["updated_at", "2017-02-12 20:03:58.207259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.208828"], ["updated_at", "2017-02-12 20:03:58.208828"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.210839"], ["updated_at", "2017-02-12 20:03:58.210839"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.212700"], ["updated_at", "2017-02-12 20:03:58.212700"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.214285"], ["updated_at", "2017-02-12 20:03:58.214285"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.216387"], ["updated_at", "2017-02-12 20:03:58.216387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.218245"], ["updated_at", "2017-02-12 20:03:58.218245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.219841"], ["updated_at", "2017-02-12 20:03:58.219841"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.221888"], ["updated_at", "2017-02-12 20:03:58.221888"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.223776"], ["updated_at", "2017-02-12 20:03:58.223776"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.225323"], ["updated_at", "2017-02-12 20:03:58.225323"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.227371"], ["updated_at", "2017-02-12 20:03:58.227371"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.229210"], ["updated_at", "2017-02-12 20:03:58.229210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.230731"], ["updated_at", "2017-02-12 20:03:58.230731"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.232717"], ["updated_at", "2017-02-12 20:03:58.232717"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.234560"], ["updated_at", "2017-02-12 20:03:58.234560"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.236046"], ["updated_at", "2017-02-12 20:03:58.236046"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.238134"], ["updated_at", "2017-02-12 20:03:58.238134"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.240134"], ["updated_at", "2017-02-12 20:03:58.240134"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.241747"], ["updated_at", "2017-02-12 20:03:58.241747"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.243808"], ["updated_at", "2017-02-12 20:03:58.243808"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.245670"], ["updated_at", "2017-02-12 20:03:58.245670"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.247224"], ["updated_at", "2017-02-12 20:03:58.247224"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.249277"], ["updated_at", "2017-02-12 20:03:58.249277"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$X8722JklZ2AX2JS4igJav.P1TQTqeEO72njddgcW/teCZFsInl0sO"], ["created_at", "2017-02-12 20:03:58.261203"], ["updated_at", "2017-02-12 20:03:58.261203"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$IHNQkn21okV80AW7r7pl1Ofq0vwh2hdA0eI8EHECSthU.GJ9dxFkK"], ["created_at", "2017-02-12 20:03:58.268969"], ["updated_at", "2017-02-12 20:03:58.268969"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.274450"], ["updated_at", "2017-02-12 20:03:58.274450"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.277107"], ["updated_at", "2017-02-12 20:03:58.277107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$kZQKq8YEXZnYHzjKWwRXHevPFGC8xiAxAtk1ue6whL7AmmmtMPZKy"], ["created_at", "2017-02-12 20:03:58.281669"], ["updated_at", "2017-02-12 20:03:58.281669"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.284075"], ["updated_at", "2017-02-12 20:03:58.284075"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.290985"], ["updated_at", "2017-02-12 20:03:58.290985"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.293445"], ["updated_at", "2017-02-12 20:03:58.293445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.295553"], ["updated_at", "2017-02-12 20:03:58.295553"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 20:03:58.297259"], ["updated_at", "2017-02-12 20:03:58.297259"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 20:03:58.298799"], ["updated_at", "2017-02-12 20:03:58.298799"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 20:03:58.300425"], ["updated_at", "2017-02-12 20:03:58.300425"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$fQGs65ehX5ssTYB2kZyGrewH4VXu90e8TTXl2hyr8t1Sxv3gIxeXi"], ["created_at", "2017-02-12 20:03:58.304568"], ["updated_at", "2017-02-12 20:03:58.304568"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.306837"], ["updated_at", "2017-02-12 20:03:58.306837"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.308565"], ["updated_at", "2017-02-12 20:03:58.308565"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.310807"], ["updated_at", "2017-02-12 20:03:58.310807"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.312920"], ["updated_at", "2017-02-12 20:03:58.312920"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.315142"], ["updated_at", "2017-02-12 20:03:58.315142"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.317956"], ["updated_at", "2017-02-12 20:03:58.317956"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.319898"], ["updated_at", "2017-02-12 20:03:58.319898"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.321488"], ["updated_at", "2017-02-12 20:03:58.321488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.324059"], ["updated_at", "2017-02-12 20:03:58.324059"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.326019"], ["updated_at", "2017-02-12 20:03:58.326019"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.327650"], ["updated_at", "2017-02-12 20:03:58.327650"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.329877"], ["updated_at", "2017-02-12 20:03:58.329877"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.331834"], ["updated_at", "2017-02-12 20:03:58.331834"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.333422"], ["updated_at", "2017-02-12 20:03:58.333422"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.335470"], ["updated_at", "2017-02-12 20:03:58.335470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.337459"], ["updated_at", "2017-02-12 20:03:58.337459"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.339058"], ["updated_at", "2017-02-12 20:03:58.339058"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.341045"], ["updated_at", "2017-02-12 20:03:58.341045"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.342889"], ["updated_at", "2017-02-12 20:03:58.342889"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.344523"], ["updated_at", "2017-02-12 20:03:58.344523"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.346561"], ["updated_at", "2017-02-12 20:03:58.346561"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.348424"], ["updated_at", "2017-02-12 20:03:58.348424"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.349998"], ["updated_at", "2017-02-12 20:03:58.349998"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.352018"], ["updated_at", "2017-02-12 20:03:58.352018"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.353910"], ["updated_at", "2017-02-12 20:03:58.353910"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.355511"], ["updated_at", "2017-02-12 20:03:58.355511"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.357482"], ["updated_at", "2017-02-12 20:03:58.357482"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.359365"], ["updated_at", "2017-02-12 20:03:58.359365"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.360975"], ["updated_at", "2017-02-12 20:03:58.360975"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.363077"], ["updated_at", "2017-02-12 20:03:58.363077"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.365015"], ["updated_at", "2017-02-12 20:03:58.365015"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.366610"], ["updated_at", "2017-02-12 20:03:58.366610"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.368654"], ["updated_at", "2017-02-12 20:03:58.368654"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.370526"], ["updated_at", "2017-02-12 20:03:58.370526"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.372109"], ["updated_at", "2017-02-12 20:03:58.372109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.374164"], ["updated_at", "2017-02-12 20:03:58.374164"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.376235"], ["updated_at", "2017-02-12 20:03:58.376235"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.377937"], ["updated_at", "2017-02-12 20:03:58.377937"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.380250"], ["updated_at", "2017-02-12 20:03:58.380250"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.382237"], ["updated_at", "2017-02-12 20:03:58.382237"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.383874"], ["updated_at", "2017-02-12 20:03:58.383874"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.385916"], ["updated_at", "2017-02-12 20:03:58.385916"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.387780"], ["updated_at", "2017-02-12 20:03:58.387780"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 18], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.389408"], ["updated_at", "2017-02-12 20:03:58.389408"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.391607"], ["updated_at", "2017-02-12 20:03:58.391607"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:03:58.393525"], ["updated_at", "2017-02-12 20:03:58.393525"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 19], ["style", "Lager"], ["created_at", "2017-02-12 20:03:58.395173"], ["updated_at", "2017-02-12 20:03:58.395173"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 20:03:58.397255"], ["updated_at", "2017-02-12 20:03:58.397255"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$yifEy/EaY2wLVHWXC/jC.u9zJxIP7JbPUG0r.njRm7T7bV49qJWRC"], ["created_at", "2017-02-12 20:06:09.500449"], ["updated_at", "2017-02-12 20:06:09.500449"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$KsVkG86TGQJNf2CIgpBq0eVaXN1BczxFCdoSLX3Z50ZBXnKYGKAWy"], ["created_at", "2017-02-12 20:06:09.512033"], ["updated_at", "2017-02-12 20:06:09.512033"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.537799"], ["updated_at", "2017-02-12 20:06:09.537799"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.550786"], ["updated_at", "2017-02-12 20:06:09.550786"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.576901"], ["updated_at", "2017-02-12 20:06:09.576901"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.580650"], ["updated_at", "2017-02-12 20:06:09.580650"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$XNcC6CG5JuTzvPGMyY90jOp3EvLWnwzcjBc3UCFErOGl.ltzEQIdm"], ["created_at", "2017-02-12 20:06:09.597485"], ["updated_at", "2017-02-12 20:06:09.597485"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$8uO2jscEi47QLGmFomSVCOa2wO2XhP6H5zyXVbI5Rh09sZVpJY9e2"], ["created_at", "2017-02-12 20:06:09.607665"], ["updated_at", "2017-02-12 20:06:09.607665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$HbxFLJ6mgeo0kMK/ld3ujeWPd928qsoQZQGmZJE7/a1TqZ87a1lQe"], ["created_at", "2017-02-12 20:06:09.618900"], ["updated_at", "2017-02-12 20:06:09.618900"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.621633"], ["updated_at", "2017-02-12 20:06:09.621633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.623821"], ["updated_at", "2017-02-12 20:06:09.623821"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.627422"], ["updated_at", "2017-02-12 20:06:09.627422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$O9sfoGrOr6udSqTyRRdtAONa1ZeXUS0qeLo.wp8ywF7XjtTNkdJCm"], ["created_at", "2017-02-12 20:06:09.640267"], ["updated_at", "2017-02-12 20:06:09.640267"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.642982"], ["updated_at", "2017-02-12 20:06:09.642982"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.645550"], ["updated_at", "2017-02-12 20:06:09.645550"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.648629"], ["updated_at", "2017-02-12 20:06:09.648629"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.650693"], ["updated_at", "2017-02-12 20:06:09.650693"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.652272"], ["updated_at", "2017-02-12 20:06:09.652272"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.654384"], ["updated_at", "2017-02-12 20:06:09.654384"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.656314"], ["updated_at", "2017-02-12 20:06:09.656314"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.657884"], ["updated_at", "2017-02-12 20:06:09.657884"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.660138"], ["updated_at", "2017-02-12 20:06:09.660138"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.662213"], ["updated_at", "2017-02-12 20:06:09.662213"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.663850"], ["updated_at", "2017-02-12 20:06:09.663850"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.665830"], ["updated_at", "2017-02-12 20:06:09.665830"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.667712"], ["updated_at", "2017-02-12 20:06:09.667712"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.669215"], ["updated_at", "2017-02-12 20:06:09.669215"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.671137"], ["updated_at", "2017-02-12 20:06:09.671137"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.673155"], ["updated_at", "2017-02-12 20:06:09.673155"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.674797"], ["updated_at", "2017-02-12 20:06:09.674797"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.676794"], ["updated_at", "2017-02-12 20:06:09.676794"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$EALJj789sckwvofsOq9M5OjloJv0I2GCihFWP0MHFbcMYHq9XfTb."], ["created_at", "2017-02-12 20:06:09.715659"], ["updated_at", "2017-02-12 20:06:09.715659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Mmt0AtQGfSBRijJeyln3I.E3073mgmp67YnJ7cP2d9kqrm9uITSLO"], ["created_at", "2017-02-12 20:06:09.723538"], ["updated_at", "2017-02-12 20:06:09.723538"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 20:06:09.739226"], ["updated_at", "2017-02-12 20:06:09.739226"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.742246"], ["updated_at", "2017-02-12 20:06:09.742246"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007ff3a7dc76f0>"], ["created_at", "2017-02-12 20:06:09.744385"], ["updated_at", "2017-02-12 20:06:09.744385"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$oI31CWgi4IBzf0BGrTgazexKz.3ITVQDGOAjziSUFMcr3MzesxuFC"], ["created_at", "2017-02-12 20:06:09.748847"], ["updated_at", "2017-02-12 20:06:09.748847"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.751256"], ["updated_at", "2017-02-12 20:06:09.751256"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 20:06:09.759254"], ["updated_at", "2017-02-12 20:06:09.759254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 20:06:09.761975"], ["updated_at", "2017-02-12 20:06:09.761975"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 20:06:09.764258"], ["updated_at", "2017-02-12 20:06:09.764258"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.766172"], ["updated_at", "2017-02-12 20:06:09.766172"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Tx8O9ZV8uEkT7J/f4NPRH.NzozK5Wltij1jSo2GIslZW/MgVz2ZOK"], ["created_at", "2017-02-12 20:06:09.770402"], ["updated_at", "2017-02-12 20:06:09.770402"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.772622"], ["updated_at", "2017-02-12 20:06:09.772622"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.774301"], ["updated_at", "2017-02-12 20:06:09.774301"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.776385"], ["updated_at", "2017-02-12 20:06:09.776385"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.778391"], ["updated_at", "2017-02-12 20:06:09.778391"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.779938"], ["updated_at", "2017-02-12 20:06:09.779938"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.781850"], ["updated_at", "2017-02-12 20:06:09.781850"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.783821"], ["updated_at", "2017-02-12 20:06:09.783821"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.785427"], ["updated_at", "2017-02-12 20:06:09.785427"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.787466"], ["updated_at", "2017-02-12 20:06:09.787466"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.789358"], ["updated_at", "2017-02-12 20:06:09.789358"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.790913"], ["updated_at", "2017-02-12 20:06:09.790913"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.792940"], ["updated_at", "2017-02-12 20:06:09.792940"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.795244"], ["updated_at", "2017-02-12 20:06:09.795244"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.797785"], ["updated_at", "2017-02-12 20:06:09.797785"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.800734"], ["updated_at", "2017-02-12 20:06:09.800734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.803094"], ["updated_at", "2017-02-12 20:06:09.803094"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.804736"], ["updated_at", "2017-02-12 20:06:09.804736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.806888"], ["updated_at", "2017-02-12 20:06:09.806888"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.808830"], ["updated_at", "2017-02-12 20:06:09.808830"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.810354"], ["updated_at", "2017-02-12 20:06:09.810354"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.812298"], ["updated_at", "2017-02-12 20:06:09.812298"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.814409"], ["updated_at", "2017-02-12 20:06:09.814409"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.815999"], ["updated_at", "2017-02-12 20:06:09.815999"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.817938"], ["updated_at", "2017-02-12 20:06:09.817938"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.819827"], ["updated_at", "2017-02-12 20:06:09.819827"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.821362"], ["updated_at", "2017-02-12 20:06:09.821362"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.823491"], ["updated_at", "2017-02-12 20:06:09.823491"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.825612"], ["updated_at", "2017-02-12 20:06:09.825612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.827259"], ["updated_at", "2017-02-12 20:06:09.827259"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.829221"], ["updated_at", "2017-02-12 20:06:09.829221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.831237"], ["updated_at", "2017-02-12 20:06:09.831237"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.832761"], ["updated_at", "2017-02-12 20:06:09.832761"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.834766"], ["updated_at", "2017-02-12 20:06:09.834766"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.836650"], ["updated_at", "2017-02-12 20:06:09.836650"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.838199"], ["updated_at", "2017-02-12 20:06:09.838199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.840084"], ["updated_at", "2017-02-12 20:06:09.840084"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.841889"], ["updated_at", "2017-02-12 20:06:09.841889"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.843403"], ["updated_at", "2017-02-12 20:06:09.843403"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.845250"], ["updated_at", "2017-02-12 20:06:09.845250"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.847212"], ["updated_at", "2017-02-12 20:06:09.847212"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.848772"], ["updated_at", "2017-02-12 20:06:09.848772"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.850591"], ["updated_at", "2017-02-12 20:06:09.850591"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.852407"], ["updated_at", "2017-02-12 20:06:09.852407"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.853956"], ["updated_at", "2017-02-12 20:06:09.853956"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.855853"], ["updated_at", "2017-02-12 20:06:09.855853"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.857715"], ["updated_at", "2017-02-12 20:06:09.857715"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.859281"], ["updated_at", "2017-02-12 20:06:09.859281"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.861128"], ["updated_at", "2017-02-12 20:06:09.861128"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (3.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$3HHtBdFSqGhKVkeA2bQbAOuVDNNxDVI9Xnhk8yAkGZDZoXFeKBQr6"], ["created_at", "2017-02-12 20:06:09.872570"], ["updated_at", "2017-02-12 20:06:09.872570"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$7Sfg0JD9E31KDNk8tG8iF.SceaNxWr8Xbh1GBOrpEl687AugYeiMC"], ["created_at", "2017-02-12 20:06:09.880086"], ["updated_at", "2017-02-12 20:06:09.880086"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.886422"], ["updated_at", "2017-02-12 20:06:09.886422"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.889375"], ["updated_at", "2017-02-12 20:06:09.889375"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$XtuFSt/oHr2a8Wa9XmX2YuTyM4IITnwgrVHZLl44roz8wgiZGCSly"], ["created_at", "2017-02-12 20:06:09.894004"], ["updated_at", "2017-02-12 20:06:09.894004"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.896314"], ["updated_at", "2017-02-12 20:06:09.896314"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.904652"], ["updated_at", "2017-02-12 20:06:09.904652"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.908136"], ["updated_at", "2017-02-12 20:06:09.908136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.911116"], ["updated_at", "2017-02-12 20:06:09.911116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 20:06:09.913113"], ["updated_at", "2017-02-12 20:06:09.913113"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 20:06:09.914773"], ["updated_at", "2017-02-12 20:06:09.914773"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 20:06:09.916295"], ["updated_at", "2017-02-12 20:06:09.916295"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$NstEJU3/Q.7tpbHVxjkk.OJ4c6XVtG0YIhhjzK1qtG.l5k8trXml6"], ["created_at", "2017-02-12 20:06:09.920390"], ["updated_at", "2017-02-12 20:06:09.920390"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.922658"], ["updated_at", "2017-02-12 20:06:09.922658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.924383"], ["updated_at", "2017-02-12 20:06:09.924383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.926947"], ["updated_at", "2017-02-12 20:06:09.926947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.929549"], ["updated_at", "2017-02-12 20:06:09.929549"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.931363"], ["updated_at", "2017-02-12 20:06:09.931363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.933423"], ["updated_at", "2017-02-12 20:06:09.933423"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.935488"], ["updated_at", "2017-02-12 20:06:09.935488"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.937525"], ["updated_at", "2017-02-12 20:06:09.937525"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.939955"], ["updated_at", "2017-02-12 20:06:09.939955"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.942085"], ["updated_at", "2017-02-12 20:06:09.942085"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.943786"], ["updated_at", "2017-02-12 20:06:09.943786"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.945893"], ["updated_at", "2017-02-12 20:06:09.945893"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.948736"], ["updated_at", "2017-02-12 20:06:09.948736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.951152"], ["updated_at", "2017-02-12 20:06:09.951152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.953741"], ["updated_at", "2017-02-12 20:06:09.953741"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.955902"], ["updated_at", "2017-02-12 20:06:09.955902"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.957509"], ["updated_at", "2017-02-12 20:06:09.957509"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.959496"], ["updated_at", "2017-02-12 20:06:09.959496"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.961359"], ["updated_at", "2017-02-12 20:06:09.961359"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.963550"], ["updated_at", "2017-02-12 20:06:09.963550"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.966529"], ["updated_at", "2017-02-12 20:06:09.966529"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.968590"], ["updated_at", "2017-02-12 20:06:09.968590"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.970123"], ["updated_at", "2017-02-12 20:06:09.970123"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.972154"], ["updated_at", "2017-02-12 20:06:09.972154"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.973994"], ["updated_at", "2017-02-12 20:06:09.973994"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.975632"], ["updated_at", "2017-02-12 20:06:09.975632"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.977622"], ["updated_at", "2017-02-12 20:06:09.977622"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.979470"], ["updated_at", "2017-02-12 20:06:09.979470"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.981019"], ["updated_at", "2017-02-12 20:06:09.981019"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.983009"], ["updated_at", "2017-02-12 20:06:09.983009"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.984926"], ["updated_at", "2017-02-12 20:06:09.984926"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.986535"], ["updated_at", "2017-02-12 20:06:09.986535"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.988462"], ["updated_at", "2017-02-12 20:06:09.988462"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.990627"], ["updated_at", "2017-02-12 20:06:09.990627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.992565"], ["updated_at", "2017-02-12 20:06:09.992565"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 20:06:09.994792"], ["updated_at", "2017-02-12 20:06:09.994792"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:09.996833"], ["updated_at", "2017-02-12 20:06:09.996833"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 20:06:09.998398"], ["updated_at", "2017-02-12 20:06:09.998398"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 20:06:10.000359"], ["updated_at", "2017-02-12 20:06:10.000359"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:10.002315"], ["updated_at", "2017-02-12 20:06:10.002315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 20:06:10.003891"], ["updated_at", "2017-02-12 20:06:10.003891"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 20:06:10.005899"], ["updated_at", "2017-02-12 20:06:10.005899"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:10.007858"], ["updated_at", "2017-02-12 20:06:10.007858"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 18], ["style", "Lager"], ["created_at", "2017-02-12 20:06:10.009495"], ["updated_at", "2017-02-12 20:06:10.009495"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 20:06:10.011547"], ["updated_at", "2017-02-12 20:06:10.011547"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:06:10.013546"], ["updated_at", "2017-02-12 20:06:10.013546"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 19], ["style", "Lager"], ["created_at", "2017-02-12 20:06:10.015159"], ["updated_at", "2017-02-12 20:06:10.015159"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 20:06:10.017124"], ["updated_at", "2017-02-12 20:06:10.017124"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$1v770y4X9jjpql4K6sdluu4C62q5Bcuv0iwH0CW6McpOcZ4ezP352"], ["created_at", "2017-02-12 20:15:34.241710"], ["updated_at", "2017-02-12 20:15:34.241710"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$zQc1GWgnZbl8KHpR3mPF5uTi0seM5zWCnLI4N1gSxoWbhX/n/d2Ki"], ["created_at", "2017-02-12 20:15:34.253556"], ["updated_at", "2017-02-12 20:15:34.253556"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:15:34.279394"], ["updated_at", "2017-02-12 20:15:34.279394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:15:34.292129"], ["updated_at", "2017-02-12 20:15:34.292129"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:15:34.318325"], ["updated_at", "2017-02-12 20:15:34.318325"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:15:34.322118"], ["updated_at", "2017-02-12 20:15:34.322118"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$knt5aOJwtkN.RKoS2bIK7O6CDAkTum.8eJmVeLHrluWwh7n02G/aS"], ["created_at", "2017-02-12 20:15:34.339384"], ["updated_at", "2017-02-12 20:15:34.339384"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$SZ1reGPM9PvFd4wGbKp8XuQ7LUMw3UTCwN6XqabtFOhuvY1HVt55W"], ["created_at", "2017-02-12 20:15:34.350021"], ["updated_at", "2017-02-12 20:15:34.350021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$6aGLm6AClTWjj2tVLy2Ql.S5Q75veftpdrN5K6ExLvVkKG0gxQzru"], ["created_at", "2017-02-12 20:15:34.361515"], ["updated_at", "2017-02-12 20:15:34.361515"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$3A6ZYEIULDG.NgSKsdH44O6oYf80OG.gP8H86r0LaQl/YbS0GLcgW"], ["created_at", "2017-02-12 20:15:34.373146"], ["updated_at", "2017-02-12 20:15:34.373146"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$8iUUUeU3j641YKybsYPSUO/Oju4y4iAoGT8j3bJeTLQORn8UMQ8eW"], ["created_at", "2017-02-12 20:15:34.385364"], ["updated_at", "2017-02-12 20:15:34.385364"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$jrY4NAPF7nvWckx74JK0P.qbfaj4ohk4sGTbK7KXEMOTUL1Te5XX2"], ["created_at", "2017-02-12 20:15:34.393647"], ["updated_at", "2017-02-12 20:15:34.393647"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$2B9ncF2nUiuJoYF2ZvAX5OHE8ozZyjoywtccqi1oHl2MYVIPbJrG."], ["created_at", "2017-02-12 20:15:34.404502"], ["updated_at", "2017-02-12 20:15:34.404502"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Zvm8xuK7mXa4CO3/vFXjsO5RzjptzRj37SZXCuogUZjwfa0euTNeW"], ["created_at", "2017-02-12 20:15:34.412087"], ["updated_at", "2017-02-12 20:15:34.412087"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:15:34.418188"], ["updated_at", "2017-02-12 20:15:34.418188"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:15:34.422078"], ["updated_at", "2017-02-12 20:15:34.422078"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$6Ygey/xYgQ9cygCV5MCPn.eTNPrkcLCeqbxBrC0f24Fqnx5Uzyo2m"], ["created_at", "2017-02-12 20:15:34.427135"], ["updated_at", "2017-02-12 20:15:34.427135"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:15:34.429506"], ["updated_at", "2017-02-12 20:15:34.429506"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:15:34.437030"], ["updated_at", "2017-02-12 20:15:34.437030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:15:34.439396"], ["updated_at", "2017-02-12 20:15:34.439396"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:15:34.441364"], ["updated_at", "2017-02-12 20:15:34.441364"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$6j.YeK4Kc28JYm0SO5csA.m27hzSNyklJKKSXIZR9Ce/RF.sypaRW"], ["created_at", "2017-02-12 20:19:27.329728"], ["updated_at", "2017-02-12 20:19:27.329728"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$cgZqV7UZlDUlq8/kNzi93uLvXsT1gtvcsGuMctnNR5lckE5HWOuOC"], ["created_at", "2017-02-12 20:19:27.341367"], ["updated_at", "2017-02-12 20:19:27.341367"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.367242"], ["updated_at", "2017-02-12 20:19:27.367242"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.380408"], ["updated_at", "2017-02-12 20:19:27.380408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.407023"], ["updated_at", "2017-02-12 20:19:27.407023"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.410894"], ["updated_at", "2017-02-12 20:19:27.410894"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Ls3vEnLywCL3VKKTimng5eZstMarz5O1GWMJ1qxTrDFFXY9uZwoVe"], ["created_at", "2017-02-12 20:19:27.427929"], ["updated_at", "2017-02-12 20:19:27.427929"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Grksjb9n.KS5d.3TpkmEAuJjBOKBFLkc/PTcep/aqxkM8EhwnZBMW"], ["created_at", "2017-02-12 20:19:27.438505"], ["updated_at", "2017-02-12 20:19:27.438505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$SD0FECbQorJKlvgMFESjhOuIk4pPn41V4ZGYu7lSl9qllzrFe1sFi"], ["created_at", "2017-02-12 20:19:27.450062"], ["updated_at", "2017-02-12 20:19:27.450062"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.454408"], ["updated_at", "2017-02-12 20:19:27.454408"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.457188"], ["updated_at", "2017-02-12 20:19:27.457188"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.460321"], ["updated_at", "2017-02-12 20:19:27.460321"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.2ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mnUG1sXKTwF0WC1QIE9YS.3tmQoVUB8HGEkBvWv0NTz5VMU7UJNIO"], ["created_at", "2017-02-12 20:19:27.472845"], ["updated_at", "2017-02-12 20:19:27.472845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.475482"], ["updated_at", "2017-02-12 20:19:27.475482"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.477591"], ["updated_at", "2017-02-12 20:19:27.477591"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.479906"], ["updated_at", "2017-02-12 20:19:27.479906"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.481938"], ["updated_at", "2017-02-12 20:19:27.481938"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.483623"], ["updated_at", "2017-02-12 20:19:27.483623"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.485616"], ["updated_at", "2017-02-12 20:19:27.485616"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.487492"], ["updated_at", "2017-02-12 20:19:27.487492"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.489246"], ["updated_at", "2017-02-12 20:19:27.489246"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.491287"], ["updated_at", "2017-02-12 20:19:27.491287"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.493270"], ["updated_at", "2017-02-12 20:19:27.493270"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.494859"], ["updated_at", "2017-02-12 20:19:27.494859"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.496768"], ["updated_at", "2017-02-12 20:19:27.496768"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.498636"], ["updated_at", "2017-02-12 20:19:27.498636"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.500216"], ["updated_at", "2017-02-12 20:19:27.500216"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.502162"], ["updated_at", "2017-02-12 20:19:27.502162"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.504338"], ["updated_at", "2017-02-12 20:19:27.504338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.506507"], ["updated_at", "2017-02-12 20:19:27.506507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.509801"], ["updated_at", "2017-02-12 20:19:27.509801"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Ib543OCFwtOqPIqCpW3FRe2.iug32OJmOQJDeRG0JeK0BVH.H1tUW"], ["created_at", "2017-02-12 20:19:27.549360"], ["updated_at", "2017-02-12 20:19:27.549360"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$1GeyaN9hZ7O7HqGCwMdjleDiu7HYDhvbsUmN69EqvSvvu4QzN7n0K"], ["created_at", "2017-02-12 20:19:27.556595"], ["updated_at", "2017-02-12 20:19:27.556595"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$FoZeNzQiHk9sUNx.WIX9gOKx3ApqgJICePKUnD2mpMTd37.K.fSoK"], ["created_at", "2017-02-12 20:19:27.566655"], ["updated_at", "2017-02-12 20:19:27.566655"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$sbfZ87TKjeiahdjL.A0AwOdjGqTnVa/.aCYvqEHFYWg1pt0cxxTOi"], ["created_at", "2017-02-12 20:19:27.573377"], ["updated_at", "2017-02-12 20:19:27.573377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.579239"], ["updated_at", "2017-02-12 20:19:27.579239"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:19:27.582025"], ["updated_at", "2017-02-12 20:19:27.582025"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$M8HGNX.QFgaXMNPGzJYABeaib.htQk3iJ2Ws3oZG/we5xfvSZXGx6"], ["created_at", "2017-02-12 20:19:27.586593"], ["updated_at", "2017-02-12 20:19:27.586593"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:19:27.588871"], ["updated_at", "2017-02-12 20:19:27.588871"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.596951"], ["updated_at", "2017-02-12 20:19:27.596951"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.599523"], ["updated_at", "2017-02-12 20:19:27.599523"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:19:27.601444"], ["updated_at", "2017-02-12 20:19:27.601444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$u6CEMtor4UjXUHjUL2aAi./C8.J1vS/gvJ1i6AorWLyikew6K59lq"], ["created_at", "2017-02-12 20:27:44.516903"], ["updated_at", "2017-02-12 20:27:44.516903"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$I4diA2rkTSMW3IXXjdgqpu2jZKt6Mo5vZO0EG.tseDTJ9KH0x4mwy"], ["created_at", "2017-02-12 20:27:44.529152"], ["updated_at", "2017-02-12 20:27:44.529152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.553498"], ["updated_at", "2017-02-12 20:27:44.553498"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.566273"], ["updated_at", "2017-02-12 20:27:44.566273"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.592679"], ["updated_at", "2017-02-12 20:27:44.592679"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.596405"], ["updated_at", "2017-02-12 20:27:44.596405"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$OwE7DSQOgqrC9egjatF2g.8R2AsaqvgFc665PBycvumF56RK42RFa"], ["created_at", "2017-02-12 20:27:44.614185"], ["updated_at", "2017-02-12 20:27:44.614185"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ycFHOlO03kheZVmW9/YPTuOpt/BO1HyV.SM8H0NXuUGDNyMUgns/G"], ["created_at", "2017-02-12 20:27:44.625062"], ["updated_at", "2017-02-12 20:27:44.625062"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tYrHzm/zfgo1vzkmkkDRr.yeqmN1JqEWBbJI9zKx.XV5RDUra7zKC"], ["created_at", "2017-02-12 20:27:44.636443"], ["updated_at", "2017-02-12 20:27:44.636443"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.639097"], ["updated_at", "2017-02-12 20:27:44.639097"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.641164"], ["updated_at", "2017-02-12 20:27:44.641164"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.643783"], ["updated_at", "2017-02-12 20:27:44.643783"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$G3HXBpK8Y0drXMt3X.N1pelMS76CYkfrlOXxfcBqG1aNRKS1yDL0S"], ["created_at", "2017-02-12 20:27:44.655881"], ["updated_at", "2017-02-12 20:27:44.655881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.658494"], ["updated_at", "2017-02-12 20:27:44.658494"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.660723"], ["updated_at", "2017-02-12 20:27:44.660723"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.663003"], ["updated_at", "2017-02-12 20:27:44.663003"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.665029"], ["updated_at", "2017-02-12 20:27:44.665029"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.666638"], ["updated_at", "2017-02-12 20:27:44.666638"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.668634"], ["updated_at", "2017-02-12 20:27:44.668634"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.670599"], ["updated_at", "2017-02-12 20:27:44.670599"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.672278"], ["updated_at", "2017-02-12 20:27:44.672278"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.674303"], ["updated_at", "2017-02-12 20:27:44.674303"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.676360"], ["updated_at", "2017-02-12 20:27:44.676360"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.677898"], ["updated_at", "2017-02-12 20:27:44.677898"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.679830"], ["updated_at", "2017-02-12 20:27:44.679830"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.681692"], ["updated_at", "2017-02-12 20:27:44.681692"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.683287"], ["updated_at", "2017-02-12 20:27:44.683287"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.685240"], ["updated_at", "2017-02-12 20:27:44.685240"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.687112"], ["updated_at", "2017-02-12 20:27:44.687112"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.688897"], ["updated_at", "2017-02-12 20:27:44.688897"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.691438"], ["updated_at", "2017-02-12 20:27:44.691438"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$djIatub/xUk3y7VSDvU6FuxW8oLW6TC7pWZ9Cdjh99vq/cRByc6Xy"], ["created_at", "2017-02-12 20:27:44.731180"], ["updated_at", "2017-02-12 20:27:44.731180"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$TEGQHku1zCEgclVa/HRI9u8mFdCoF3i0CNbKKL4EmcQTh8saEJmIi"], ["created_at", "2017-02-12 20:27:44.738903"], ["updated_at", "2017-02-12 20:27:44.738903"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Z91Ag83U.fUX7aMggQZmDOcmz5HbXeECJ/JlD63IP8yErYjrDHo2S"], ["created_at", "2017-02-12 20:27:44.749486"], ["updated_at", "2017-02-12 20:27:44.749486"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$XaZ/C.Qyi1Si05d.PuGAY.DzjwHTtGgDG7l8E.pM1poy6NoLJ0Cna"], ["created_at", "2017-02-12 20:27:44.757055"], ["updated_at", "2017-02-12 20:27:44.757055"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.763746"], ["updated_at", "2017-02-12 20:27:44.763746"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:27:44.766639"], ["updated_at", "2017-02-12 20:27:44.766639"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$vPXyeG3Z4gSyRZ8D1p.lOuo54CMAmsIxLrbFjRbXB3egGm7w0SwGu"], ["created_at", "2017-02-12 20:27:44.771240"], ["updated_at", "2017-02-12 20:27:44.771240"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:27:44.773705"], ["updated_at", "2017-02-12 20:27:44.773705"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.781904"], ["updated_at", "2017-02-12 20:27:44.781904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.784156"], ["updated_at", "2017-02-12 20:27:44.784156"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:27:44.786008"], ["updated_at", "2017-02-12 20:27:44.786008"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$kIup6GPuaF4pdtNYqg94J.0ZRcf7o349bzgqE54rs6FLKFu2OIcOa"], ["created_at", "2017-02-12 20:38:15.845462"], ["updated_at", "2017-02-12 20:38:15.845462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5qC/mGxeJqtnGEDFFP9J7.6FTVHKEmhB4fkjQIxqDc28TdPlb/G16"], ["created_at", "2017-02-12 20:38:15.858179"], ["updated_at", "2017-02-12 20:38:15.858179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:38:15.883906"], ["updated_at", "2017-02-12 20:38:15.883906"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:38:15.898435"], ["updated_at", "2017-02-12 20:38:15.898435"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:38:15.925296"], ["updated_at", "2017-02-12 20:38:15.925296"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:38:15.928989"], ["updated_at", "2017-02-12 20:38:15.928989"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$zhs8zz34kxQj/wq/qYfbGOJxaCId86o8OInQ7XDltYq/KWNMyalgC"], ["created_at", "2017-02-12 20:38:15.946043"], ["updated_at", "2017-02-12 20:38:15.946043"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$9AkqtpBk7KmC8evhCBM6bexzzzEO5.eeSPIoxwCcqjpYox0Sk6Xa6"], ["created_at", "2017-02-12 20:38:15.956678"], ["updated_at", "2017-02-12 20:38:15.956678"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tg6ImxYDQ9fyzwH5bOf49e8UX0k1uYg8qgvL6O3IBjam6QW1M2sHq"], ["created_at", "2017-02-12 20:38:15.968231"], ["updated_at", "2017-02-12 20:38:15.968231"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$cCJEFrpUq59/BDuTaODBDucCvUH9B/z9AoGqps3MmcvpTNjc.XpOa"], ["created_at", "2017-02-12 20:38:15.975561"], ["updated_at", "2017-02-12 20:38:15.975561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$x/8tVAvyGPpbj2.jCCnpzuXI6DVf0JUrFxm6rHUs6Nd1460E6VkLS"], ["created_at", "2017-02-12 20:38:15.986171"], ["updated_at", "2017-02-12 20:38:15.986171"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$akualb4iWXqD6cdMUqxICOyM8wCDWrP7QGDIP4ptMyIalq0K/gvxa"], ["created_at", "2017-02-12 20:38:15.994967"], ["updated_at", "2017-02-12 20:38:15.994967"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ZDBsfl1D.MY7mfW2cP4J/etYjSAh7X28bWc04UH1LRlWlxyT3BbNa"], ["created_at", "2017-02-12 20:38:16.006567"], ["updated_at", "2017-02-12 20:38:16.006567"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$0t9O5T8oqVzpKqpa2OHbmODxnfCxGStOzvPZjNPwBe8LNn274fNK."], ["created_at", "2017-02-12 20:38:16.014217"], ["updated_at", "2017-02-12 20:38:16.014217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:38:16.020319"], ["updated_at", "2017-02-12 20:38:16.020319"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:38:16.024809"], ["updated_at", "2017-02-12 20:38:16.024809"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$VOxDELwK2d7Zjl0dl5fkiOAenuGctzmg6QASENJGi5sPbEvgo7p86"], ["created_at", "2017-02-12 20:38:16.030381"], ["updated_at", "2017-02-12 20:38:16.030381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:38:16.033303"], ["updated_at", "2017-02-12 20:38:16.033303"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:38:16.042419"], ["updated_at", "2017-02-12 20:38:16.042419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:38:16.046327"], ["updated_at", "2017-02-12 20:38:16.046327"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:38:16.048455"], ["updated_at", "2017-02-12 20:38:16.048455"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$fShxu9HU8OrZgw75hUgxT.LbReN4xvnna.ZbVyPqXAAxKofhEVFQ2"], ["created_at", "2017-02-12 20:39:54.643710"], ["updated_at", "2017-02-12 20:39:54.643710"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$cB4HXyJU51UkFm3Xq.xohupcOyBJ5taOYvEQXb51NSry/E9xpiiz2"], ["created_at", "2017-02-12 20:39:54.655408"], ["updated_at", "2017-02-12 20:39:54.655408"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:39:54.682247"], ["updated_at", "2017-02-12 20:39:54.682247"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:39:54.694745"], ["updated_at", "2017-02-12 20:39:54.694745"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:39:54.720936"], ["updated_at", "2017-02-12 20:39:54.720936"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:39:54.724742"], ["updated_at", "2017-02-12 20:39:54.724742"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ukYCDSO/5spc2H53beSvhugkqkKn6d9j5mLCn99bA9i.i3/yG7M46"], ["created_at", "2017-02-12 20:39:54.742079"], ["updated_at", "2017-02-12 20:39:54.742079"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$cFnGBkX01j6/KGm0oShkB.G64NT/S0goDqUkkrTJQ9HTH8nVq7MYS"], ["created_at", "2017-02-12 20:39:54.752778"], ["updated_at", "2017-02-12 20:39:54.752778"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ICEeck85/FwY6tNsbSr3J.VYhWnnPqDnFDsWjVFitJMahF5bPK7yu"], ["created_at", "2017-02-12 20:39:54.764617"], ["updated_at", "2017-02-12 20:39:54.764617"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$HzLGgprm6NlIVF.TWvfHbODXRzBsemAmQ8SFVjQ/sJw26rF/4syOG"], ["created_at", "2017-02-12 20:39:54.772145"], ["updated_at", "2017-02-12 20:39:54.772145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$WtInSo8QY/Th.oplRlCAuuw8vIo.dsDtp45iP9yR3TBrhFhTKPkUC"], ["created_at", "2017-02-12 20:39:54.779903"], ["updated_at", "2017-02-12 20:39:54.779903"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$KBIpgRxHJQFYY3eqDyjawOfyjnPB7ofL2dDdvi5xrX.m27LS4GV42"], ["created_at", "2017-02-12 20:39:54.787230"], ["updated_at", "2017-02-12 20:39:54.787230"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$JD/zxzcZUAT8cswl.W2mie6g1qBQgJkG7fz3FpMGyKpI9CgfNURgC"], ["created_at", "2017-02-12 20:39:54.797509"], ["updated_at", "2017-02-12 20:39:54.797509"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$.XdVe.hlN0S16PbXG9j43uX8W4n5qV32VzNNetG6m.d3UDN2jVJJO"], ["created_at", "2017-02-12 20:39:54.804809"], ["updated_at", "2017-02-12 20:39:54.804809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:39:54.810414"], ["updated_at", "2017-02-12 20:39:54.810414"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:39:54.813277"], ["updated_at", "2017-02-12 20:39:54.813277"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$OgIfxS5h9IMFB21KSl4Lwe7vNkguFDZHShB9gAEf3n1lOWFt4ck6m"], ["created_at", "2017-02-12 20:39:54.817965"], ["updated_at", "2017-02-12 20:39:54.817965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:39:54.820989"], ["updated_at", "2017-02-12 20:39:54.820989"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:39:54.830758"], ["updated_at", "2017-02-12 20:39:54.830758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:39:54.833084"], ["updated_at", "2017-02-12 20:39:54.833084"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:39:54.834998"], ["updated_at", "2017-02-12 20:39:54.834998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$zVIxAjBrrUs3HQeK8A9eNOIWtXtMSRZdHZgb75tU4q0PF5V/siBvS"], ["created_at", "2017-02-12 20:43:55.284524"], ["updated_at", "2017-02-12 20:43:55.284524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$zEyi6yMZybM2Ju99CIKKJOcVlE4lpUAx3IH./jFZAJjqodAbT8IIq"], ["created_at", "2017-02-12 20:43:55.296716"], ["updated_at", "2017-02-12 20:43:55.296716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:43:55.323563"], ["updated_at", "2017-02-12 20:43:55.323563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:43:55.337381"], ["updated_at", "2017-02-12 20:43:55.337381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:43:55.365007"], ["updated_at", "2017-02-12 20:43:55.365007"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:43:55.368815"], ["updated_at", "2017-02-12 20:43:55.368815"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$LLfNthi7LmANq8bGqh967eB2hyrwzUNcvxo53idjDqo935GN0U.H2"], ["created_at", "2017-02-12 20:43:55.386215"], ["updated_at", "2017-02-12 20:43:55.386215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$4qOk5ZW3rXJ3E5OGXY7AsODaO5KQNigjNmYmIN2Ua4pGEjKLMq.de"], ["created_at", "2017-02-12 20:43:55.396697"], ["updated_at", "2017-02-12 20:43:55.396697"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$pJBAiC7sNRzUkq7x8Ccfj.snksY5428TGTEhVU1GOKq/NRFJcnEnW"], ["created_at", "2017-02-12 20:43:55.408371"], ["updated_at", "2017-02-12 20:43:55.408371"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$f5nuO3i2n.lHM7F9ItCAjunBNDAnLWhYsCzeHyCsb6OwTLUI1Fg/S"], ["created_at", "2017-02-12 20:43:55.416627"], ["updated_at", "2017-02-12 20:43:55.416627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tI3ximvLF7nYgfj6I/xS6O.yIuodgmLZev7meGdTmAtWMwBjb2cUO"], ["created_at", "2017-02-12 20:43:55.427890"], ["updated_at", "2017-02-12 20:43:55.427890"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$3n3y1OetWKoi4.cuaxlRi.9ZFx9/cj7TsGnQL1mCpjKU5DcoTDfdG"], ["created_at", "2017-02-12 20:43:55.435666"], ["updated_at", "2017-02-12 20:43:55.435666"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$P6ZoT79Kc5z8lJ4jMZZSNesRjF2aUIIg2oBXP455BgIVgprMzxaFK"], ["created_at", "2017-02-12 20:43:55.447404"], ["updated_at", "2017-02-12 20:43:55.447404"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$jVDXiXi9U4k2Ho/QT7nOD.oHYb8Jq9p0lInpkZBySgYgTAo8Ryz7i"], ["created_at", "2017-02-12 20:43:55.454732"], ["updated_at", "2017-02-12 20:43:55.454732"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:43:55.460499"], ["updated_at", "2017-02-12 20:43:55.460499"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:43:55.463468"], ["updated_at", "2017-02-12 20:43:55.463468"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$uQUU20JSdftNMcukbn8z7uMBxY3aWUPoa85l95KfgznNRqKG4TAbK"], ["created_at", "2017-02-12 20:43:55.470105"], ["updated_at", "2017-02-12 20:43:55.470105"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:43:55.473066"], ["updated_at", "2017-02-12 20:43:55.473066"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:43:55.481765"], ["updated_at", "2017-02-12 20:43:55.481765"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:43:55.484465"], ["updated_at", "2017-02-12 20:43:55.484465"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:43:55.486832"], ["updated_at", "2017-02-12 20:43:55.486832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$RCkrIPnWr3Vu7wCWseE36OOmy.WMGZosQg7mpsrMN2vc3Pci65mlm"], ["created_at", "2017-02-12 20:49:49.553481"], ["updated_at", "2017-02-12 20:49:49.553481"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$VFDAG4pluxbnQxqzhdB24ODw0d7VIiyd4kDTcIs8kpdYOg7sQfOa2"], ["created_at", "2017-02-12 20:49:49.565484"], ["updated_at", "2017-02-12 20:49:49.565484"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:49:49.592604"], ["updated_at", "2017-02-12 20:49:49.592604"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:49:49.606912"], ["updated_at", "2017-02-12 20:49:49.606912"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:49:49.633953"], ["updated_at", "2017-02-12 20:49:49.633953"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:49:49.637690"], ["updated_at", "2017-02-12 20:49:49.637690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$G1/6EHxinevDnZRf3i7QAOxrHVaKCG6y6p2P3Xbb.E3zilkD3.856"], ["created_at", "2017-02-12 20:49:49.655039"], ["updated_at", "2017-02-12 20:49:49.655039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$eq1LZj8A.qlrwKrtufo2COAcbtPuKYprZPCkpA1H6s/kpstCNxcfy"], ["created_at", "2017-02-12 20:49:49.665201"], ["updated_at", "2017-02-12 20:49:49.665201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$esIC6DTkhTqDmVzrmOmA1u3uKrMrqaRv4ny3KMmu4SxTMsPC5M.Ra"], ["created_at", "2017-02-12 20:49:49.676733"], ["updated_at", "2017-02-12 20:49:49.676733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Kc5N6TrkKN5jY7RAcSUEuuNcImY/uFs6igBM1vzU.L5opqFQb91dS"], ["created_at", "2017-02-12 20:49:49.684092"], ["updated_at", "2017-02-12 20:49:49.684092"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$rg6lDDNS5o8bco3NU/JI.uFEiFI78ZbQ3sRx576PsyL3s16AaHfsa"], ["created_at", "2017-02-12 20:49:49.693142"], ["updated_at", "2017-02-12 20:49:49.693142"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$cTfjlDuU3GLythy/fklSNeSMCl/a4k6zI4jhj3P3AxchimEMvT6rS"], ["created_at", "2017-02-12 20:49:49.701321"], ["updated_at", "2017-02-12 20:49:49.701321"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$xH/LGkM3YnntZWs8PSQoN.ZiZiAnKe7kUmccpWyXUolvUkUxi1OkW"], ["created_at", "2017-02-12 20:49:49.711498"], ["updated_at", "2017-02-12 20:49:49.711498"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$vCMz1gMc0zaSe0yU2oxQaOkFJuHJv5OZxP26EnxEQyE/kekwes1e2"], ["created_at", "2017-02-12 20:49:49.719109"], ["updated_at", "2017-02-12 20:49:49.719109"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:49:49.724867"], ["updated_at", "2017-02-12 20:49:49.724867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:49:49.727664"], ["updated_at", "2017-02-12 20:49:49.727664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Zqx2Dgyfg07JAs4FKXwu/.rvOvty.7ZhvD7tVDhbfrPJRVZQk8UqW"], ["created_at", "2017-02-12 20:49:49.732563"], ["updated_at", "2017-02-12 20:49:49.732563"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:49:49.735700"], ["updated_at", "2017-02-12 20:49:49.735700"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:49:49.745131"], ["updated_at", "2017-02-12 20:49:49.745131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:49:49.747578"], ["updated_at", "2017-02-12 20:49:49.747578"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:49:49.749570"], ["updated_at", "2017-02-12 20:49:49.749570"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$BKuuR5ALJjhvmf8znEHCw.7ZBUieRnTAjBRGFICDkzh4zeVzYqEVm"], ["created_at", "2017-02-12 20:56:36.289474"], ["updated_at", "2017-02-12 20:56:36.289474"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$d.B1ehKzjjgCuu9si03PY.X5CaU614eT8YUKjJRvMS1p47mv4jywu"], ["created_at", "2017-02-12 20:56:36.302821"], ["updated_at", "2017-02-12 20:56:36.302821"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:56:36.327032"], ["updated_at", "2017-02-12 20:56:36.327032"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:56:36.340143"], ["updated_at", "2017-02-12 20:56:36.340143"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:56:36.366803"], ["updated_at", "2017-02-12 20:56:36.366803"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:56:36.371005"], ["updated_at", "2017-02-12 20:56:36.371005"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$COmRb3PQTkqzE64PK5QXsOkb2ziag2rxwnhKDeijNA/SQueR.8sc."], ["created_at", "2017-02-12 20:56:36.387984"], ["updated_at", "2017-02-12 20:56:36.387984"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Qa8nyCiV0ZOm.KERNaE4Me0zFSouCIw4BusFiOU4eDxncTlRKoC1q"], ["created_at", "2017-02-12 20:56:36.398795"], ["updated_at", "2017-02-12 20:56:36.398795"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Vp9IrR/OTySXfIKfaFKc8.H/016hC94gA8MAS7H/jhtBVzAY81zfi"], ["created_at", "2017-02-12 20:56:36.410692"], ["updated_at", "2017-02-12 20:56:36.410692"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$WeB1ScxKqIrg.V34QP65GOiX/zzW7yLP8jyTaSyxE/2YXaIuWVLXu"], ["created_at", "2017-02-12 20:56:36.418680"], ["updated_at", "2017-02-12 20:56:36.418680"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$qhjbPA4TAYq4CDiYAZ3mnOLAelNxaR0a2JuaaaOxOQPsw5G.yZLWO"], ["created_at", "2017-02-12 20:56:36.427539"], ["updated_at", "2017-02-12 20:56:36.427539"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$c67p5DmHdFB8Sq1BKdQAxuASwkHQNTAlOVXs82xZHch8mKYxVR5cu"], ["created_at", "2017-02-12 20:56:36.435390"], ["updated_at", "2017-02-12 20:56:36.435390"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$lSa6b/hMe.oesD8RZloHSuZ5ldo2O7k7c889nlGo8i.mS2qrIGGp."], ["created_at", "2017-02-12 20:56:36.446777"], ["updated_at", "2017-02-12 20:56:36.446777"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$LMd.OB.095iuh/ZSFlBoH.jW3hxqezC3U5s6Jnisb8YlwDn3kn.m2"], ["created_at", "2017-02-12 20:56:36.453988"], ["updated_at", "2017-02-12 20:56:36.453988"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:56:36.459845"], ["updated_at", "2017-02-12 20:56:36.459845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:56:36.462517"], ["updated_at", "2017-02-12 20:56:36.462517"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$MgzPJy8dRgfG/5dIEHWvCu.96QVaR7/XdfBBYwtq1zE46M2aMcP9m"], ["created_at", "2017-02-12 20:56:36.468553"], ["updated_at", "2017-02-12 20:56:36.468553"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:56:36.472515"], ["updated_at", "2017-02-12 20:56:36.472515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:56:36.481824"], ["updated_at", "2017-02-12 20:56:36.481824"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:56:36.484131"], ["updated_at", "2017-02-12 20:56:36.484131"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:56:36.486066"], ["updated_at", "2017-02-12 20:56:36.486066"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$p1KgmHGdjqHa4JkmxBj/Ye66dzykjW0QX1rjfGSo5Qgx.oGz.Flce"], ["created_at", "2017-02-12 20:57:36.472454"], ["updated_at", "2017-02-12 20:57:36.472454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$t7fMobzQqOgyDmKfZur3F.HaAZ18sfecGakczna5IKmlM5m4GADea"], ["created_at", "2017-02-12 20:57:36.483955"], ["updated_at", "2017-02-12 20:57:36.483955"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:36.510413"], ["updated_at", "2017-02-12 20:57:36.510413"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:57:36.523940"], ["updated_at", "2017-02-12 20:57:36.523940"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:36.551330"], ["updated_at", "2017-02-12 20:57:36.551330"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:36.555252"], ["updated_at", "2017-02-12 20:57:36.555252"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$/DdEcG8p1te5Y3XoxyZjeeR79F0x8cKw7Ldv5gNiNEoakqIc.6Roi"], ["created_at", "2017-02-12 20:57:36.572616"], ["updated_at", "2017-02-12 20:57:36.572616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$eY6Q6oH4fnIJFkEvCcLpjejQ8pnLammu4e1ZUlJzH//3bs31TMAaK"], ["created_at", "2017-02-12 20:57:36.583910"], ["updated_at", "2017-02-12 20:57:36.583910"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$86ahN5xPCq22.Ba5m0S2U.goY3JxoI5L/2nw3VczzH7h83yOsCtLm"], ["created_at", "2017-02-12 20:57:36.595679"], ["updated_at", "2017-02-12 20:57:36.595679"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$AHbb8l2LDvsX2KcVhNg1GOjMKV29a4xRApvLlzbLlxJ/4zvM833CW"], ["created_at", "2017-02-12 20:57:36.603878"], ["updated_at", "2017-02-12 20:57:36.603878"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$gSX4lMR6wPe3EKFJNwZo2euwhMC7XLgLI6mExOHiVuBYm.G1zS7ny"], ["created_at", "2017-02-12 20:57:36.612100"], ["updated_at", "2017-02-12 20:57:36.612100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$7yDzJW0Us7Te213I5qAzqeCFbJjmx987J.UTvjrPIews0Qj9AY3la"], ["created_at", "2017-02-12 20:57:36.619867"], ["updated_at", "2017-02-12 20:57:36.619867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 20:57:36.635655"], ["updated_at", "2017-02-12 20:57:36.635655"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:36.638862"], ["updated_at", "2017-02-12 20:57:36.638862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fb4102ef600>"], ["created_at", "2017-02-12 20:57:36.641122"], ["updated_at", "2017-02-12 20:57:36.641122"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wR1n8zGFTzfDemm/4ikJv.p.YArgNiQzpkcJ6cyLeaJb9phdwa3Le"], ["created_at", "2017-02-12 20:57:36.645501"], ["updated_at", "2017-02-12 20:57:36.645501"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:36.648381"], ["updated_at", "2017-02-12 20:57:36.648381"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 20:57:36.685100"], ["updated_at", "2017-02-12 20:57:36.685100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 20:57:36.687518"], ["updated_at", "2017-02-12 20:57:36.687518"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 20:57:36.689444"], ["updated_at", "2017-02-12 20:57:36.689444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:36.691303"], ["updated_at", "2017-02-12 20:57:36.691303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$R7qpyodLYMam55ut6hfhquVwreXnNU5Dr5T45aFwjqAcUusLsl3JC"], ["created_at", "2017-02-12 20:57:36.695566"], ["updated_at", "2017-02-12 20:57:36.695566"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$y2WHhdg7i1lxQutJf/5jy.kxBdCfjhCSLd3q4c5Hb7u4HhG52dcra"], ["created_at", "2017-02-12 20:57:36.703350"], ["updated_at", "2017-02-12 20:57:36.703350"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$omyyKpHaWPmGw0RK9ncWO.tNoh4hmoNvH1cPz5.Sau3JLyAPfpl1."], ["created_at", "2017-02-12 20:57:36.710367"], ["updated_at", "2017-02-12 20:57:36.710367"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:36.716172"], ["updated_at", "2017-02-12 20:57:36.716172"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:57:36.719215"], ["updated_at", "2017-02-12 20:57:36.719215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$PrIg0wmctUNmdpoAM4WKGuL1DTaMAI62fPFKs4bLIfJtK/7kQETfe"], ["created_at", "2017-02-12 20:57:36.725134"], ["updated_at", "2017-02-12 20:57:36.725134"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:36.727665"], ["updated_at", "2017-02-12 20:57:36.727665"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:36.735382"], ["updated_at", "2017-02-12 20:57:36.735382"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:36.737776"], ["updated_at", "2017-02-12 20:57:36.737776"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:36.739692"], ["updated_at", "2017-02-12 20:57:36.739692"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 20:57:36.741388"], ["updated_at", "2017-02-12 20:57:36.741388"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 20:57:36.742929"], ["updated_at", "2017-02-12 20:57:36.742929"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 20:57:36.744689"], ["updated_at", "2017-02-12 20:57:36.744689"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$0Wd/2UevdB6KDx97/In.0uplckYI7eGi6JnDfwSgir63UFHEBiCNa"], ["created_at", "2017-02-12 20:57:36.748723"], ["updated_at", "2017-02-12 20:57:36.748723"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$hbFqLEviyAS3PH2WFEQtwOIe53woIdVkIh7ZMfB/rp0sTHfNJHJEi"], ["created_at", "2017-02-12 20:57:50.336352"], ["updated_at", "2017-02-12 20:57:50.336352"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$GfAS2u8O7TUcapV4ORWbTeh1kAQEVZqNSZrDvQMhtKk5X5ncb8/gy"], ["created_at", "2017-02-12 20:57:50.347911"], ["updated_at", "2017-02-12 20:57:50.347911"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:50.373069"], ["updated_at", "2017-02-12 20:57:50.373069"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:57:50.385714"], ["updated_at", "2017-02-12 20:57:50.385714"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:50.411659"], ["updated_at", "2017-02-12 20:57:50.411659"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:50.415339"], ["updated_at", "2017-02-12 20:57:50.415339"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$JlMlCihL6rR3iKBj.SzxXuPUzWcJ/qFBhkH/dDxEqQvK/v2qhS9HG"], ["created_at", "2017-02-12 20:57:50.432667"], ["updated_at", "2017-02-12 20:57:50.432667"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$jEXb4oyvyL6u708AzYgheuLf/YVSnxXmoFjvUf2fBMbl.FaeeZlRS"], ["created_at", "2017-02-12 20:57:50.443136"], ["updated_at", "2017-02-12 20:57:50.443136"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$JJEanexRoEB/JAlpthlyMOJnshJSMTLBOv4LsJUTekAMZVtQ6o3iC"], ["created_at", "2017-02-12 20:57:50.455043"], ["updated_at", "2017-02-12 20:57:50.455043"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mVHSWj9SDKMclGkPYrWnIetaCM6Osxu36SN/OJd3gbemG9e90NMsK"], ["created_at", "2017-02-12 20:57:50.464585"], ["updated_at", "2017-02-12 20:57:50.464585"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$lD9mlA.h5ABnnAkEO2K1x.jeqrpmGCzKXlxsihDF8drm4khCKq3bC"], ["created_at", "2017-02-12 20:57:50.474436"], ["updated_at", "2017-02-12 20:57:50.474436"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ChOsLRWgpWeKtV.GezdUHuzLd3Cw2JXw7D9Fsr2JuGyi3.VuBgnRm"], ["created_at", "2017-02-12 20:57:50.481965"], ["updated_at", "2017-02-12 20:57:50.481965"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 20:57:50.497493"], ["updated_at", "2017-02-12 20:57:50.497493"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:50.500622"], ["updated_at", "2017-02-12 20:57:50.500622"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fd2cf049b98>"], ["created_at", "2017-02-12 20:57:50.502772"], ["updated_at", "2017-02-12 20:57:50.502772"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5PqZ0zHU0psDd5gfT.StbehT2OfbQKUsStPaBYNHFGTqqvEMhFxaO"], ["created_at", "2017-02-12 20:57:50.507176"], ["updated_at", "2017-02-12 20:57:50.507176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:50.510246"], ["updated_at", "2017-02-12 20:57:50.510246"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 20:57:50.548676"], ["updated_at", "2017-02-12 20:57:50.548676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 20:57:50.551106"], ["updated_at", "2017-02-12 20:57:50.551106"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 20:57:50.552992"], ["updated_at", "2017-02-12 20:57:50.552992"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:50.554740"], ["updated_at", "2017-02-12 20:57:50.554740"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$4zsP4gR37kif0QCBahE4HeDiIUmMDWvyK02LrgOG8cF9J1Fg1nItG"], ["created_at", "2017-02-12 20:57:50.559281"], ["updated_at", "2017-02-12 20:57:50.559281"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$LlbtGd7SSRcQ/vYUN9p9B.F5u.ckijGhXzTrIiGM6qM9XF.Wrc40W"], ["created_at", "2017-02-12 20:57:50.567518"], ["updated_at", "2017-02-12 20:57:50.567518"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$i3YlxbB9Qs1lyXrYVj2Fr.L2k03u.Tp0Kr64Y16zZ1QOZO1sOLYHW"], ["created_at", "2017-02-12 20:57:50.575327"], ["updated_at", "2017-02-12 20:57:50.575327"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:50.581488"], ["updated_at", "2017-02-12 20:57:50.581488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 20:57:50.584447"], ["updated_at", "2017-02-12 20:57:50.584447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$srfzvItRGkYlKn1zzbfY4.GobyXzDu4povGU.3vdWIx4I80KCN0ZO"], ["created_at", "2017-02-12 20:57:50.590309"], ["updated_at", "2017-02-12 20:57:50.590309"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 20:57:50.593005"], ["updated_at", "2017-02-12 20:57:50.593005"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:50.600963"], ["updated_at", "2017-02-12 20:57:50.600963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:50.603751"], ["updated_at", "2017-02-12 20:57:50.603751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 20:57:50.606803"], ["updated_at", "2017-02-12 20:57:50.606803"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 20:57:50.608953"], ["updated_at", "2017-02-12 20:57:50.608953"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 20:57:50.611228"], ["updated_at", "2017-02-12 20:57:50.611228"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 20:57:50.612982"], ["updated_at", "2017-02-12 20:57:50.612982"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$I1slBPaz2G4rkKsIf5rkVeTQTHYO110xdIf/nceYZUFeMSgNgIfOe"], ["created_at", "2017-02-12 20:57:50.617166"], ["updated_at", "2017-02-12 20:57:50.617166"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$aDh70UimNvE4ZRqq0jSYsOM.9BDxNt1PqA33vRh.ab0BWQf5L4/Lq"], ["created_at", "2017-02-12 21:02:23.041723"], ["updated_at", "2017-02-12 21:02:23.041723"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$PbgE0ZBQT57fQ90QdVrIGOiJzlQkusEnmbfIlxuS6SJkR37kdooDC"], ["created_at", "2017-02-12 21:02:23.053736"], ["updated_at", "2017-02-12 21:02:23.053736"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.077540"], ["updated_at", "2017-02-12 21:02:23.077540"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.091680"], ["updated_at", "2017-02-12 21:02:23.091680"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.118450"], ["updated_at", "2017-02-12 21:02:23.118450"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.122357"], ["updated_at", "2017-02-12 21:02:23.122357"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$KlXxNT/3NJFJ7Kayla6d2uCGVRs9QWMvMUH/vQ365eydH8u/B8Yyi"], ["created_at", "2017-02-12 21:02:23.139364"], ["updated_at", "2017-02-12 21:02:23.139364"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$iCFbmsYFCExV09mP4vdrD.gs8ZYH9EhnmGDSVOMVCX53qabf1xxv2"], ["created_at", "2017-02-12 21:02:23.149760"], ["updated_at", "2017-02-12 21:02:23.149760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$aGrLgI.47Ed.RgPaEMUD..E11FtBag.zntRqgPkorfNDpojAqxoC2"], ["created_at", "2017-02-12 21:02:23.161620"], ["updated_at", "2017-02-12 21:02:23.161620"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.164307"], ["updated_at", "2017-02-12 21:02:23.164307"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.166461"], ["updated_at", "2017-02-12 21:02:23.166461"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.169736"], ["updated_at", "2017-02-12 21:02:23.169736"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$DVrljVSU0FfyaJYRUS5cguMa3kUyEM0LqFpVY8p14NI/neWF3SXta"], ["created_at", "2017-02-12 21:02:23.210474"], ["updated_at", "2017-02-12 21:02:23.210474"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.213276"], ["updated_at", "2017-02-12 21:02:23.213276"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.215494"], ["updated_at", "2017-02-12 21:02:23.215494"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.217708"], ["updated_at", "2017-02-12 21:02:23.217708"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.219737"], ["updated_at", "2017-02-12 21:02:23.219737"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.221367"], ["updated_at", "2017-02-12 21:02:23.221367"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.223472"], ["updated_at", "2017-02-12 21:02:23.223472"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.225467"], ["updated_at", "2017-02-12 21:02:23.225467"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.227095"], ["updated_at", "2017-02-12 21:02:23.227095"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.229174"], ["updated_at", "2017-02-12 21:02:23.229174"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.231097"], ["updated_at", "2017-02-12 21:02:23.231097"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.232776"], ["updated_at", "2017-02-12 21:02:23.232776"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.234776"], ["updated_at", "2017-02-12 21:02:23.234776"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.236761"], ["updated_at", "2017-02-12 21:02:23.236761"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.238390"], ["updated_at", "2017-02-12 21:02:23.238390"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.240404"], ["updated_at", "2017-02-12 21:02:23.240404"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.242520"], ["updated_at", "2017-02-12 21:02:23.242520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.244199"], ["updated_at", "2017-02-12 21:02:23.244199"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.246195"], ["updated_at", "2017-02-12 21:02:23.246195"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$5mW9tGh.Bo6CK2BIGlgkpeUbarV19HozqOQZiWjXmszodkxCrCIJ."], ["created_at", "2017-02-12 21:02:23.258979"], ["updated_at", "2017-02-12 21:02:23.258979"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$g20mfLcevDN1Df6ttui1Z.rUtLgYdYT4HKpifrwx./oNmYO4pAdp2"], ["created_at", "2017-02-12 21:02:23.267481"], ["updated_at", "2017-02-12 21:02:23.267481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 21:02:23.283295"], ["updated_at", "2017-02-12 21:02:23.283295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.286689"], ["updated_at", "2017-02-12 21:02:23.286689"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fbb7805e2a0>"], ["created_at", "2017-02-12 21:02:23.288921"], ["updated_at", "2017-02-12 21:02:23.288921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$5.rNQKkkyJfDaREcWVmrJuHrQxZ.MigMngqoTmzCTtF5w9BKYDGJm"], ["created_at", "2017-02-12 21:02:23.295324"], ["updated_at", "2017-02-12 21:02:23.295324"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.298850"], ["updated_at", "2017-02-12 21:02:23.298850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "Lager"], ["created_at", "2017-02-12 21:02:23.308085"], ["updated_at", "2017-02-12 21:02:23.308085"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:02:23.310269"], ["updated_at", "2017-02-12 21:02:23.310269"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 21:02:23.312621"], ["updated_at", "2017-02-12 21:02:23.312621"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.314777"], ["updated_at", "2017-02-12 21:02:23.314777"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ewlmwLN7Br4lNQSd7fdx1O3kyQ6fCMTTwgepViuoYRJMK.50/hCIy"], ["created_at", "2017-02-12 21:02:23.320303"], ["updated_at", "2017-02-12 21:02:23.320303"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.322649"], ["updated_at", "2017-02-12 21:02:23.322649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.324447"], ["updated_at", "2017-02-12 21:02:23.324447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.326725"], ["updated_at", "2017-02-12 21:02:23.326725"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.328950"], ["updated_at", "2017-02-12 21:02:23.328950"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.330901"], ["updated_at", "2017-02-12 21:02:23.330901"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.333018"], ["updated_at", "2017-02-12 21:02:23.333018"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.335056"], ["updated_at", "2017-02-12 21:02:23.335056"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.336693"], ["updated_at", "2017-02-12 21:02:23.336693"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.338685"], ["updated_at", "2017-02-12 21:02:23.338685"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.340552"], ["updated_at", "2017-02-12 21:02:23.340552"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.343701"], ["updated_at", "2017-02-12 21:02:23.343701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.346848"], ["updated_at", "2017-02-12 21:02:23.346848"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.349113"], ["updated_at", "2017-02-12 21:02:23.349113"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.350814"], ["updated_at", "2017-02-12 21:02:23.350814"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.353053"], ["updated_at", "2017-02-12 21:02:23.353053"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.355077"], ["updated_at", "2017-02-12 21:02:23.355077"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.356756"], ["updated_at", "2017-02-12 21:02:23.356756"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.358811"], ["updated_at", "2017-02-12 21:02:23.358811"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.360805"], ["updated_at", "2017-02-12 21:02:23.360805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.362854"], ["updated_at", "2017-02-12 21:02:23.362854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.365591"], ["updated_at", "2017-02-12 21:02:23.365591"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.368008"], ["updated_at", "2017-02-12 21:02:23.368008"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.369788"], ["updated_at", "2017-02-12 21:02:23.369788"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.371847"], ["updated_at", "2017-02-12 21:02:23.371847"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.373925"], ["updated_at", "2017-02-12 21:02:23.373925"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.375586"], ["updated_at", "2017-02-12 21:02:23.375586"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.377620"], ["updated_at", "2017-02-12 21:02:23.377620"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.379913"], ["updated_at", "2017-02-12 21:02:23.379913"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.381686"], ["updated_at", "2017-02-12 21:02:23.381686"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.383724"], ["updated_at", "2017-02-12 21:02:23.383724"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.385667"], ["updated_at", "2017-02-12 21:02:23.385667"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.387257"], ["updated_at", "2017-02-12 21:02:23.387257"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.389192"], ["updated_at", "2017-02-12 21:02:23.389192"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.391118"], ["updated_at", "2017-02-12 21:02:23.391118"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.392652"], ["updated_at", "2017-02-12 21:02:23.392652"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.394698"], ["updated_at", "2017-02-12 21:02:23.394698"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.396732"], ["updated_at", "2017-02-12 21:02:23.396732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.398364"], ["updated_at", "2017-02-12 21:02:23.398364"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.400350"], ["updated_at", "2017-02-12 21:02:23.400350"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.402206"], ["updated_at", "2017-02-12 21:02:23.402206"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.403751"], ["updated_at", "2017-02-12 21:02:23.403751"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.405769"], ["updated_at", "2017-02-12 21:02:23.405769"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.407658"], ["updated_at", "2017-02-12 21:02:23.407658"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.409271"], ["updated_at", "2017-02-12 21:02:23.409271"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.411258"], ["updated_at", "2017-02-12 21:02:23.411258"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.413165"], ["updated_at", "2017-02-12 21:02:23.413165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.414831"], ["updated_at", "2017-02-12 21:02:23.414831"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.416839"], ["updated_at", "2017-02-12 21:02:23.416839"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (4.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$A9jEeVfDdu5v4m3D4i7Bzub/F/s/VuBYIQ9UIXCYkRTyfVkWkhLG."], ["created_at", "2017-02-12 21:02:23.431015"], ["updated_at", "2017-02-12 21:02:23.431015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$taFPZoAhgjcygrdSRiqBLe7kbsql9O5Bt392T1x/nn7JtWe2mIbK."], ["created_at", "2017-02-12 21:02:23.438540"], ["updated_at", "2017-02-12 21:02:23.438540"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.444407"], ["updated_at", "2017-02-12 21:02:23.444407"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.447308"], ["updated_at", "2017-02-12 21:02:23.447308"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$mJpTlkL2tFXUapEMGd0q8.KW02WqsKSo99xcxLqIdfqQF/1FuVqEe"], ["created_at", "2017-02-12 21:02:23.451879"], ["updated_at", "2017-02-12 21:02:23.451879"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.454283"], ["updated_at", "2017-02-12 21:02:23.454283"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.462687"], ["updated_at", "2017-02-12 21:02:23.462687"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.466689"], ["updated_at", "2017-02-12 21:02:23.466689"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.469075"], ["updated_at", "2017-02-12 21:02:23.469075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 21:02:23.471077"], ["updated_at", "2017-02-12 21:02:23.471077"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:02:23.472824"], ["updated_at", "2017-02-12 21:02:23.472824"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 21:02:23.474376"], ["updated_at", "2017-02-12 21:02:23.474376"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$zjQlI26VsJqJ8J6.fftSFe2vSA/uUx9CYqoLUDd5x7w3cMrHLIPF2"], ["created_at", "2017-02-12 21:02:23.478649"], ["updated_at", "2017-02-12 21:02:23.478649"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.481555"], ["updated_at", "2017-02-12 21:02:23.481555"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.483521"], ["updated_at", "2017-02-12 21:02:23.483521"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.486100"], ["updated_at", "2017-02-12 21:02:23.486100"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.488505"], ["updated_at", "2017-02-12 21:02:23.488505"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.490232"], ["updated_at", "2017-02-12 21:02:23.490232"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.492304"], ["updated_at", "2017-02-12 21:02:23.492304"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.494312"], ["updated_at", "2017-02-12 21:02:23.494312"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.495927"], ["updated_at", "2017-02-12 21:02:23.495927"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.497887"], ["updated_at", "2017-02-12 21:02:23.497887"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.499764"], ["updated_at", "2017-02-12 21:02:23.499764"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.501366"], ["updated_at", "2017-02-12 21:02:23.501366"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.503295"], ["updated_at", "2017-02-12 21:02:23.503295"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.505154"], ["updated_at", "2017-02-12 21:02:23.505154"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.506803"], ["updated_at", "2017-02-12 21:02:23.506803"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.508938"], ["updated_at", "2017-02-12 21:02:23.508938"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.510862"], ["updated_at", "2017-02-12 21:02:23.510862"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.512418"], ["updated_at", "2017-02-12 21:02:23.512418"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.514381"], ["updated_at", "2017-02-12 21:02:23.514381"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.516322"], ["updated_at", "2017-02-12 21:02:23.516322"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.517930"], ["updated_at", "2017-02-12 21:02:23.517930"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.519912"], ["updated_at", "2017-02-12 21:02:23.519912"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.521778"], ["updated_at", "2017-02-12 21:02:23.521778"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.523372"], ["updated_at", "2017-02-12 21:02:23.523372"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.525420"], ["updated_at", "2017-02-12 21:02:23.525420"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.527332"], ["updated_at", "2017-02-12 21:02:23.527332"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.528935"], ["updated_at", "2017-02-12 21:02:23.528935"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.530885"], ["updated_at", "2017-02-12 21:02:23.530885"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.532894"], ["updated_at", "2017-02-12 21:02:23.532894"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.534502"], ["updated_at", "2017-02-12 21:02:23.534502"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.536432"], ["updated_at", "2017-02-12 21:02:23.536432"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.538364"], ["updated_at", "2017-02-12 21:02:23.538364"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.539893"], ["updated_at", "2017-02-12 21:02:23.539893"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.541932"], ["updated_at", "2017-02-12 21:02:23.541932"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.543936"], ["updated_at", "2017-02-12 21:02:23.543936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.546015"], ["updated_at", "2017-02-12 21:02:23.546015"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.548250"], ["updated_at", "2017-02-12 21:02:23.548250"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.550191"], ["updated_at", "2017-02-12 21:02:23.550191"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.551842"], ["updated_at", "2017-02-12 21:02:23.551842"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.553821"], ["updated_at", "2017-02-12 21:02:23.553821"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.555753"], ["updated_at", "2017-02-12 21:02:23.555753"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.557399"], ["updated_at", "2017-02-12 21:02:23.557399"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.559388"], ["updated_at", "2017-02-12 21:02:23.559388"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.561317"], ["updated_at", "2017-02-12 21:02:23.561317"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 18], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.562942"], ["updated_at", "2017-02-12 21:02:23.562942"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.565054"], ["updated_at", "2017-02-12 21:02:23.565054"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:02:23.566912"], ["updated_at", "2017-02-12 21:02:23.566912"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 19], ["style", "Lager"], ["created_at", "2017-02-12 21:02:23.568495"], ["updated_at", "2017-02-12 21:02:23.568495"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:02:23.570417"], ["updated_at", "2017-02-12 21:02:23.570417"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$MuCed40mGTZbn4aTfjd60.U8fuAA9zj31WylsMUJzN0hM88rPCxeS"], ["created_at", "2017-02-12 21:06:47.820202"], ["updated_at", "2017-02-12 21:06:47.820202"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$qkT2ZD75fiukV6Urf4pDquW8Ekz3t2wPUXRwC/2KFgGpNa98R.xWO"], ["created_at", "2017-02-12 21:06:47.832108"], ["updated_at", "2017-02-12 21:06:47.832108"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:47.855558"], ["updated_at", "2017-02-12 21:06:47.855558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:06:47.870742"], ["updated_at", "2017-02-12 21:06:47.870742"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:47.898355"], ["updated_at", "2017-02-12 21:06:47.898355"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:47.902035"], ["updated_at", "2017-02-12 21:06:47.902035"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$U23LIyDSFCOUecSOkdx/hOr2iDc6b4Mpm37Jihujw8kWrZFUZeOTK"], ["created_at", "2017-02-12 21:06:47.918672"], ["updated_at", "2017-02-12 21:06:47.918672"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$CxMbvvTEfJanrbbdJ4/4xunJnRYigdGbgLePLea8OzW/z6w6P9ps6"], ["created_at", "2017-02-12 21:06:47.928746"], ["updated_at", "2017-02-12 21:06:47.928746"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$awB8bRdXO7uAdJgMzXcH0utpwOTRcBEMM.cKMIweSw.PKwtzTeya2"], ["created_at", "2017-02-12 21:06:47.940178"], ["updated_at", "2017-02-12 21:06:47.940178"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:47.942806"], ["updated_at", "2017-02-12 21:06:47.942806"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:06:47.944764"], ["updated_at", "2017-02-12 21:06:47.944764"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:47.947084"], ["updated_at", "2017-02-12 21:06:47.947084"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$59ERcpJ31jz./q1WQtbjbefIrMlIMQlKBlQe17HLlKNFGowAr/Zai"], ["created_at", "2017-02-12 21:06:47.985087"], ["updated_at", "2017-02-12 21:06:47.985087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:47.987772"], ["updated_at", "2017-02-12 21:06:47.987772"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:06:47.990283"], ["updated_at", "2017-02-12 21:06:47.990283"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:47.992604"], ["updated_at", "2017-02-12 21:06:47.992604"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:47.994580"], ["updated_at", "2017-02-12 21:06:47.994580"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 21:06:47.996248"], ["updated_at", "2017-02-12 21:06:47.996248"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:06:47.998251"], ["updated_at", "2017-02-12 21:06:47.998251"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.000189"], ["updated_at", "2017-02-12 21:06:48.000189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.002689"], ["updated_at", "2017-02-12 21:06:48.002689"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.005182"], ["updated_at", "2017-02-12 21:06:48.005182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.007559"], ["updated_at", "2017-02-12 21:06:48.007559"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.009558"], ["updated_at", "2017-02-12 21:06:48.009558"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.011732"], ["updated_at", "2017-02-12 21:06:48.011732"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.013771"], ["updated_at", "2017-02-12 21:06:48.013771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.015359"], ["updated_at", "2017-02-12 21:06:48.015359"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.017452"], ["updated_at", "2017-02-12 21:06:48.017452"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.019476"], ["updated_at", "2017-02-12 21:06:48.019476"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.021101"], ["updated_at", "2017-02-12 21:06:48.021101"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.022994"], ["updated_at", "2017-02-12 21:06:48.022994"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$vxa4xBYqovvSLJY8a/iwSeSbtzC6bLNRWnkZRCWTuByTQRrP5a8D."], ["created_at", "2017-02-12 21:06:48.035523"], ["updated_at", "2017-02-12 21:06:48.035523"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$hETsLX/bXQoRmWjJXPnXruY9/XtHWURE4q9YN3zMwuG/LVMWvolS."], ["created_at", "2017-02-12 21:06:48.043565"], ["updated_at", "2017-02-12 21:06:48.043565"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 21:06:48.060105"], ["updated_at", "2017-02-12 21:06:48.060105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.063236"], ["updated_at", "2017-02-12 21:06:48.063236"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fe104f444e8>"], ["created_at", "2017-02-12 21:06:48.065361"], ["updated_at", "2017-02-12 21:06:48.065361"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$D1xoovqhVTOmFDsXBPRDSe4NNczJd/kEztUv/v/g/p6jYAkz.73FO"], ["created_at", "2017-02-12 21:06:48.070832"], ["updated_at", "2017-02-12 21:06:48.070832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.074849"], ["updated_at", "2017-02-12 21:06:48.074849"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 21:06:48.084750"], ["updated_at", "2017-02-12 21:06:48.084750"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:06:48.086901"], ["updated_at", "2017-02-12 21:06:48.086901"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 21:06:48.088806"], ["updated_at", "2017-02-12 21:06:48.088806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.090782"], ["updated_at", "2017-02-12 21:06:48.090782"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$HeI7IJ3oAGLVK1YE.4cTFukGO9t2.MKJ5uoZfl.yhSbCFYs4MzC/G"], ["created_at", "2017-02-12 21:06:48.097691"], ["updated_at", "2017-02-12 21:06:48.097691"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.100159"], ["updated_at", "2017-02-12 21:06:48.100159"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.101864"], ["updated_at", "2017-02-12 21:06:48.101864"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.104062"], ["updated_at", "2017-02-12 21:06:48.104062"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.106085"], ["updated_at", "2017-02-12 21:06:48.106085"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.107793"], ["updated_at", "2017-02-12 21:06:48.107793"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.109777"], ["updated_at", "2017-02-12 21:06:48.109777"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.111683"], ["updated_at", "2017-02-12 21:06:48.111683"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.113246"], ["updated_at", "2017-02-12 21:06:48.113246"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.115146"], ["updated_at", "2017-02-12 21:06:48.115146"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.117123"], ["updated_at", "2017-02-12 21:06:48.117123"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.118869"], ["updated_at", "2017-02-12 21:06:48.118869"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.120866"], ["updated_at", "2017-02-12 21:06:48.120866"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.122801"], ["updated_at", "2017-02-12 21:06:48.122801"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.124363"], ["updated_at", "2017-02-12 21:06:48.124363"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.126353"], ["updated_at", "2017-02-12 21:06:48.126353"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.128300"], ["updated_at", "2017-02-12 21:06:48.128300"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.129905"], ["updated_at", "2017-02-12 21:06:48.129905"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.131802"], ["updated_at", "2017-02-12 21:06:48.131802"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.133619"], ["updated_at", "2017-02-12 21:06:48.133619"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.135237"], ["updated_at", "2017-02-12 21:06:48.135237"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.137167"], ["updated_at", "2017-02-12 21:06:48.137167"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.138993"], ["updated_at", "2017-02-12 21:06:48.138993"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.140889"], ["updated_at", "2017-02-12 21:06:48.140889"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.144043"], ["updated_at", "2017-02-12 21:06:48.144043"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.146786"], ["updated_at", "2017-02-12 21:06:48.146786"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.148489"], ["updated_at", "2017-02-12 21:06:48.148489"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.150552"], ["updated_at", "2017-02-12 21:06:48.150552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.152558"], ["updated_at", "2017-02-12 21:06:48.152558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.154148"], ["updated_at", "2017-02-12 21:06:48.154148"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.156034"], ["updated_at", "2017-02-12 21:06:48.156034"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.157995"], ["updated_at", "2017-02-12 21:06:48.157995"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.159520"], ["updated_at", "2017-02-12 21:06:48.159520"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.161497"], ["updated_at", "2017-02-12 21:06:48.161497"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.163324"], ["updated_at", "2017-02-12 21:06:48.163324"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.164823"], ["updated_at", "2017-02-12 21:06:48.164823"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.166762"], ["updated_at", "2017-02-12 21:06:48.166762"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.168594"], ["updated_at", "2017-02-12 21:06:48.168594"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.170129"], ["updated_at", "2017-02-12 21:06:48.170129"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.172148"], ["updated_at", "2017-02-12 21:06:48.172148"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.174030"], ["updated_at", "2017-02-12 21:06:48.174030"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.175637"], ["updated_at", "2017-02-12 21:06:48.175637"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.177597"], ["updated_at", "2017-02-12 21:06:48.177597"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.179515"], ["updated_at", "2017-02-12 21:06:48.179515"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.181125"], ["updated_at", "2017-02-12 21:06:48.181125"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.183075"], ["updated_at", "2017-02-12 21:06:48.183075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.185034"], ["updated_at", "2017-02-12 21:06:48.185034"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.186661"], ["updated_at", "2017-02-12 21:06:48.186661"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.188529"], ["updated_at", "2017-02-12 21:06:48.188529"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$4lCV11KqtFSHu7n/L36PMexPdfByF4cvB0z5YuG7Y3D/nKerRsqDS"], ["created_at", "2017-02-12 21:06:48.201645"], ["updated_at", "2017-02-12 21:06:48.201645"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$twlsAiNy1QMsY9x.UVIcXejoxibuOBWYbI3CQ8uimHYWzXXG1U3US"], ["created_at", "2017-02-12 21:06:48.208896"], ["updated_at", "2017-02-12 21:06:48.208896"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.214489"], ["updated_at", "2017-02-12 21:06:48.214489"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.217172"], ["updated_at", "2017-02-12 21:06:48.217172"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$C/aXfwyKF6ynQzOjHfL8M.4/FvWjtiEvCMzNdMSjdLbe/k3f0h0vq"], ["created_at", "2017-02-12 21:06:48.221772"], ["updated_at", "2017-02-12 21:06:48.221772"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.224138"], ["updated_at", "2017-02-12 21:06:48.224138"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.231879"], ["updated_at", "2017-02-12 21:06:48.231879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.234633"], ["updated_at", "2017-02-12 21:06:48.234633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.237344"], ["updated_at", "2017-02-12 21:06:48.237344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "IPA"], ["created_at", "2017-02-12 21:06:48.239383"], ["updated_at", "2017-02-12 21:06:48.239383"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:06:48.241391"], ["updated_at", "2017-02-12 21:06:48.241391"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "stout"], ["created_at", "2017-02-12 21:06:48.242972"], ["updated_at", "2017-02-12 21:06:48.242972"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$XaqHI6LL38KAex1ilZnHyeDhFZGBQ2cTiYgsi1tD6SCn1swIWXqsC"], ["created_at", "2017-02-12 21:06:48.247051"], ["updated_at", "2017-02-12 21:06:48.247051"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.249270"], ["updated_at", "2017-02-12 21:06:48.249270"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.250879"], ["updated_at", "2017-02-12 21:06:48.250879"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.252997"], ["updated_at", "2017-02-12 21:06:48.252997"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.254863"], ["updated_at", "2017-02-12 21:06:48.254863"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.256445"], ["updated_at", "2017-02-12 21:06:48.256445"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.258345"], ["updated_at", "2017-02-12 21:06:48.258345"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.260727"], ["updated_at", "2017-02-12 21:06:48.260727"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.263156"], ["updated_at", "2017-02-12 21:06:48.263156"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.265145"], ["updated_at", "2017-02-12 21:06:48.265145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.267056"], ["updated_at", "2017-02-12 21:06:48.267056"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 7], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.268650"], ["updated_at", "2017-02-12 21:06:48.268650"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.270584"], ["updated_at", "2017-02-12 21:06:48.270584"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.272395"], ["updated_at", "2017-02-12 21:06:48.272395"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 8], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.274048"], ["updated_at", "2017-02-12 21:06:48.274048"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.275906"], ["updated_at", "2017-02-12 21:06:48.275906"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.277763"], ["updated_at", "2017-02-12 21:06:48.277763"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 9], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.279344"], ["updated_at", "2017-02-12 21:06:48.279344"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.281196"], ["updated_at", "2017-02-12 21:06:48.281196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.282990"], ["updated_at", "2017-02-12 21:06:48.282990"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 10], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.284437"], ["updated_at", "2017-02-12 21:06:48.284437"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.286445"], ["updated_at", "2017-02-12 21:06:48.286445"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.288352"], ["updated_at", "2017-02-12 21:06:48.288352"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 11], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.289948"], ["updated_at", "2017-02-12 21:06:48.289948"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.291879"], ["updated_at", "2017-02-12 21:06:48.291879"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.293742"], ["updated_at", "2017-02-12 21:06:48.293742"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 12], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.295273"], ["updated_at", "2017-02-12 21:06:48.295273"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.297189"], ["updated_at", "2017-02-12 21:06:48.297189"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.299219"], ["updated_at", "2017-02-12 21:06:48.299219"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 13], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.300826"], ["updated_at", "2017-02-12 21:06:48.300826"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.302769"], ["updated_at", "2017-02-12 21:06:48.302769"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.304552"], ["updated_at", "2017-02-12 21:06:48.304552"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 14], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.306095"], ["updated_at", "2017-02-12 21:06:48.306095"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.308085"], ["updated_at", "2017-02-12 21:06:48.308085"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.309982"], ["updated_at", "2017-02-12 21:06:48.309982"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 15], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.311532"], ["updated_at", "2017-02-12 21:06:48.311532"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.313609"], ["updated_at", "2017-02-12 21:06:48.313609"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.315513"], ["updated_at", "2017-02-12 21:06:48.315513"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 16], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.317112"], ["updated_at", "2017-02-12 21:06:48.317112"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.319053"], ["updated_at", "2017-02-12 21:06:48.319053"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.320941"], ["updated_at", "2017-02-12 21:06:48.320941"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 17], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.322616"], ["updated_at", "2017-02-12 21:06:48.322616"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.324614"], ["updated_at", "2017-02-12 21:06:48.324614"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.326426"], ["updated_at", "2017-02-12 21:06:48.326426"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 18], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.328036"], ["updated_at", "2017-02-12 21:06:48.328036"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.330009"], ["updated_at", "2017-02-12 21:06:48.330009"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:06:48.331838"], ["updated_at", "2017-02-12 21:06:48.331838"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 19], ["style", "Lager"], ["created_at", "2017-02-12 21:06:48.333417"], ["updated_at", "2017-02-12 21:06:48.333417"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:06:48.335344"], ["updated_at", "2017-02-12 21:06:48.335344"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wSHInMc5L3wYtMXfPmcV.ePmb7FpOotiB0DBdkKWgABxR2EuJ9WlO"], ["created_at", "2017-02-12 21:08:13.599693"], ["updated_at", "2017-02-12 21:08:13.599693"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$xT16NDU5//ZpflP0BRt0auLRyLnX9CJyRh/WNBtJco1JnOSemgydu"], ["created_at", "2017-02-12 21:08:13.613082"], ["updated_at", "2017-02-12 21:08:13.613082"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.637623"], ["updated_at", "2017-02-12 21:08:13.637623"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.660927"], ["updated_at", "2017-02-12 21:08:13.660927"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007f877283b098>"], ["created_at", "2017-02-12 21:08:13.663335"], ["updated_at", "2017-02-12 21:08:13.663335"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.691912"], ["updated_at", "2017-02-12 21:08:13.691912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.695690"], ["updated_at", "2017-02-12 21:08:13.695690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$euHErHzFYXTeDy0YNf45gOx.BYcuYQljcX3xHMNdCewDgQV26Hgvy"], ["created_at", "2017-02-12 21:08:13.713956"], ["updated_at", "2017-02-12 21:08:13.713956"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5HqxFRUI2TGoPRm3vvmhIORAJGljLwgxHjTuLmluVB268L/p8y.o2"], ["created_at", "2017-02-12 21:08:13.724768"], ["updated_at", "2017-02-12 21:08:13.724768"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$uXQvS.Op4zMY7IWBehmkxOc0fmS1aDHpQNTyppdf15V6JvoVxvGgq"], ["created_at", "2017-02-12 21:08:13.736277"], ["updated_at", "2017-02-12 21:08:13.736277"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.738937"], ["updated_at", "2017-02-12 21:08:13.738937"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.741222"], ["updated_at", "2017-02-12 21:08:13.741222"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007f8772122338>"], ["created_at", "2017-02-12 21:08:13.742946"], ["updated_at", "2017-02-12 21:08:13.742946"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.745248"], ["updated_at", "2017-02-12 21:08:13.745248"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$isVa.kUBxXFMZnb48icMhORFujH6ry3f0HHn3GWawL/aLSuncrnM."], ["created_at", "2017-02-12 21:08:13.783456"], ["updated_at", "2017-02-12 21:08:13.783456"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.786137"], ["updated_at", "2017-02-12 21:08:13.786137"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.788432"], ["updated_at", "2017-02-12 21:08:13.788432"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007f876bfd8c58>"], ["created_at", "2017-02-12 21:08:13.791181"], ["updated_at", "2017-02-12 21:08:13.791181"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.793922"], ["updated_at", "2017-02-12 21:08:13.793922"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.796128"], ["updated_at", "2017-02-12 21:08:13.796128"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.797991"], ["updated_at", "2017-02-12 21:08:13.797991"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "#<Style:0x007f876bfae020>"], ["created_at", "2017-02-12 21:08:13.799663"], ["updated_at", "2017-02-12 21:08:13.799663"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.801815"], ["updated_at", "2017-02-12 21:08:13.801815"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.803791"], ["updated_at", "2017-02-12 21:08:13.803791"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.805633"], ["updated_at", "2017-02-12 21:08:13.805633"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "#<Style:0x007f876debd3f8>"], ["created_at", "2017-02-12 21:08:13.807519"], ["updated_at", "2017-02-12 21:08:13.807519"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.809687"], ["updated_at", "2017-02-12 21:08:13.809687"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.811863"], ["updated_at", "2017-02-12 21:08:13.811863"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.813649"], ["updated_at", "2017-02-12 21:08:13.813649"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "#<Style:0x007f876de950d8>"], ["created_at", "2017-02-12 21:08:13.815267"], ["updated_at", "2017-02-12 21:08:13.815267"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.817453"], ["updated_at", "2017-02-12 21:08:13.817453"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.819537"], ["updated_at", "2017-02-12 21:08:13.819537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.821318"], ["updated_at", "2017-02-12 21:08:13.821318"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "#<Style:0x007f876de61a08>"], ["created_at", "2017-02-12 21:08:13.822833"], ["updated_at", "2017-02-12 21:08:13.822833"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.824851"], ["updated_at", "2017-02-12 21:08:13.824851"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.826802"], ["updated_at", "2017-02-12 21:08:13.826802"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.828439"], ["updated_at", "2017-02-12 21:08:13.828439"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "#<Style:0x007f876bf4d838>"], ["created_at", "2017-02-12 21:08:13.829975"], ["updated_at", "2017-02-12 21:08:13.829975"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.831947"], ["updated_at", "2017-02-12 21:08:13.831947"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (4.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$bJZJsqWQPRTkovyURUGiU.oksVB/bZ3lBbSJSA1DM8UrzsIN8oCyi"], ["created_at", "2017-02-12 21:08:13.846481"], ["updated_at", "2017-02-12 21:08:13.846481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$twVbJgiX72o9ro6DPQ.QJ.GDrYJFqGeePvDPV74I5vKxZkF9/0Nzy"], ["created_at", "2017-02-12 21:08:13.853761"], ["updated_at", "2017-02-12 21:08:13.853761"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 21:08:13.859297"], ["updated_at", "2017-02-12 21:08:13.859297"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.863079"], ["updated_at", "2017-02-12 21:08:13.863079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007f876bf20f18>"], ["created_at", "2017-02-12 21:08:13.865388"], ["updated_at", "2017-02-12 21:08:13.865388"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Y5PMABU47Yac1hQyZnE.8eC0u9pWpGLzxiuSD.Hl5ZZRlbZScNu16"], ["created_at", "2017-02-12 21:08:13.869910"], ["updated_at", "2017-02-12 21:08:13.869910"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.872374"], ["updated_at", "2017-02-12 21:08:13.872374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 21:08:13.881447"], ["updated_at", "2017-02-12 21:08:13.881447"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.883642"], ["updated_at", "2017-02-12 21:08:13.883642"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 21:08:13.885492"], ["updated_at", "2017-02-12 21:08:13.885492"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.887229"], ["updated_at", "2017-02-12 21:08:13.887229"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$wlzvnnNuTm7gQs7AEvynU./mehPahW41UVvtWRdwNxY40djBD5n4m"], ["created_at", "2017-02-12 21:08:13.891885"], ["updated_at", "2017-02-12 21:08:13.891885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.894363"], ["updated_at", "2017-02-12 21:08:13.894363"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.896258"], ["updated_at", "2017-02-12 21:08:13.896258"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "#<Style:0x007f87709fd2e8>"], ["created_at", "2017-02-12 21:08:13.897834"], ["updated_at", "2017-02-12 21:08:13.897834"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.900041"], ["updated_at", "2017-02-12 21:08:13.900041"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.902120"], ["updated_at", "2017-02-12 21:08:13.902120"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.903872"], ["updated_at", "2017-02-12 21:08:13.903872"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "#<Style:0x007f87709afef8>"], ["created_at", "2017-02-12 21:08:13.905478"], ["updated_at", "2017-02-12 21:08:13.905478"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.907535"], ["updated_at", "2017-02-12 21:08:13.907535"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.909616"], ["updated_at", "2017-02-12 21:08:13.909616"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.911255"], ["updated_at", "2017-02-12 21:08:13.911255"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "#<Style:0x007f876bee0b48>"], ["created_at", "2017-02-12 21:08:13.912742"], ["updated_at", "2017-02-12 21:08:13.912742"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.914684"], ["updated_at", "2017-02-12 21:08:13.914684"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.916602"], ["updated_at", "2017-02-12 21:08:13.916602"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.918226"], ["updated_at", "2017-02-12 21:08:13.918226"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "#<Style:0x007f876bea0160>"], ["created_at", "2017-02-12 21:08:13.919766"], ["updated_at", "2017-02-12 21:08:13.919766"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.921786"], ["updated_at", "2017-02-12 21:08:13.921786"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.923876"], ["updated_at", "2017-02-12 21:08:13.923876"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.925592"], ["updated_at", "2017-02-12 21:08:13.925592"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "#<Style:0x007f876ddb3958>"], ["created_at", "2017-02-12 21:08:13.927167"], ["updated_at", "2017-02-12 21:08:13.927167"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.929184"], ["updated_at", "2017-02-12 21:08:13.929184"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.931165"], ["updated_at", "2017-02-12 21:08:13.931165"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.932787"], ["updated_at", "2017-02-12 21:08:13.932787"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 7], ["style", "#<Style:0x007f876be2ee70>"], ["created_at", "2017-02-12 21:08:13.934338"], ["updated_at", "2017-02-12 21:08:13.934338"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.936358"], ["updated_at", "2017-02-12 21:08:13.936358"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.938351"], ["updated_at", "2017-02-12 21:08:13.938351"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.940047"], ["updated_at", "2017-02-12 21:08:13.940047"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 8], ["style", "#<Style:0x007f876dd8d3e8>"], ["created_at", "2017-02-12 21:08:13.941689"], ["updated_at", "2017-02-12 21:08:13.941689"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.943791"], ["updated_at", "2017-02-12 21:08:13.943791"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.945871"], ["updated_at", "2017-02-12 21:08:13.945871"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.947576"], ["updated_at", "2017-02-12 21:08:13.947576"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 9], ["style", "#<Style:0x007f876dd66d88>"], ["created_at", "2017-02-12 21:08:13.949150"], ["updated_at", "2017-02-12 21:08:13.949150"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.951276"], ["updated_at", "2017-02-12 21:08:13.951276"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.953213"], ["updated_at", "2017-02-12 21:08:13.953213"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.954814"], ["updated_at", "2017-02-12 21:08:13.954814"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 10], ["style", "#<Style:0x007f876bdbd8d8>"], ["created_at", "2017-02-12 21:08:13.956325"], ["updated_at", "2017-02-12 21:08:13.956325"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.958396"], ["updated_at", "2017-02-12 21:08:13.958396"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.960451"], ["updated_at", "2017-02-12 21:08:13.960451"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.962168"], ["updated_at", "2017-02-12 21:08:13.962168"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 11], ["style", "#<Style:0x007f876bd7b618>"], ["created_at", "2017-02-12 21:08:13.963661"], ["updated_at", "2017-02-12 21:08:13.963661"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.965685"], ["updated_at", "2017-02-12 21:08:13.965685"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.967683"], ["updated_at", "2017-02-12 21:08:13.967683"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.969301"], ["updated_at", "2017-02-12 21:08:13.969301"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 12], ["style", "#<Style:0x007f876dcfee68>"], ["created_at", "2017-02-12 21:08:13.970851"], ["updated_at", "2017-02-12 21:08:13.970851"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.972833"], ["updated_at", "2017-02-12 21:08:13.972833"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.974856"], ["updated_at", "2017-02-12 21:08:13.974856"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.976524"], ["updated_at", "2017-02-12 21:08:13.976524"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 13], ["style", "#<Style:0x007f876bd6bfb0>"], ["created_at", "2017-02-12 21:08:13.978023"], ["updated_at", "2017-02-12 21:08:13.978023"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.980046"], ["updated_at", "2017-02-12 21:08:13.980046"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.982095"], ["updated_at", "2017-02-12 21:08:13.982095"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.983745"], ["updated_at", "2017-02-12 21:08:13.983745"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 14], ["style", "#<Style:0x007f876bd3d6d8>"], ["created_at", "2017-02-12 21:08:13.985337"], ["updated_at", "2017-02-12 21:08:13.985337"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.987522"], ["updated_at", "2017-02-12 21:08:13.987522"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.989615"], ["updated_at", "2017-02-12 21:08:13.989615"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.991309"], ["updated_at", "2017-02-12 21:08:13.991309"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 15], ["style", "#<Style:0x007f876bcfff18>"], ["created_at", "2017-02-12 21:08:13.992856"], ["updated_at", "2017-02-12 21:08:13.992856"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:08:13.994808"], ["updated_at", "2017-02-12 21:08:13.994808"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:13.996773"], ["updated_at", "2017-02-12 21:08:13.996773"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:13.998540"], ["updated_at", "2017-02-12 21:08:13.998540"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 16], ["style", "#<Style:0x007f87709a5430>"], ["created_at", "2017-02-12 21:08:14.000141"], ["updated_at", "2017-02-12 21:08:14.000141"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.002219"], ["updated_at", "2017-02-12 21:08:14.002219"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.004259"], ["updated_at", "2017-02-12 21:08:14.004259"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.005974"], ["updated_at", "2017-02-12 21:08:14.005974"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 17], ["style", "#<Style:0x007f876bcc3ef0>"], ["created_at", "2017-02-12 21:08:14.007503"], ["updated_at", "2017-02-12 21:08:14.007503"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.009611"], ["updated_at", "2017-02-12 21:08:14.009611"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$GF0N9II0G2rBiyhmOlipd..8QGJqzr2HVfaIBq0InzEtATR3LTvnu"], ["created_at", "2017-02-12 21:08:14.023068"], ["updated_at", "2017-02-12 21:08:14.023068"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$7EAe6erbhRkZE.DflVCG5uj7CXEVTtrKj4JSujnNZAvVU.IR7bPee"], ["created_at", "2017-02-12 21:08:14.030514"], ["updated_at", "2017-02-12 21:08:14.030514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.036253"], ["updated_at", "2017-02-12 21:08:14.036253"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.039284"], ["updated_at", "2017-02-12 21:08:14.039284"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007f87709415c0>"], ["created_at", "2017-02-12 21:08:14.041582"], ["updated_at", "2017-02-12 21:08:14.041582"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$jK4DO0C2G0r.vOf63B3E3O./3EXpz8CHDgcqd6urVSYbR6fVyzpOa"], ["created_at", "2017-02-12 21:08:14.045875"], ["updated_at", "2017-02-12 21:08:14.045875"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.048240"], ["updated_at", "2017-02-12 21:08:14.048240"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.056922"], ["updated_at", "2017-02-12 21:08:14.056922"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.060565"], ["updated_at", "2017-02-12 21:08:14.060565"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.063794"], ["updated_at", "2017-02-12 21:08:14.063794"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 21:08:14.065996"], ["updated_at", "2017-02-12 21:08:14.065996"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.067773"], ["updated_at", "2017-02-12 21:08:14.067773"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 21:08:14.069340"], ["updated_at", "2017-02-12 21:08:14.069340"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$WeZ0W30rD7lRTL.5i1vNC.OFKOY2V/BchBvbRZagwIfYtZ/w9Y98W"], ["created_at", "2017-02-12 21:08:14.074180"], ["updated_at", "2017-02-12 21:08:14.074180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.076881"], ["updated_at", "2017-02-12 21:08:14.076881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.078942"], ["updated_at", "2017-02-12 21:08:14.078942"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "#<Style:0x007f876f971c80>"], ["created_at", "2017-02-12 21:08:14.080628"], ["updated_at", "2017-02-12 21:08:14.080628"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.082806"], ["updated_at", "2017-02-12 21:08:14.082806"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.084983"], ["updated_at", "2017-02-12 21:08:14.084983"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.086706"], ["updated_at", "2017-02-12 21:08:14.086706"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "#<Style:0x007f87708cb0c8>"], ["created_at", "2017-02-12 21:08:14.088291"], ["updated_at", "2017-02-12 21:08:14.088291"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.090370"], ["updated_at", "2017-02-12 21:08:14.090370"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.092514"], ["updated_at", "2017-02-12 21:08:14.092514"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.094290"], ["updated_at", "2017-02-12 21:08:14.094290"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "#<Style:0x007f876f9535c8>"], ["created_at", "2017-02-12 21:08:14.096081"], ["updated_at", "2017-02-12 21:08:14.096081"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.098992"], ["updated_at", "2017-02-12 21:08:14.098992"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.101689"], ["updated_at", "2017-02-12 21:08:14.101689"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.103579"], ["updated_at", "2017-02-12 21:08:14.103579"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 7], ["style", "#<Style:0x007f876f92b848>"], ["created_at", "2017-02-12 21:08:14.105252"], ["updated_at", "2017-02-12 21:08:14.105252"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.107409"], ["updated_at", "2017-02-12 21:08:14.107409"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.109585"], ["updated_at", "2017-02-12 21:08:14.109585"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.111353"], ["updated_at", "2017-02-12 21:08:14.111353"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 8], ["style", "#<Style:0x007f8770836220>"], ["created_at", "2017-02-12 21:08:14.112988"], ["updated_at", "2017-02-12 21:08:14.112988"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.115039"], ["updated_at", "2017-02-12 21:08:14.115039"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.117113"], ["updated_at", "2017-02-12 21:08:14.117113"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.118828"], ["updated_at", "2017-02-12 21:08:14.118828"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 9], ["style", "#<Style:0x007f876f8a2ac0>"], ["created_at", "2017-02-12 21:08:14.120420"], ["updated_at", "2017-02-12 21:08:14.120420"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.122544"], ["updated_at", "2017-02-12 21:08:14.122544"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.124845"], ["updated_at", "2017-02-12 21:08:14.124845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.127603"], ["updated_at", "2017-02-12 21:08:14.127603"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 10], ["style", "#<Style:0x007f876f87d7e8>"], ["created_at", "2017-02-12 21:08:14.129389"], ["updated_at", "2017-02-12 21:08:14.129389"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.131627"], ["updated_at", "2017-02-12 21:08:14.131627"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.133749"], ["updated_at", "2017-02-12 21:08:14.133749"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.135523"], ["updated_at", "2017-02-12 21:08:14.135523"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 11], ["style", "#<Style:0x007f876bad04b8>"], ["created_at", "2017-02-12 21:08:14.137092"], ["updated_at", "2017-02-12 21:08:14.137092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.139741"], ["updated_at", "2017-02-12 21:08:14.139741"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.141953"], ["updated_at", "2017-02-12 21:08:14.141953"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.143664"], ["updated_at", "2017-02-12 21:08:14.143664"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 12], ["style", "#<Style:0x007f8770823da0>"], ["created_at", "2017-02-12 21:08:14.145179"], ["updated_at", "2017-02-12 21:08:14.145179"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.147213"], ["updated_at", "2017-02-12 21:08:14.147213"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.149256"], ["updated_at", "2017-02-12 21:08:14.149256"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.150981"], ["updated_at", "2017-02-12 21:08:14.150981"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 13], ["style", "#<Style:0x007f876cfefc40>"], ["created_at", "2017-02-12 21:08:14.152469"], ["updated_at", "2017-02-12 21:08:14.152469"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.154517"], ["updated_at", "2017-02-12 21:08:14.154517"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.156470"], ["updated_at", "2017-02-12 21:08:14.156470"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.158361"], ["updated_at", "2017-02-12 21:08:14.158361"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 14], ["style", "#<Style:0x007f876cdbde40>"], ["created_at", "2017-02-12 21:08:14.159986"], ["updated_at", "2017-02-12 21:08:14.159986"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.162069"], ["updated_at", "2017-02-12 21:08:14.162069"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.164037"], ["updated_at", "2017-02-12 21:08:14.164037"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.165725"], ["updated_at", "2017-02-12 21:08:14.165725"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 15], ["style", "#<Style:0x007f876cfbd470>"], ["created_at", "2017-02-12 21:08:14.167359"], ["updated_at", "2017-02-12 21:08:14.167359"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.169501"], ["updated_at", "2017-02-12 21:08:14.169501"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.171687"], ["updated_at", "2017-02-12 21:08:14.171687"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.173869"], ["updated_at", "2017-02-12 21:08:14.173869"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 16], ["style", "#<Style:0x007f876ceee850>"], ["created_at", "2017-02-12 21:08:14.175584"], ["updated_at", "2017-02-12 21:08:14.175584"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.177825"], ["updated_at", "2017-02-12 21:08:14.177825"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.180670"], ["updated_at", "2017-02-12 21:08:14.180670"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.182995"], ["updated_at", "2017-02-12 21:08:14.182995"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 17], ["style", "#<Style:0x007f876ce1df20>"], ["created_at", "2017-02-12 21:08:14.184770"], ["updated_at", "2017-02-12 21:08:14.184770"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.187042"], ["updated_at", "2017-02-12 21:08:14.187042"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.189236"], ["updated_at", "2017-02-12 21:08:14.189236"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.191015"], ["updated_at", "2017-02-12 21:08:14.191015"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 18], ["style", "#<Style:0x007f876cdc4d58>"], ["created_at", "2017-02-12 21:08:14.192602"], ["updated_at", "2017-02-12 21:08:14.192602"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.194685"], ["updated_at", "2017-02-12 21:08:14.194685"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:08:14.196703"], ["updated_at", "2017-02-12 21:08:14.196703"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:08:14.198484"], ["updated_at", "2017-02-12 21:08:14.198484"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 19], ["style", "#<Style:0x007f876dbe6698>"], ["created_at", "2017-02-12 21:08:14.200058"], ["updated_at", "2017-02-12 21:08:14.200058"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:08:14.202266"], ["updated_at", "2017-02-12 21:08:14.202266"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$JeqwpQf7R7fEdrlLXJDgd.xzR4AsBQ3pa0M8ExgxoC/OHKcINFFBu"], ["created_at", "2017-02-12 21:15:39.835366"], ["updated_at", "2017-02-12 21:15:39.835366"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$dIlb9zM.TbRjvXusWNOc/Ox6KypNr/UUBt0hu9Dcj9iDRgGXW3RHG"], ["created_at", "2017-02-12 21:15:39.847365"], ["updated_at", "2017-02-12 21:15:39.847365"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:39.871270"], ["updated_at", "2017-02-12 21:15:39.871270"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:39.893971"], ["updated_at", "2017-02-12 21:15:39.893971"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fb2baa74030>"], ["created_at", "2017-02-12 21:15:39.896284"], ["updated_at", "2017-02-12 21:15:39.896284"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:39.922974"], ["updated_at", "2017-02-12 21:15:39.922974"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:39.926678"], ["updated_at", "2017-02-12 21:15:39.926678"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (3.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$VXUM0AWB3wRXhkrbUntkVOAeBVwb8hkMw3.YWjmitpCu6GzOvcNaS"], ["created_at", "2017-02-12 21:15:39.943805"], ["updated_at", "2017-02-12 21:15:39.943805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$ymbpwWuWwLRTZbiz8Mnn7uPkYQc9VZR5OT7n1Xjn7WdmnurF60Nua"], ["created_at", "2017-02-12 21:15:39.955272"], ["updated_at", "2017-02-12 21:15:39.955272"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$a2tpxOONv9TdCkfrh/pmAe2IXTYdTlSFSJnomrvsxoP2yZpNlL8Um"], ["created_at", "2017-02-12 21:15:39.966772"], ["updated_at", "2017-02-12 21:15:39.966772"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:39.969521"], ["updated_at", "2017-02-12 21:15:39.969521"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:39.971733"], ["updated_at", "2017-02-12 21:15:39.971733"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fb2b5e5b090>"], ["created_at", "2017-02-12 21:15:39.973607"], ["updated_at", "2017-02-12 21:15:39.973607"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:39.977996"], ["updated_at", "2017-02-12 21:15:39.977996"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$nl3e2TAL5kO7ZWEkXRmuS.Wyr0UeZ/yJD18vumXZP9XJ/tjOJ1vHi"], ["created_at", "2017-02-12 21:15:40.017356"], ["updated_at", "2017-02-12 21:15:40.017356"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.020114"], ["updated_at", "2017-02-12 21:15:40.020114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.022694"], ["updated_at", "2017-02-12 21:15:40.022694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fb2ba884ce8>"], ["created_at", "2017-02-12 21:15:40.024569"], ["updated_at", "2017-02-12 21:15:40.024569"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.026880"], ["updated_at", "2017-02-12 21:15:40.026880"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.028921"], ["updated_at", "2017-02-12 21:15:40.028921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.030715"], ["updated_at", "2017-02-12 21:15:40.030715"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "#<Style:0x007fb2b5d2e168>"], ["created_at", "2017-02-12 21:15:40.032298"], ["updated_at", "2017-02-12 21:15:40.032298"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.034320"], ["updated_at", "2017-02-12 21:15:40.034320"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.036295"], ["updated_at", "2017-02-12 21:15:40.036295"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.037972"], ["updated_at", "2017-02-12 21:15:40.037972"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 3], ["style", "#<Style:0x007fb2b5ced910>"], ["created_at", "2017-02-12 21:15:40.039514"], ["updated_at", "2017-02-12 21:15:40.039514"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.041564"], ["updated_at", "2017-02-12 21:15:40.041564"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.043556"], ["updated_at", "2017-02-12 21:15:40.043556"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.045237"], ["updated_at", "2017-02-12 21:15:40.045237"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "#<Style:0x007fb2b5cc4178>"], ["created_at", "2017-02-12 21:15:40.046718"], ["updated_at", "2017-02-12 21:15:40.046718"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.048835"], ["updated_at", "2017-02-12 21:15:40.048835"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.050786"], ["updated_at", "2017-02-12 21:15:40.050786"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.052466"], ["updated_at", "2017-02-12 21:15:40.052466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "#<Style:0x007fb2b5c9d708>"], ["created_at", "2017-02-12 21:15:40.054426"], ["updated_at", "2017-02-12 21:15:40.054426"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.057524"], ["updated_at", "2017-02-12 21:15:40.057524"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.059778"], ["updated_at", "2017-02-12 21:15:40.059778"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.061648"], ["updated_at", "2017-02-12 21:15:40.061648"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "#<Style:0x007fb2b57c3f20>"], ["created_at", "2017-02-12 21:15:40.063203"], ["updated_at", "2017-02-12 21:15:40.063203"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.065826"], ["updated_at", "2017-02-12 21:15:40.065826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$8ePrxwVLzaeOlhrZuPM.cO/OGIbihDqsTULaBeKZxdVT.7Q4zNT0u"], ["created_at", "2017-02-12 21:15:40.080550"], ["updated_at", "2017-02-12 21:15:40.080550"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$aPMLegsxanzXLU.ZHAFD.OxCU9JvgAQYVWU8Tm8Remrb/1TQHggXu"], ["created_at", "2017-02-12 21:15:40.088286"], ["updated_at", "2017-02-12 21:15:40.088286"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Lager"], ["created_at", "2017-02-12 21:15:40.094257"], ["updated_at", "2017-02-12 21:15:40.094257"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.097150"], ["updated_at", "2017-02-12 21:15:40.097150"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fb2b5c6c6f8>"], ["created_at", "2017-02-12 21:15:40.099422"], ["updated_at", "2017-02-12 21:15:40.099422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$T.esebX.qpiuH4A2j1owzeyc6cD2Ars4w0E7fOx4HHaOJkX3yY.La"], ["created_at", "2017-02-12 21:15:40.103787"], ["updated_at", "2017-02-12 21:15:40.103787"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.106016"], ["updated_at", "2017-02-12 21:15:40.106016"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 21:15:40.114937"], ["updated_at", "2017-02-12 21:15:40.114937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.117239"], ["updated_at", "2017-02-12 21:15:40.117239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 21:15:40.119060"], ["updated_at", "2017-02-12 21:15:40.119060"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.120826"], ["updated_at", "2017-02-12 21:15:40.120826"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$K8SpiQrghLrca0QI8snKRuZwPTJYFY1Al1lZ1BuqiCOdDkbGzogq6"], ["created_at", "2017-02-12 21:15:40.125115"], ["updated_at", "2017-02-12 21:15:40.125115"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.127466"], ["updated_at", "2017-02-12 21:15:40.127466"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.129248"], ["updated_at", "2017-02-12 21:15:40.129248"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 2], ["style", "#<Style:0x007fb2b5638278>"], ["created_at", "2017-02-12 21:15:40.130879"], ["updated_at", "2017-02-12 21:15:40.130879"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.133059"], ["updated_at", "2017-02-12 21:15:40.133059"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.135225"], ["updated_at", "2017-02-12 21:15:40.135225"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.137139"], ["updated_at", "2017-02-12 21:15:40.137139"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "#<Style:0x007fb2b5c598c8>"], ["created_at", "2017-02-12 21:15:40.138639"], ["updated_at", "2017-02-12 21:15:40.138639"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.140623"], ["updated_at", "2017-02-12 21:15:40.140623"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.142518"], ["updated_at", "2017-02-12 21:15:40.142518"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.144164"], ["updated_at", "2017-02-12 21:15:40.144164"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 4], ["style", "#<Style:0x007fb2b55b9a90>"], ["created_at", "2017-02-12 21:15:40.145703"], ["updated_at", "2017-02-12 21:15:40.145703"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.147688"], ["updated_at", "2017-02-12 21:15:40.147688"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.149670"], ["updated_at", "2017-02-12 21:15:40.149670"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.151363"], ["updated_at", "2017-02-12 21:15:40.151363"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "#<Style:0x007fb2b5578b58>"], ["created_at", "2017-02-12 21:15:40.152867"], ["updated_at", "2017-02-12 21:15:40.152867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.154908"], ["updated_at", "2017-02-12 21:15:40.154908"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.157087"], ["updated_at", "2017-02-12 21:15:40.157087"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.158749"], ["updated_at", "2017-02-12 21:15:40.158749"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 6], ["style", "#<Style:0x007fb2b75f1b50>"], ["created_at", "2017-02-12 21:15:40.160273"], ["updated_at", "2017-02-12 21:15:40.160273"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.162190"], ["updated_at", "2017-02-12 21:15:40.162190"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.164044"], ["updated_at", "2017-02-12 21:15:40.164044"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.165680"], ["updated_at", "2017-02-12 21:15:40.165680"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 7], ["style", "#<Style:0x007fb2b75aa340>"], ["created_at", "2017-02-12 21:15:40.167193"], ["updated_at", "2017-02-12 21:15:40.167193"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.169184"], ["updated_at", "2017-02-12 21:15:40.169184"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.171066"], ["updated_at", "2017-02-12 21:15:40.171066"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.172699"], ["updated_at", "2017-02-12 21:15:40.172699"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 8], ["style", "#<Style:0x007fb2b9893730>"], ["created_at", "2017-02-12 21:15:40.174188"], ["updated_at", "2017-02-12 21:15:40.174188"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.176157"], ["updated_at", "2017-02-12 21:15:40.176157"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.178104"], ["updated_at", "2017-02-12 21:15:40.178104"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.179747"], ["updated_at", "2017-02-12 21:15:40.179747"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 9], ["style", "#<Style:0x007fb2b9878fc0>"], ["created_at", "2017-02-12 21:15:40.181314"], ["updated_at", "2017-02-12 21:15:40.181314"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.183308"], ["updated_at", "2017-02-12 21:15:40.183308"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.185294"], ["updated_at", "2017-02-12 21:15:40.185294"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.186978"], ["updated_at", "2017-02-12 21:15:40.186978"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 10], ["style", "#<Style:0x007fb2b9830360>"], ["created_at", "2017-02-12 21:15:40.188519"], ["updated_at", "2017-02-12 21:15:40.188519"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.190480"], ["updated_at", "2017-02-12 21:15:40.190480"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.192365"], ["updated_at", "2017-02-12 21:15:40.192365"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.194052"], ["updated_at", "2017-02-12 21:15:40.194052"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 11], ["style", "#<Style:0x007fb2b55419f0>"], ["created_at", "2017-02-12 21:15:40.195648"], ["updated_at", "2017-02-12 21:15:40.195648"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.197536"], ["updated_at", "2017-02-12 21:15:40.197536"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.199450"], ["updated_at", "2017-02-12 21:15:40.199450"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.201032"], ["updated_at", "2017-02-12 21:15:40.201032"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 12], ["style", "#<Style:0x007fb2b74e00e0>"], ["created_at", "2017-02-12 21:15:40.202452"], ["updated_at", "2017-02-12 21:15:40.202452"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.204450"], ["updated_at", "2017-02-12 21:15:40.204450"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.206345"], ["updated_at", "2017-02-12 21:15:40.206345"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.208050"], ["updated_at", "2017-02-12 21:15:40.208050"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 13], ["style", "#<Style:0x007fb2b74a90b8>"], ["created_at", "2017-02-12 21:15:40.209538"], ["updated_at", "2017-02-12 21:15:40.209538"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.211491"], ["updated_at", "2017-02-12 21:15:40.211491"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.213367"], ["updated_at", "2017-02-12 21:15:40.213367"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.215149"], ["updated_at", "2017-02-12 21:15:40.215149"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 14], ["style", "#<Style:0x007fb2b7471898>"], ["created_at", "2017-02-12 21:15:40.216728"], ["updated_at", "2017-02-12 21:15:40.216728"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.218634"], ["updated_at", "2017-02-12 21:15:40.218634"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.220527"], ["updated_at", "2017-02-12 21:15:40.220527"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.222104"], ["updated_at", "2017-02-12 21:15:40.222104"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 15], ["style", "#<Style:0x007fb2b743bc70>"], ["created_at", "2017-02-12 21:15:40.223538"], ["updated_at", "2017-02-12 21:15:40.223538"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.225665"], ["updated_at", "2017-02-12 21:15:40.225665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.227638"], ["updated_at", "2017-02-12 21:15:40.227638"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.229295"], ["updated_at", "2017-02-12 21:15:40.229295"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 16], ["style", "#<Style:0x007fb2b4fa1798>"], ["created_at", "2017-02-12 21:15:40.230798"], ["updated_at", "2017-02-12 21:15:40.230798"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.232775"], ["updated_at", "2017-02-12 21:15:40.232775"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.234719"], ["updated_at", "2017-02-12 21:15:40.234719"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.236385"], ["updated_at", "2017-02-12 21:15:40.236385"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 17], ["style", "#<Style:0x007fb2b4f7e130>"], ["created_at", "2017-02-12 21:15:40.237954"], ["updated_at", "2017-02-12 21:15:40.237954"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.239853"], ["updated_at", "2017-02-12 21:15:40.239853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (3.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$wj.Ky8KjW/yIcu2hxGT95u8PP19iuqctKA2mSg5DJNpnr5PMfWY/m"], ["created_at", "2017-02-12 21:15:40.253666"], ["updated_at", "2017-02-12 21:15:40.253666"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$mxoVCay3s7R/NalngeNlM.QrcVs6YOHTK7bmF9Cv5AttxeMdeCatO"], ["created_at", "2017-02-12 21:15:40.261376"], ["updated_at", "2017-02-12 21:15:40.261376"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.267845"], ["updated_at", "2017-02-12 21:15:40.267845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.270712"], ["updated_at", "2017-02-12 21:15:40.270712"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "#<Style:0x007fb2b739eba0>"], ["created_at", "2017-02-12 21:15:40.272677"], ["updated_at", "2017-02-12 21:15:40.272677"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$qV4K6oRxIhrQznaYU4WeBesS3YFDq5pwkLuA3i2Uf73rfm/wKeVw6"], ["created_at", "2017-02-12 21:15:40.276923"], ["updated_at", "2017-02-12 21:15:40.276923"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.279225"], ["updated_at", "2017-02-12 21:15:40.279225"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.0ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.288040"], ["updated_at", "2017-02-12 21:15:40.288040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.291582"], ["updated_at", "2017-02-12 21:15:40.291582"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.294224"], ["updated_at", "2017-02-12 21:15:40.294224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "IPA"], ["created_at", "2017-02-12 21:15:40.296651"], ["updated_at", "2017-02-12 21:15:40.296651"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.298705"], ["updated_at", "2017-02-12 21:15:40.298705"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "stout"], ["created_at", "2017-02-12 21:15:40.300353"], ["updated_at", "2017-02-12 21:15:40.300353"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$x2r/Nd1M2g/RD3tQJWpptOo67ZEn6.91B1pJHdnYkxu3xAuyicQny"], ["created_at", "2017-02-12 21:15:40.304486"], ["updated_at", "2017-02-12 21:15:40.304486"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.306719"], ["updated_at", "2017-02-12 21:15:40.306719"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.308533"], ["updated_at", "2017-02-12 21:15:40.308533"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "#<Style:0x007fb2b4e86700>"], ["created_at", "2017-02-12 21:15:40.310156"], ["updated_at", "2017-02-12 21:15:40.310156"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.312235"], ["updated_at", "2017-02-12 21:15:40.312235"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.314238"], ["updated_at", "2017-02-12 21:15:40.314238"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.315891"], ["updated_at", "2017-02-12 21:15:40.315891"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 5], ["style", "#<Style:0x007fb2b7323400>"], ["created_at", "2017-02-12 21:15:40.317475"], ["updated_at", "2017-02-12 21:15:40.317475"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.319420"], ["updated_at", "2017-02-12 21:15:40.319420"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.321348"], ["updated_at", "2017-02-12 21:15:40.321348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.323022"], ["updated_at", "2017-02-12 21:15:40.323022"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "#<Style:0x007fb2b5c24358>"], ["created_at", "2017-02-12 21:15:40.324637"], ["updated_at", "2017-02-12 21:15:40.324637"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.326602"], ["updated_at", "2017-02-12 21:15:40.326602"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.328578"], ["updated_at", "2017-02-12 21:15:40.328578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.330352"], ["updated_at", "2017-02-12 21:15:40.330352"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 7], ["style", "#<Style:0x007fb2b5521510>"], ["created_at", "2017-02-12 21:15:40.331816"], ["updated_at", "2017-02-12 21:15:40.331816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.333866"], ["updated_at", "2017-02-12 21:15:40.333866"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.335940"], ["updated_at", "2017-02-12 21:15:40.335940"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.337634"], ["updated_at", "2017-02-12 21:15:40.337634"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 8], ["style", "#<Style:0x007fb2b72e4ca0>"], ["created_at", "2017-02-12 21:15:40.339096"], ["updated_at", "2017-02-12 21:15:40.339096"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.341115"], ["updated_at", "2017-02-12 21:15:40.341115"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.343120"], ["updated_at", "2017-02-12 21:15:40.343120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.344884"], ["updated_at", "2017-02-12 21:15:40.344884"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 9], ["style", "#<Style:0x007fb2b5bdcd00>"], ["created_at", "2017-02-12 21:15:40.346400"], ["updated_at", "2017-02-12 21:15:40.346400"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.348437"], ["updated_at", "2017-02-12 21:15:40.348437"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.350386"], ["updated_at", "2017-02-12 21:15:40.350386"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.352110"], ["updated_at", "2017-02-12 21:15:40.352110"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 10], ["style", "#<Style:0x007fb2b54dfae8>"], ["created_at", "2017-02-12 21:15:40.353591"], ["updated_at", "2017-02-12 21:15:40.353591"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 7], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.355603"], ["updated_at", "2017-02-12 21:15:40.355603"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.357569"], ["updated_at", "2017-02-12 21:15:40.357569"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.359255"], ["updated_at", "2017-02-12 21:15:40.359255"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 11], ["style", "#<Style:0x007fb2b5b74db8>"], ["created_at", "2017-02-12 21:15:40.360785"], ["updated_at", "2017-02-12 21:15:40.360785"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 8], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.362799"], ["updated_at", "2017-02-12 21:15:40.362799"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.364777"], ["updated_at", "2017-02-12 21:15:40.364777"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.366480"], ["updated_at", "2017-02-12 21:15:40.366480"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 12], ["style", "#<Style:0x007fb2b54b3858>"], ["created_at", "2017-02-12 21:15:40.368016"], ["updated_at", "2017-02-12 21:15:40.368016"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 9], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.369956"], ["updated_at", "2017-02-12 21:15:40.369956"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.371901"], ["updated_at", "2017-02-12 21:15:40.371901"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.373493"], ["updated_at", "2017-02-12 21:15:40.373493"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 13], ["style", "#<Style:0x007fb2b5b36d60>"], ["created_at", "2017-02-12 21:15:40.374972"], ["updated_at", "2017-02-12 21:15:40.374972"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 10], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.376967"], ["updated_at", "2017-02-12 21:15:40.376967"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.378911"], ["updated_at", "2017-02-12 21:15:40.378911"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.380575"], ["updated_at", "2017-02-12 21:15:40.380575"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 14], ["style", "#<Style:0x007fb2b4e4c050>"], ["created_at", "2017-02-12 21:15:40.382080"], ["updated_at", "2017-02-12 21:15:40.382080"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 11], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.384098"], ["updated_at", "2017-02-12 21:15:40.384098"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.386253"], ["updated_at", "2017-02-12 21:15:40.386253"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.387996"], ["updated_at", "2017-02-12 21:15:40.387996"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 15], ["style", "#<Style:0x007fb2b5434cb0>"], ["created_at", "2017-02-12 21:15:40.389600"], ["updated_at", "2017-02-12 21:15:40.389600"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 12], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.391658"], ["updated_at", "2017-02-12 21:15:40.391658"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.393708"], ["updated_at", "2017-02-12 21:15:40.393708"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.395491"], ["updated_at", "2017-02-12 21:15:40.395491"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 16], ["style", "#<Style:0x007fb2b5365500>"], ["created_at", "2017-02-12 21:15:40.397099"], ["updated_at", "2017-02-12 21:15:40.397099"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 13], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.399145"], ["updated_at", "2017-02-12 21:15:40.399145"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.401281"], ["updated_at", "2017-02-12 21:15:40.401281"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.402955"], ["updated_at", "2017-02-12 21:15:40.402955"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 17], ["style", "#<Style:0x007fb2b5b0f2d8>"], ["created_at", "2017-02-12 21:15:40.404499"], ["updated_at", "2017-02-12 21:15:40.404499"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 14], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.406535"], ["updated_at", "2017-02-12 21:15:40.406535"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.408569"], ["updated_at", "2017-02-12 21:15:40.408569"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.410287"], ["updated_at", "2017-02-12 21:15:40.410287"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 18], ["style", "#<Style:0x007fb2b5aac0c0>"], ["created_at", "2017-02-12 21:15:40.411806"], ["updated_at", "2017-02-12 21:15:40.411806"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 15], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.413769"], ["updated_at", "2017-02-12 21:15:40.413769"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:15:40.415744"], ["updated_at", "2017-02-12 21:15:40.415744"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "styles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "anonymous"], ["created_at", "2017-02-12 21:15:40.417445"], ["updated_at", "2017-02-12 21:15:40.417445"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 19], ["style", "#<Style:0x007fb2b52563d0>"], ["created_at", "2017-02-12 21:15:40.419014"], ["updated_at", "2017-02-12 21:15:40.419014"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 16], ["user_id", 1], ["created_at", "2017-02-12 21:15:40.421108"], ["updated_at", "2017-02-12 21:15:40.421108"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$jyZYqgIrJoOkO428sssN0uOx7DZ5efPG2yqVb.6/E7kuuLSgqCide"], ["created_at", "2017-02-12 21:35:34.664840"], ["updated_at", "2017-02-12 21:35:34.664840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$Vwltu/Yw.WWtjg9IyGWrpOSoYsQGJzH5x4xjf1mRqzxhBIHz6qwSi"], ["created_at", "2017-02-12 21:35:34.676769"], ["updated_at", "2017-02-12 21:35:34.676769"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5uemQ/Zyen2UlUMJRVmw2eYMMMf9OED5Zm6KCq4oeaTedGxzAWDRu"], ["created_at", "2017-02-12 21:35:34.687324"], ["updated_at", "2017-02-12 21:35:34.687324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$.wtUxMDThO8XArctUDoIWOOgnCgeSMwTQQrI9XLgghzfTBVsb/19W"], ["created_at", "2017-02-12 21:35:34.699328"], ["updated_at", "2017-02-12 21:35:34.699328"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.3ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$HRbB/CNUMondkKbdRtxk4uzLLyMxx8uuYk9I6snUXuZYQc.Nf3vlu"], ["created_at", "2017-02-12 21:35:34.733167"], ["updated_at", "2017-02-12 21:35:34.733167"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$tx559Q6.AVxtICcfkP9U1eBjRPH04lxcii/vrHMcNz5tV/xYZ6NRm"], ["created_at", "2017-02-12 21:35:34.740607"], ["updated_at", "2017-02-12 21:35:34.740607"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$3TuzeUFYOhWOIez6gWBswutaoOuwSVP87Txl5a/NjopmAR2raNtj."], ["created_at", "2017-02-12 21:37:01.403526"], ["updated_at", "2017-02-12 21:37:01.403526"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$41Qosx0KvgxPs2GIfq6Y1OnMb.OntYAsg98S9ERVFsgRvl8MaEvHm"], ["created_at", "2017-02-12 21:37:01.415446"], ["updated_at", "2017-02-12 21:37:01.415446"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$C1LFHol65Hnobyn/UBLF0.KDLkMq0dZtK2WfF3PWiPAk8bc54cpXK"], ["created_at", "2017-02-12 21:37:01.424596"], ["updated_at", "2017-02-12 21:37:01.424596"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$5nB5UXsx1QNSsq2ObZTfSeGWn0qAoLJephzqLX81ezbwHeo3jxauu"], ["created_at", "2017-02-12 21:37:01.435157"], ["updated_at", "2017-02-12 21:37:01.435157"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.2ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36m (1.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$xSXTK0Zlgl/se6IE5V7rpuZlRZxfZqOAwBfBIvcbVn6ZkwsYXUHg2"], ["created_at", "2017-02-12 21:37:01.468744"], ["updated_at", "2017-02-12 21:37:01.468744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ermurHvbynpn1YKXLt.eKetrvSaM/wQ52QYWLFCxU/3d92qXUTnVi"], ["created_at", "2017-02-12 21:37:01.476172"], ["updated_at", "2017-02-12 21:37:01.476172"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$WO207B5fNaFAz9U3dlMy7u92F4SQ55ULRF0jdUwRJL9uEzHFXx/wG"], ["created_at", "2017-02-12 21:38:46.005434"], ["updated_at", "2017-02-12 21:38:46.005434"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$dFWayP1L3Tp/zWhORC0yPe3ytOOjH5D3Ju.FZsXdVGQxFipCgSrGu"], ["created_at", "2017-02-12 21:38:46.017442"], ["updated_at", "2017-02-12 21:38:46.017442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:38:46.044348"], ["updated_at", "2017-02-12 21:38:46.044348"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$Y6OOMldgKPmhjrAWblolEee1gx4fTh23dg4szyFW10ujAeFTvlXUq"], ["created_at", "2017-02-12 21:38:46.064702"], ["updated_at", "2017-02-12 21:38:46.064702"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$vzBQqLGHmZ7I.HRax7OFMO.6u7oC0J5IzSspQkBiNmoWTm9GHTfHG"], ["created_at", "2017-02-12 21:38:46.075141"], ["updated_at", "2017-02-12 21:38:46.075141"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$fJTF8xUaiBdOb5QZvcehN.uXLDWdIVmHP2pyhf5yPSqGbNMQLFOr6"], ["created_at", "2017-02-12 21:38:46.105734"], ["updated_at", "2017-02-12 21:38:46.105734"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:38:46.108694"], ["updated_at", "2017-02-12 21:38:46.108694"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$a7wzuW7lUE4XVZvUHuwFX.xeO7wBt5htEELQcjKUPIGiBuhtmK26a"], ["created_at", "2017-02-12 21:38:46.117719"], ["updated_at", "2017-02-12 21:38:46.117719"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:38:46.120383"], ["updated_at", "2017-02-12 21:38:46.120383"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$yGI/ItX5QCmbhrChN/rD5e1vMHJDWX17btQy5wmLO5t9CDCQ/XkJe"], ["created_at", "2017-02-12 21:42:50.153606"], ["updated_at", "2017-02-12 21:42:50.153606"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$9VcX//HUBlvk0VcfftPg9.6dC9Wyl.x7JTgfJQq4FMAnCNkX6CHUa"], ["created_at", "2017-02-12 21:42:50.165589"], ["updated_at", "2017-02-12 21:42:50.165589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.190902"], ["updated_at", "2017-02-12 21:42:50.190902"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.204770"], ["updated_at", "2017-02-12 21:42:50.204770"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.230909"], ["updated_at", "2017-02-12 21:42:50.230909"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.234590"], ["updated_at", "2017-02-12 21:42:50.234590"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$KpY0fnpE3l/gxVWoAON.duxE56jnZDYG2J14NTqMcFnqkgSkZpm.W"], ["created_at", "2017-02-12 21:42:50.251802"], ["updated_at", "2017-02-12 21:42:50.251802"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$ha2YIrWntikgrV1FaSrsY.2StnOJvijcuc0tjFf94qEst9tdq0lsa"], ["created_at", "2017-02-12 21:42:50.262355"], ["updated_at", "2017-02-12 21:42:50.262355"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$fh30TwkZUnteGDED2kNjAOeJWM1fWGJCxXHE4yfIgIvLHtKZN7bpG"], ["created_at", "2017-02-12 21:42:50.274530"], ["updated_at", "2017-02-12 21:42:50.274530"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.277289"], ["updated_at", "2017-02-12 21:42:50.277289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.279469"], ["updated_at", "2017-02-12 21:42:50.279469"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.282556"], ["updated_at", "2017-02-12 21:42:50.282556"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$YXTHY0YLQX08jofKB9ZzPuEmevsZepE02i4yfELDycUASkIPtkgQG"], ["created_at", "2017-02-12 21:42:50.321358"], ["updated_at", "2017-02-12 21:42:50.321358"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.324245"], ["updated_at", "2017-02-12 21:42:50.324245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.326563"], ["updated_at", "2017-02-12 21:42:50.326563"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.328984"], ["updated_at", "2017-02-12 21:42:50.328984"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.331067"], ["updated_at", "2017-02-12 21:42:50.331067"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.332778"], ["updated_at", "2017-02-12 21:42:50.332778"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.334829"], ["updated_at", "2017-02-12 21:42:50.334829"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.336758"], ["updated_at", "2017-02-12 21:42:50.336758"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.338434"], ["updated_at", "2017-02-12 21:42:50.338434"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.340514"], ["updated_at", "2017-02-12 21:42:50.340514"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.342333"], ["updated_at", "2017-02-12 21:42:50.342333"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.343845"], ["updated_at", "2017-02-12 21:42:50.343845"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.345854"], ["updated_at", "2017-02-12 21:42:50.345854"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.347853"], ["updated_at", "2017-02-12 21:42:50.347853"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.349481"], ["updated_at", "2017-02-12 21:42:50.349481"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.351530"], ["updated_at", "2017-02-12 21:42:50.351530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:42:50.353808"], ["updated_at", "2017-02-12 21:42:50.353808"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:42:50.355637"], ["updated_at", "2017-02-12 21:42:50.355637"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:42:50.359478"], ["updated_at", "2017-02-12 21:42:50.359478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.1ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.1ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.8ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$tyqTlRHVnRW89/KgohD0Y.UBGOS2XPXVUFa1dxAhIxcZX5Z.JTTdm"], ["created_at", "2017-02-12 21:49:37.850667"], ["updated_at", "2017-02-12 21:49:37.850667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE ("users"."username" = 'Pekka' AND "users"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$T6CAfDD3cR/ytm/yAMTVU.DDXRjccMZ4cuDrvxZbrz8K8eT1FXL.."], ["created_at", "2017-02-12 21:49:37.862769"], ["updated_at", "2017-02-12 21:49:37.862769"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:37.887771"], ["updated_at", "2017-02-12 21:49:37.887771"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:49:37.901428"], ["updated_at", "2017-02-12 21:49:37.901428"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:49:37.928165"], ["updated_at", "2017-02-12 21:49:37.928165"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 20], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:49:37.932011"], ["updated_at", "2017-02-12 21:49:37.932011"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings" WHERE "ratings"."user_id" = ?  [["user_id", 1]]
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$08x9s450lrr7Uez/hggTn.5z/9Q2hp/PBNDtEfRvABQdeTQAoLWiq"], ["created_at", "2017-02-12 21:49:37.949278"], ["updated_at", "2017-02-12 21:49:37.949278"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["username", "Pekka"], ["password_digest", "$2a$04$JOAjsXmuKrHZIH0IJ3UY0.WTFH4gNHsynMgPdANXQorB3FO72pl2u"], ["created_at", "2017-02-12 21:49:37.960417"], ["updated_at", "2017-02-12 21:49:37.960417"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35m (1.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$nLi6yAhjFMKozqFHnyonKuQyjv2Rd0UxrvH6.9Vg.WVSuOdjyFm3i"], ["created_at", "2017-02-12 21:49:37.972360"], ["updated_at", "2017-02-12 21:49:37.972360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:37.975109"], ["updated_at", "2017-02-12 21:49:37.975109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:49:37.977388"], ["updated_at", "2017-02-12 21:49:37.977388"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:49:37.979790"], ["updated_at", "2017-02-12 21:49:37.979790"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mRating Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRating Load (0.3ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1  [["user_id", 1]]
  [1m[36mBeer Load (0.1ms)[0m  [1mSELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."username" = 'Pekka' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["username", "Pekka"], ["password_digest", "$2a$04$LC5G139b9H6WxdTMllI1DuzPQUVcc7IPY1eEs1oZS2osEZY2FOAnu"], ["created_at", "2017-02-12 21:49:37.991958"], ["updated_at", "2017-02-12 21:49:37.991958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:37.994759"], ["updated_at", "2017-02-12 21:49:37.994759"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 1], ["style", "Lager"], ["created_at", "2017-02-12 21:49:37.997043"], ["updated_at", "2017-02-12 21:49:37.997043"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 1], ["user_id", 1], ["created_at", "2017-02-12 21:49:37.999353"], ["updated_at", "2017-02-12 21:49:37.999353"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:38.001640"], ["updated_at", "2017-02-12 21:49:38.001640"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 2], ["style", "Lager"], ["created_at", "2017-02-12 21:49:38.003516"], ["updated_at", "2017-02-12 21:49:38.003516"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 2], ["user_id", 1], ["created_at", "2017-02-12 21:49:38.005537"], ["updated_at", "2017-02-12 21:49:38.005537"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:38.007374"], ["updated_at", "2017-02-12 21:49:38.007374"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 3], ["style", "Lager"], ["created_at", "2017-02-12 21:49:38.009840"], ["updated_at", "2017-02-12 21:49:38.009840"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 3], ["user_id", 1], ["created_at", "2017-02-12 21:49:38.012059"], ["updated_at", "2017-02-12 21:49:38.012059"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:38.014190"], ["updated_at", "2017-02-12 21:49:38.014190"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 4], ["style", "Lager"], ["created_at", "2017-02-12 21:49:38.015855"], ["updated_at", "2017-02-12 21:49:38.015855"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 4], ["user_id", 1], ["created_at", "2017-02-12 21:49:38.017788"], ["updated_at", "2017-02-12 21:49:38.017788"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:38.019627"], ["updated_at", "2017-02-12 21:49:38.019627"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "anonymous"], ["brewery_id", 5], ["style", "Lager"], ["created_at", "2017-02-12 21:49:38.021181"], ["updated_at", "2017-02-12 21:49:38.021181"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["score", 10], ["beer_id", 5], ["user_id", 1], ["created_at", "2017-02-12 21:49:38.023129"], ["updated_at", "2017-02-12 21:49:38.023129"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "breweries" ("name", "year", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "anonymous"], ["year", 1900], ["created_at", "2017-02-12 21:49:38.025134"], ["updated_at", "2017-02-12 21:49:38.025134"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "beers" ("name", "brewery_id", "style", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "anonymous"], ["brewery_id", 6], ["style", "Lager"], ["created_at", "2017-02-12 21:49:38.026664"], ["updated_at", "2017-02-12 21:49:38.026664"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "ratings" ("score", "beer_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["score", 10], ["beer_id", 6], ["user_id", 1], ["created_at", "2017-02-12 21:49:38.028619"], ["updated_at", "2017-02-12 21:49:38.028619"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mRating Exists (0.0ms)[0m  SELECT  1 AS one FROM "ratings" WHERE "ratings"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."user_id" = ?  ORDER BY "ratings"."score" DESC LIMIT 1[0m  [["user_id", 1]]
  [1m[35mBeer Load (0.0ms)[0m  SELECT  "beers".* FROM "beers" WHERE "beers"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (3.6ms)[0m  [1mrollback transaction[0m
